(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var Ky=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qy(i){if(i.__esModule)return i;var e=i.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(i).forEach(function(s){var a=Object.getOwnPropertyDescriptor(i,s);Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:function(){return i[s]}})}),n}var Lc={exports:{}},zo={},Fc={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp;function Gy(){if(sp)return Ae;sp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),P=Symbol.iterator;function k(L){return L===null||typeof L!="object"?null:(L=P&&L[P]||L["@@iterator"],typeof L=="function"?L:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,H={};function j(L,q,he){this.props=L,this.context=q,this.refs=H,this.updater=he||F}j.prototype.isReactComponent={},j.prototype.setState=function(L,q){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,q,"setState")},j.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function Q(){}Q.prototype=j.prototype;function J(L,q,he){this.props=L,this.context=q,this.refs=H,this.updater=he||F}var te=J.prototype=new Q;te.constructor=J,z(te,j.prototype),te.isPureReactComponent=!0;var de=Array.isArray,Ee=Object.prototype.hasOwnProperty,B={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function S(L,q,he){var Te,Se={},Pe=null,Ue=null;if(q!=null)for(Te in q.ref!==void 0&&(Ue=q.ref),q.key!==void 0&&(Pe=""+q.key),q)Ee.call(q,Te)&&!C.hasOwnProperty(Te)&&(Se[Te]=q[Te]);var ze=arguments.length-2;if(ze===1)Se.children=he;else if(1<ze){for(var $e=Array(ze),yt=0;yt<ze;yt++)$e[yt]=arguments[yt+2];Se.children=$e}if(L&&L.defaultProps)for(Te in ze=L.defaultProps,ze)Se[Te]===void 0&&(Se[Te]=ze[Te]);return{$$typeof:i,type:L,key:Pe,ref:Ue,props:Se,_owner:B.current}}function T(L,q){return{$$typeof:i,type:L.type,key:q,ref:L.ref,props:L.props,_owner:L._owner}}function A(L){return typeof L=="object"&&L!==null&&L.$$typeof===i}function R(L){var q={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(he){return q[he]})}var N=/\/+/g;function w(L,q){return typeof L=="object"&&L!==null&&L.key!=null?R(""+L.key):q.toString(36)}function pe(L,q,he,Te,Se){var Pe=typeof L;(Pe==="undefined"||Pe==="boolean")&&(L=null);var Ue=!1;if(L===null)Ue=!0;else switch(Pe){case"string":case"number":Ue=!0;break;case"object":switch(L.$$typeof){case i:case e:Ue=!0}}if(Ue)return Ue=L,Se=Se(Ue),L=Te===""?"."+w(Ue,0):Te,de(Se)?(he="",L!=null&&(he=L.replace(N,"$&/")+"/"),pe(Se,q,he,"",function(yt){return yt})):Se!=null&&(A(Se)&&(Se=T(Se,he+(!Se.key||Ue&&Ue.key===Se.key?"":(""+Se.key).replace(N,"$&/")+"/")+L)),q.push(Se)),1;if(Ue=0,Te=Te===""?".":Te+":",de(L))for(var ze=0;ze<L.length;ze++){Pe=L[ze];var $e=Te+w(Pe,ze);Ue+=pe(Pe,q,he,$e,Se)}else if($e=k(L),typeof $e=="function")for(L=$e.call(L),ze=0;!(Pe=L.next()).done;)Pe=Pe.value,$e=Te+w(Pe,ze++),Ue+=pe(Pe,q,he,$e,Se);else if(Pe==="object")throw q=String(L),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Ue}function Re(L,q,he){if(L==null)return L;var Te=[],Se=0;return pe(L,Te,"","",function(Pe){return q.call(he,Pe,Se++)}),Te}function Be(L){if(L._status===-1){var q=L._result;q=q(),q.then(function(he){(L._status===0||L._status===-1)&&(L._status=1,L._result=he)},function(he){(L._status===0||L._status===-1)&&(L._status=2,L._result=he)}),L._status===-1&&(L._status=0,L._result=q)}if(L._status===1)return L._result.default;throw L._result}var Ie={current:null},ee={transition:null},ne={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:ee,ReactCurrentOwner:B};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:Re,forEach:function(L,q,he){Re(L,function(){q.apply(this,arguments)},he)},count:function(L){var q=0;return Re(L,function(){q++}),q},toArray:function(L){return Re(L,function(q){return q})||[]},only:function(L){if(!A(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ae.Component=j,Ae.Fragment=n,Ae.Profiler=a,Ae.PureComponent=J,Ae.StrictMode=s,Ae.Suspense=g,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,Ae.act=ie,Ae.cloneElement=function(L,q,he){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Te=z({},L.props),Se=L.key,Pe=L.ref,Ue=L._owner;if(q!=null){if(q.ref!==void 0&&(Pe=q.ref,Ue=B.current),q.key!==void 0&&(Se=""+q.key),L.type&&L.type.defaultProps)var ze=L.type.defaultProps;for($e in q)Ee.call(q,$e)&&!C.hasOwnProperty($e)&&(Te[$e]=q[$e]===void 0&&ze!==void 0?ze[$e]:q[$e])}var $e=arguments.length-2;if($e===1)Te.children=he;else if(1<$e){ze=Array($e);for(var yt=0;yt<$e;yt++)ze[yt]=arguments[yt+2];Te.children=ze}return{$$typeof:i,type:L.type,key:Se,ref:Pe,props:Te,_owner:Ue}},Ae.createContext=function(L){return L={$$typeof:f,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:c,_context:L},L.Consumer=L},Ae.createElement=S,Ae.createFactory=function(L){var q=S.bind(null,L);return q.type=L,q},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(L){return{$$typeof:m,render:L}},Ae.isValidElement=A,Ae.lazy=function(L){return{$$typeof:I,_payload:{_status:-1,_result:L},_init:Be}},Ae.memo=function(L,q){return{$$typeof:_,type:L,compare:q===void 0?null:q}},Ae.startTransition=function(L){var q=ee.transition;ee.transition={};try{L()}finally{ee.transition=q}},Ae.unstable_act=ie,Ae.useCallback=function(L,q){return Ie.current.useCallback(L,q)},Ae.useContext=function(L){return Ie.current.useContext(L)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(L){return Ie.current.useDeferredValue(L)},Ae.useEffect=function(L,q){return Ie.current.useEffect(L,q)},Ae.useId=function(){return Ie.current.useId()},Ae.useImperativeHandle=function(L,q,he){return Ie.current.useImperativeHandle(L,q,he)},Ae.useInsertionEffect=function(L,q){return Ie.current.useInsertionEffect(L,q)},Ae.useLayoutEffect=function(L,q){return Ie.current.useLayoutEffect(L,q)},Ae.useMemo=function(L,q){return Ie.current.useMemo(L,q)},Ae.useReducer=function(L,q,he){return Ie.current.useReducer(L,q,he)},Ae.useRef=function(L){return Ie.current.useRef(L)},Ae.useState=function(L){return Ie.current.useState(L)},Ae.useSyncExternalStore=function(L,q,he){return Ie.current.useSyncExternalStore(L,q,he)},Ae.useTransition=function(){return Ie.current.useTransition()},Ae.version="18.3.1",Ae}var op;function Th(){return op||(op=1,Fc.exports=Gy()),Fc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ap;function Yy(){if(ap)return zo;ap=1;var i=Th(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(m,g,_){var I,P={},k=null,F=null;_!==void 0&&(k=""+_),g.key!==void 0&&(k=""+g.key),g.ref!==void 0&&(F=g.ref);for(I in g)s.call(g,I)&&!c.hasOwnProperty(I)&&(P[I]=g[I]);if(m&&m.defaultProps)for(I in g=m.defaultProps,g)P[I]===void 0&&(P[I]=g[I]);return{$$typeof:e,type:m,key:k,ref:F,props:P,_owner:a.current}}return zo.Fragment=n,zo.jsx=f,zo.jsxs=f,zo}var lp;function Xy(){return lp||(lp=1,Lc.exports=Yy()),Lc.exports}var it=Xy(),W=Th(),Cl={},Oc={exports:{}},Qt={},Mc={exports:{}},Uc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var up;function Jy(){return up||(up=1,function(i){function e(ee,ne){var ie=ee.length;ee.push(ne);e:for(;0<ie;){var L=ie-1>>>1,q=ee[L];if(0<a(q,ne))ee[L]=ne,ee[ie]=q,ie=L;else break e}}function n(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var ne=ee[0],ie=ee.pop();if(ie!==ne){ee[0]=ie;e:for(var L=0,q=ee.length,he=q>>>1;L<he;){var Te=2*(L+1)-1,Se=ee[Te],Pe=Te+1,Ue=ee[Pe];if(0>a(Se,ie))Pe<q&&0>a(Ue,Se)?(ee[L]=Ue,ee[Pe]=ie,L=Pe):(ee[L]=Se,ee[Te]=ie,L=Te);else if(Pe<q&&0>a(Ue,ie))ee[L]=Ue,ee[Pe]=ie,L=Pe;else break e}}return ne}function a(ee,ne){var ie=ee.sortIndex-ne.sortIndex;return ie!==0?ie:ee.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var g=[],_=[],I=1,P=null,k=3,F=!1,z=!1,H=!1,j=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function te(ee){for(var ne=n(_);ne!==null;){if(ne.callback===null)s(_);else if(ne.startTime<=ee)s(_),ne.sortIndex=ne.expirationTime,e(g,ne);else break;ne=n(_)}}function de(ee){if(H=!1,te(ee),!z)if(n(g)!==null)z=!0,Be(Ee);else{var ne=n(_);ne!==null&&Ie(de,ne.startTime-ee)}}function Ee(ee,ne){z=!1,H&&(H=!1,Q(S),S=-1),F=!0;var ie=k;try{for(te(ne),P=n(g);P!==null&&(!(P.expirationTime>ne)||ee&&!R());){var L=P.callback;if(typeof L=="function"){P.callback=null,k=P.priorityLevel;var q=L(P.expirationTime<=ne);ne=i.unstable_now(),typeof q=="function"?P.callback=q:P===n(g)&&s(g),te(ne)}else s(g);P=n(g)}if(P!==null)var he=!0;else{var Te=n(_);Te!==null&&Ie(de,Te.startTime-ne),he=!1}return he}finally{P=null,k=ie,F=!1}}var B=!1,C=null,S=-1,T=5,A=-1;function R(){return!(i.unstable_now()-A<T)}function N(){if(C!==null){var ee=i.unstable_now();A=ee;var ne=!0;try{ne=C(!0,ee)}finally{ne?w():(B=!1,C=null)}}else B=!1}var w;if(typeof J=="function")w=function(){J(N)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Re=pe.port2;pe.port1.onmessage=N,w=function(){Re.postMessage(null)}}else w=function(){j(N,0)};function Be(ee){C=ee,B||(B=!0,w())}function Ie(ee,ne){S=j(function(){ee(i.unstable_now())},ne)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ee){ee.callback=null},i.unstable_continueExecution=function(){z||F||(z=!0,Be(Ee))},i.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<ee?Math.floor(1e3/ee):5},i.unstable_getCurrentPriorityLevel=function(){return k},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(ee){switch(k){case 1:case 2:case 3:var ne=3;break;default:ne=k}var ie=k;k=ne;try{return ee()}finally{k=ie}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ee,ne){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ie=k;k=ee;try{return ne()}finally{k=ie}},i.unstable_scheduleCallback=function(ee,ne,ie){var L=i.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?L+ie:L):ie=L,ee){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ie+q,ee={id:I++,callback:ne,priorityLevel:ee,startTime:ie,expirationTime:q,sortIndex:-1},ie>L?(ee.sortIndex=ie,e(_,ee),n(g)===null&&ee===n(_)&&(H?(Q(S),S=-1):H=!0,Ie(de,ie-L))):(ee.sortIndex=q,e(g,ee),z||F||(z=!0,Be(Ee))),ee},i.unstable_shouldYield=R,i.unstable_wrapCallback=function(ee){var ne=k;return function(){var ie=k;k=ne;try{return ee.apply(this,arguments)}finally{k=ie}}}}(Uc)),Uc}var cp;function Zy(){return cp||(cp=1,Mc.exports=Jy()),Mc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hp;function e0(){if(hp)return Qt;hp=1;var i=Th(),e=Zy();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){f(t,r),f(t+"Capture",r)}function f(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I={},P={};function k(t){return g.call(P,t)?!0:g.call(I,t)?!1:_.test(t)?P[t]=!0:(I[t]=!0,!1)}function F(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function z(t,r,o,u){if(r===null||typeof r>"u"||F(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function H(t,r,o,u,h,p,v){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=v}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){j[t]=new H(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];j[r]=new H(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){j[t]=new H(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){j[t]=new H(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){j[t]=new H(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){j[t]=new H(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){j[t]=new H(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){j[t]=new H(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){j[t]=new H(t,5,!1,t.toLowerCase(),null,!1,!1)});var Q=/[\-:]([a-z])/g;function J(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(Q,J);j[r]=new H(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(Q,J);j[r]=new H(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(Q,J);j[r]=new H(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){j[t]=new H(t,1,!1,t.toLowerCase(),null,!1,!1)}),j.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){j[t]=new H(t,1,!1,t.toLowerCase(),null,!0,!0)});function te(t,r,o,u){var h=j.hasOwnProperty(r)?j[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(z(r,o,h,u)&&(o=null),u||h===null?k(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var de=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ee=Symbol.for("react.element"),B=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),R=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),Re=Symbol.for("react.memo"),Be=Symbol.for("react.lazy"),Ie=Symbol.for("react.offscreen"),ee=Symbol.iterator;function ne(t){return t===null||typeof t!="object"?null:(t=ee&&t[ee]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Object.assign,L;function q(t){if(L===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);L=r&&r[1]||""}return`
`+L+t}var he=!1;function Te(t,r){if(!t||he)return"";he=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(b){var u=b}Reflect.construct(t,[],r)}else{try{r.call()}catch(b){u=b}t.call(r.prototype)}else{try{throw Error()}catch(b){u=b}t()}}catch(b){if(b&&u&&typeof b.stack=="string"){for(var h=b.stack.split(`
`),p=u.stack.split(`
`),v=h.length-1,x=p.length-1;1<=v&&0<=x&&h[v]!==p[x];)x--;for(;1<=v&&0<=x;v--,x--)if(h[v]!==p[x]){if(v!==1||x!==1)do if(v--,x--,0>x||h[v]!==p[x]){var D=`
`+h[v].replace(" at new "," at ");return t.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",t.displayName)),D}while(1<=v&&0<=x);break}}}finally{he=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?q(t):""}function Se(t){switch(t.tag){case 5:return q(t.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return t=Te(t.type,!1),t;case 11:return t=Te(t.type.render,!1),t;case 1:return t=Te(t.type,!0),t;default:return""}}function Pe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case C:return"Fragment";case B:return"Portal";case T:return"Profiler";case S:return"StrictMode";case w:return"Suspense";case pe:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case R:return(t.displayName||"Context")+".Consumer";case A:return(t._context.displayName||"Context")+".Provider";case N:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Re:return r=t.displayName||null,r!==null?r:Pe(t.type)||"Memo";case Be:r=t._payload,t=t._init;try{return Pe(t(r))}catch{}}return null}function Ue(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(r);case 8:return r===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function ze(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $e(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function yt(t){var r=$e(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){u=""+v,p.call(this,v)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Kn(t){t._valueTracker||(t._valueTracker=yt(t))}function Vi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=$e(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function gr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xr(t,r){var o=r.checked;return ie({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Li(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=ze(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Hs(t,r){r=r.checked,r!=null&&te(t,"checked",r,!1)}function qs(t,r){Hs(t,r);var o=ze(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Fi(t,r.type,o):r.hasOwnProperty("defaultValue")&&Fi(t,r.type,ze(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function ca(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Fi(t,r,o){(r!=="number"||gr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Qn=Array.isArray;function Gn(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+ze(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Ws(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return ie({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Oi(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Qn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:ze(o)}}function Mi(t,r){var o=ze(r.value),u=ze(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function Ks(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function ct(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ht(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?ct(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yn,Qs=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Yn=Yn||document.createElement("div"),Yn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Yn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function yr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var Jr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zr=["Webkit","ms","Moz","O"];Object.keys(Jr).forEach(function(t){Zr.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Jr[r]=Jr[t]})});function Gs(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||Jr.hasOwnProperty(t)&&Jr[t]?(""+r).trim():r+"px"}function Ys(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=Gs(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var Xs=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Js(t,r){if(r){if(Xs[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function Zs(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ei=null;function Ui(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zi=null,sn=null,kn=null;function Bi(t){if(t=Io(t)){if(typeof zi!="function")throw Error(n(280));var r=t.stateNode;r&&(r=Ba(r),zi(t.stateNode,t.type,r))}}function Dn(t){sn?kn?kn.push(t):kn=[t]:sn=t}function eo(){if(sn){var t=sn,r=kn;if(kn=sn=null,Bi(t),r)for(t=0;t<r.length;t++)Bi(r[t])}}function ti(t,r){return t(r)}function to(){}var Xn=!1;function no(t,r,o){if(Xn)return t(r,o);Xn=!0;try{return ti(t,r,o)}finally{Xn=!1,(sn!==null||kn!==null)&&(to(),eo())}}function nt(t,r){var o=t.stateNode;if(o===null)return null;var u=Ba(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var bi=!1;if(m)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){bi=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{bi=!1}function ni(t,r,o,u,h,p,v,x,D){var b=Array.prototype.slice.call(arguments,3);try{r.apply(o,b)}catch(Y){this.onError(Y)}}var ri=!1,ji=null,gn=!1,ro=null,lu={onError:function(t){ri=!0,ji=t}};function $i(t,r,o,u,h,p,v,x,D){ri=!1,ji=null,ni.apply(lu,arguments)}function ha(t,r,o,u,h,p,v,x,D){if($i.apply(this,arguments),ri){if(ri){var b=ji;ri=!1,ji=null}else throw Error(n(198));gn||(gn=!0,ro=b)}}function yn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function ii(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function vn(t){if(yn(t)!==t)throw Error(n(188))}function fa(t){var r=t.alternate;if(!r){if(r=yn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return vn(h),t;if(p===u)return vn(h),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=p;else{for(var v=!1,x=h.child;x;){if(x===o){v=!0,o=h,u=p;break}if(x===u){v=!0,u=h,o=p;break}x=x.sibling}if(!v){for(x=p.child;x;){if(x===o){v=!0,o=p,u=h;break}if(x===u){v=!0,u=p,o=h;break}x=x.sibling}if(!v)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function io(t){return t=fa(t),t!==null?Hi(t):null}function Hi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Hi(t);if(r!==null)return r;t=t.sibling}return null}var qi=e.unstable_scheduleCallback,so=e.unstable_cancelCallback,da=e.unstable_shouldYield,uu=e.unstable_requestPaint,He=e.unstable_now,pa=e.unstable_getCurrentPriorityLevel,si=e.unstable_ImmediatePriority,vr=e.unstable_UserBlockingPriority,on=e.unstable_NormalPriority,oo=e.unstable_LowPriority,ma=e.unstable_IdlePriority,oi=null,Xt=null;function ga(t){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(oi,t,void 0,(t.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:va,ao=Math.log,ya=Math.LN2;function va(t){return t>>>=0,t===0?32:31-(ao(t)/ya|0)|0}var Wi=64,Ki=4194304;function _r(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ai(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,v=o&268435455;if(v!==0){var x=v&~h;x!==0?u=_r(x):(p&=v,p!==0&&(u=_r(p)))}else v=o&~h,v!==0?u=_r(v):p!==0&&(u=_r(p));if(u===0)return 0;if(r!==0&&r!==u&&!(r&h)&&(h=u&-u,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if(u&4&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Ot(r),h=1<<o,u|=t[o],r&=~h;return u}function cu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jn(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var v=31-Ot(p),x=1<<v,D=h[v];D===-1?(!(x&o)||x&u)&&(h[v]=cu(x,r)):D<=r&&(t.expiredLanes|=x),p&=~x}}function Jt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function li(){var t=Wi;return Wi<<=1,!(Wi&4194240)&&(Wi=64),t}function Er(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function wr(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Ot(r),t[r]=o}function je(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Ot(o),p=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~p}}function Tr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Ot(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var xe=0;function Sr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _a,Qi,Ea,wa,Ta,lo=!1,Nn=[],St=null,_n=null,En=null,Ir=new Map,an=new Map,Vn=[],hu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sa(t,r){switch(t){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":_n=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":Ir.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":an.delete(r.pointerId)}}function bt(t,r,o,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=Io(r),r!==null&&Qi(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function fu(t,r,o,u,h){switch(r){case"focusin":return St=bt(St,t,r,o,u,h),!0;case"dragenter":return _n=bt(_n,t,r,o,u,h),!0;case"mouseover":return En=bt(En,t,r,o,u,h),!0;case"pointerover":var p=h.pointerId;return Ir.set(p,bt(Ir.get(p)||null,t,r,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,an.set(p,bt(an.get(p)||null,t,r,o,u,h)),!0}return!1}function Ia(t){var r=di(t.target);if(r!==null){var o=yn(r);if(o!==null){if(r=o.tag,r===13){if(r=ii(o),r!==null){t.blockedOn=r,Ta(t.priority,function(){Ea(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zn(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Gi(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);ei=u,o.target.dispatchEvent(u),ei=null}else return r=Io(o),r!==null&&Qi(r),t.blockedOn=o,!1;r.shift()}return!0}function ui(t,r,o){Zn(t)&&o.delete(r)}function Ca(){lo=!1,St!==null&&Zn(St)&&(St=null),_n!==null&&Zn(_n)&&(_n=null),En!==null&&Zn(En)&&(En=null),Ir.forEach(ui),an.forEach(ui)}function wn(t,r){t.blockedOn===r&&(t.blockedOn=null,lo||(lo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ca)))}function Tn(t){function r(h){return wn(h,t)}if(0<Nn.length){wn(Nn[0],t);for(var o=1;o<Nn.length;o++){var u=Nn[o];u.blockedOn===t&&(u.blockedOn=null)}}for(St!==null&&wn(St,t),_n!==null&&wn(_n,t),En!==null&&wn(En,t),Ir.forEach(r),an.forEach(r),o=0;o<Vn.length;o++)u=Vn[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<Vn.length&&(o=Vn[0],o.blockedOn===null);)Ia(o),o.blockedOn===null&&Vn.shift()}var er=de.ReactCurrentBatchConfig,Cr=!0;function Qe(t,r,o,u){var h=xe,p=er.transition;er.transition=null;try{xe=1,uo(t,r,o,u)}finally{xe=h,er.transition=p}}function du(t,r,o,u){var h=xe,p=er.transition;er.transition=null;try{xe=4,uo(t,r,o,u)}finally{xe=h,er.transition=p}}function uo(t,r,o,u){if(Cr){var h=Gi(t,r,o,u);if(h===null)Iu(t,r,u,ci,o),Sa(t,u);else if(fu(h,t,r,o,u))u.stopPropagation();else if(Sa(t,u),r&4&&-1<hu.indexOf(t)){for(;h!==null;){var p=Io(h);if(p!==null&&_a(p),p=Gi(t,r,o,u),p===null&&Iu(t,r,u,ci,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else Iu(t,r,u,null,o)}}var ci=null;function Gi(t,r,o,u){if(ci=null,t=Ui(u),t=di(t),t!==null)if(r=yn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=ii(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return ci=t,null}function co(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pa()){case si:return 1;case vr:return 4;case on:case oo:return 16;case ma:return 536870912;default:return 16}default:return 16}}var Zt=null,Yi=null,jt=null;function ho(){if(jt)return jt;var t,r=Yi,o=r.length,u,h="value"in Zt?Zt.value:Zt.textContent,p=h.length;for(t=0;t<o&&r[t]===h[t];t++);var v=o-t;for(u=1;u<=v&&r[o-u]===h[p-u];u++);return jt=h.slice(t,1<u?1-u:void 0)}function Xi(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Ln(){return!0}function fo(){return!1}function It(t){function r(o,u,h,p,v){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(o=t[x],this[x]=o?o(p):p[x]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ln:fo,this.isPropagationStopped=fo,this}return ie(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ln)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ln)},persist:function(){},isPersistent:Ln}),r}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ji=It(Sn),Fn=ie({},Sn,{view:0,detail:0}),pu=It(Fn),Zi,tr,Rr,hi=ie({},Fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rr&&(Rr&&t.type==="mousemove"?(Zi=t.screenX-Rr.screenX,tr=t.screenY-Rr.screenY):tr=Zi=0,Rr=t),Zi)},movementY:function(t){return"movementY"in t?t.movementY:tr}}),es=It(hi),po=ie({},hi,{dataTransfer:0}),Ra=It(po),ts=ie({},Fn,{relatedTarget:0}),ns=It(ts),Aa=ie({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),nr=It(Aa),xa=ie({},Sn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pa=It(xa),ka=ie({},Sn,{data:0}),mo=It(ka),rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Da={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Na(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Da[t])?!!r[t]:!1}function On(){return Na}var l=ie({},Fn,{key:function(t){if(t.key){var r=rs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Xi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(t){return t.type==="keypress"?Xi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=It(l),y=ie({},hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=It(y),O=ie({},Fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On}),$=It(O),re=ie({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),be=It(re),ft=ie({},hi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ke=It(ft),vt=[9,13,27,32],at=m&&"CompositionEvent"in window,ln=null;m&&"documentMode"in document&&(ln=document.documentMode);var en=m&&"TextEvent"in window&&!ln,fi=m&&(!at||ln&&8<ln&&11>=ln),is=" ",Jh=!1;function Zh(t,r){switch(t){case"keyup":return vt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ef(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ss=!1;function qg(t,r){switch(t){case"compositionend":return ef(r);case"keypress":return r.which!==32?null:(Jh=!0,is);case"textInput":return t=r.data,t===is&&Jh?null:t;default:return null}}function Wg(t,r){if(ss)return t==="compositionend"||!at&&Zh(t,r)?(t=ho(),jt=Yi=Zt=null,ss=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return fi&&r.locale!=="ko"?null:r.data;default:return null}}var Kg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Kg[t.type]:r==="textarea"}function nf(t,r,o,u){Dn(u),r=Ma(r,"onChange"),0<r.length&&(o=new Ji("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var go=null,yo=null;function Qg(t){wf(t,0)}function Va(t){var r=cs(t);if(Vi(r))return t}function Gg(t,r){if(t==="change")return r}var rf=!1;if(m){var mu;if(m){var gu="oninput"in document;if(!gu){var sf=document.createElement("div");sf.setAttribute("oninput","return;"),gu=typeof sf.oninput=="function"}mu=gu}else mu=!1;rf=mu&&(!document.documentMode||9<document.documentMode)}function of(){go&&(go.detachEvent("onpropertychange",af),yo=go=null)}function af(t){if(t.propertyName==="value"&&Va(yo)){var r=[];nf(r,yo,t,Ui(t)),no(Qg,r)}}function Yg(t,r,o){t==="focusin"?(of(),go=r,yo=o,go.attachEvent("onpropertychange",af)):t==="focusout"&&of()}function Xg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Va(yo)}function Jg(t,r){if(t==="click")return Va(r)}function Zg(t,r){if(t==="input"||t==="change")return Va(r)}function ey(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var In=typeof Object.is=="function"?Object.is:ey;function vo(t,r){if(In(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!g.call(r,h)||!In(t[h],r[h]))return!1}return!0}function lf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uf(t,r){var o=lf(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=lf(o)}}function cf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?cf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function hf(){for(var t=window,r=gr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=gr(t.document)}return r}function yu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function ty(t){var r=hf(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&cf(o.ownerDocument.documentElement,o)){if(u!==null&&yu(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=uf(o,p);var v=uf(o,u);h&&v&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==v.node||t.focusOffset!==v.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(v.node,v.offset)):(r.setEnd(v.node,v.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ny=m&&"documentMode"in document&&11>=document.documentMode,os=null,vu=null,_o=null,_u=!1;function ff(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;_u||os==null||os!==gr(u)||(u=os,"selectionStart"in u&&yu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),_o&&vo(_o,u)||(_o=u,u=Ma(vu,"onSelect"),0<u.length&&(r=new Ji("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=os)))}function La(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var as={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionend:La("Transition","TransitionEnd")},Eu={},df={};m&&(df=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function Fa(t){if(Eu[t])return Eu[t];if(!as[t])return t;var r=as[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in df)return Eu[t]=r[o];return t}var pf=Fa("animationend"),mf=Fa("animationiteration"),gf=Fa("animationstart"),yf=Fa("transitionend"),vf=new Map,_f="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(t,r){vf.set(t,r),c(r,[t])}for(var wu=0;wu<_f.length;wu++){var Tu=_f[wu],ry=Tu.toLowerCase(),iy=Tu[0].toUpperCase()+Tu.slice(1);Ar(ry,"on"+iy)}Ar(pf,"onAnimationEnd"),Ar(mf,"onAnimationIteration"),Ar(gf,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(yf,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eo));function Ef(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,ha(u,r,void 0,t),t.currentTarget=null}function wf(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var v=u.length-1;0<=v;v--){var x=u[v],D=x.instance,b=x.currentTarget;if(x=x.listener,D!==p&&h.isPropagationStopped())break e;Ef(h,x,b),p=D}else for(v=0;v<u.length;v++){if(x=u[v],D=x.instance,b=x.currentTarget,x=x.listener,D!==p&&h.isPropagationStopped())break e;Ef(h,x,b),p=D}}}if(gn)throw t=ro,gn=!1,ro=null,t}function We(t,r){var o=r[ku];o===void 0&&(o=r[ku]=new Set);var u=t+"__bubble";o.has(u)||(Tf(r,t,2,!1),o.add(u))}function Su(t,r,o){var u=0;r&&(u|=4),Tf(o,t,u,r)}var Oa="_reactListening"+Math.random().toString(36).slice(2);function wo(t){if(!t[Oa]){t[Oa]=!0,s.forEach(function(o){o!=="selectionchange"&&(sy.has(o)||Su(o,!1,t),Su(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Oa]||(r[Oa]=!0,Su("selectionchange",!1,r))}}function Tf(t,r,o,u){switch(co(r)){case 1:var h=Qe;break;case 4:h=du;break;default:h=uo}o=h.bind(null,r,o,t),h=void 0,!bi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function Iu(t,r,o,u,h){var p=u;if(!(r&1)&&!(r&2)&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var x=u.stateNode.containerInfo;if(x===h||x.nodeType===8&&x.parentNode===h)break;if(v===4)for(v=u.return;v!==null;){var D=v.tag;if((D===3||D===4)&&(D=v.stateNode.containerInfo,D===h||D.nodeType===8&&D.parentNode===h))return;v=v.return}for(;x!==null;){if(v=di(x),v===null)return;if(D=v.tag,D===5||D===6){u=p=v;continue e}x=x.parentNode}}u=u.return}no(function(){var b=p,Y=Ui(o),X=[];e:{var G=vf.get(t);if(G!==void 0){var oe=Ji,ue=t;switch(t){case"keypress":if(Xi(o)===0)break e;case"keydown":case"keyup":oe=d;break;case"focusin":ue="focus",oe=ns;break;case"focusout":ue="blur",oe=ns;break;case"beforeblur":case"afterblur":oe=ns;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=es;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Ra;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=$;break;case pf:case mf:case gf:oe=nr;break;case yf:oe=be;break;case"scroll":oe=pu;break;case"wheel":oe=ke;break;case"copy":case"cut":case"paste":oe=Pa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=E}var ce=(r&4)!==0,rt=!ce&&t==="scroll",M=ce?G!==null?G+"Capture":null:G;ce=[];for(var V=b,U;V!==null;){U=V;var Z=U.stateNode;if(U.tag===5&&Z!==null&&(U=Z,M!==null&&(Z=nt(V,M),Z!=null&&ce.push(To(V,Z,U)))),rt)break;V=V.return}0<ce.length&&(G=new oe(G,ue,null,o,Y),X.push({event:G,listeners:ce}))}}if(!(r&7)){e:{if(G=t==="mouseover"||t==="pointerover",oe=t==="mouseout"||t==="pointerout",G&&o!==ei&&(ue=o.relatedTarget||o.fromElement)&&(di(ue)||ue[rr]))break e;if((oe||G)&&(G=Y.window===Y?Y:(G=Y.ownerDocument)?G.defaultView||G.parentWindow:window,oe?(ue=o.relatedTarget||o.toElement,oe=b,ue=ue?di(ue):null,ue!==null&&(rt=yn(ue),ue!==rt||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(oe=null,ue=b),oe!==ue)){if(ce=es,Z="onMouseLeave",M="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ce=E,Z="onPointerLeave",M="onPointerEnter",V="pointer"),rt=oe==null?G:cs(oe),U=ue==null?G:cs(ue),G=new ce(Z,V+"leave",oe,o,Y),G.target=rt,G.relatedTarget=U,Z=null,di(Y)===b&&(ce=new ce(M,V+"enter",ue,o,Y),ce.target=U,ce.relatedTarget=rt,Z=ce),rt=Z,oe&&ue)t:{for(ce=oe,M=ue,V=0,U=ce;U;U=ls(U))V++;for(U=0,Z=M;Z;Z=ls(Z))U++;for(;0<V-U;)ce=ls(ce),V--;for(;0<U-V;)M=ls(M),U--;for(;V--;){if(ce===M||M!==null&&ce===M.alternate)break t;ce=ls(ce),M=ls(M)}ce=null}else ce=null;oe!==null&&Sf(X,G,oe,ce,!1),ue!==null&&rt!==null&&Sf(X,rt,ue,ce,!0)}}e:{if(G=b?cs(b):window,oe=G.nodeName&&G.nodeName.toLowerCase(),oe==="select"||oe==="input"&&G.type==="file")var fe=Gg;else if(tf(G))if(rf)fe=Zg;else{fe=Xg;var me=Yg}else(oe=G.nodeName)&&oe.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(fe=Jg);if(fe&&(fe=fe(t,b))){nf(X,fe,o,Y);break e}me&&me(t,G,b),t==="focusout"&&(me=G._wrapperState)&&me.controlled&&G.type==="number"&&Fi(G,"number",G.value)}switch(me=b?cs(b):window,t){case"focusin":(tf(me)||me.contentEditable==="true")&&(os=me,vu=b,_o=null);break;case"focusout":_o=vu=os=null;break;case"mousedown":_u=!0;break;case"contextmenu":case"mouseup":case"dragend":_u=!1,ff(X,o,Y);break;case"selectionchange":if(ny)break;case"keydown":case"keyup":ff(X,o,Y)}var ge;if(at)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else ss?Zh(t,o)&&(_e="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(_e="onCompositionStart");_e&&(fi&&o.locale!=="ko"&&(ss||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&ss&&(ge=ho()):(Zt=Y,Yi="value"in Zt?Zt.value:Zt.textContent,ss=!0)),me=Ma(b,_e),0<me.length&&(_e=new mo(_e,t,null,o,Y),X.push({event:_e,listeners:me}),ge?_e.data=ge:(ge=ef(o),ge!==null&&(_e.data=ge)))),(ge=en?qg(t,o):Wg(t,o))&&(b=Ma(b,"onBeforeInput"),0<b.length&&(Y=new mo("onBeforeInput","beforeinput",null,o,Y),X.push({event:Y,listeners:b}),Y.data=ge))}wf(X,r)})}function To(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Ma(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=nt(t,o),p!=null&&u.unshift(To(t,p,h)),p=nt(t,r),p!=null&&u.push(To(t,p,h))),t=t.return}return u}function ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Sf(t,r,o,u,h){for(var p=r._reactName,v=[];o!==null&&o!==u;){var x=o,D=x.alternate,b=x.stateNode;if(D!==null&&D===u)break;x.tag===5&&b!==null&&(x=b,h?(D=nt(o,p),D!=null&&v.unshift(To(o,D,x))):h||(D=nt(o,p),D!=null&&v.push(To(o,D,x)))),o=o.return}v.length!==0&&t.push({event:r,listeners:v})}var oy=/\r\n?/g,ay=/\u0000|\uFFFD/g;function If(t){return(typeof t=="string"?t:""+t).replace(oy,`
`).replace(ay,"")}function Ua(t,r,o){if(r=If(r),If(t)!==r&&o)throw Error(n(425))}function za(){}var Cu=null,Ru=null;function Au(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var xu=typeof setTimeout=="function"?setTimeout:void 0,ly=typeof clearTimeout=="function"?clearTimeout:void 0,Cf=typeof Promise=="function"?Promise:void 0,uy=typeof queueMicrotask=="function"?queueMicrotask:typeof Cf<"u"?function(t){return Cf.resolve(null).then(t).catch(cy)}:xu;function cy(t){setTimeout(function(){throw t})}function Pu(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),Tn(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);Tn(r)}function xr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Rf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var us=Math.random().toString(36).slice(2),Mn="__reactFiber$"+us,So="__reactProps$"+us,rr="__reactContainer$"+us,ku="__reactEvents$"+us,hy="__reactListeners$"+us,fy="__reactHandles$"+us;function di(t){var r=t[Mn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[rr]||o[Mn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Rf(t);t!==null;){if(o=t[Mn])return o;t=Rf(t)}return r}t=o,o=t.parentNode}return null}function Io(t){return t=t[Mn]||t[rr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function cs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function Ba(t){return t[So]||null}var Du=[],hs=-1;function Pr(t){return{current:t}}function Ke(t){0>hs||(t.current=Du[hs],Du[hs]=null,hs--)}function qe(t,r){hs++,Du[hs]=t.current,t.current=r}var kr={},Pt=Pr(kr),$t=Pr(!1),pi=kr;function fs(t,r){var o=t.type.contextTypes;if(!o)return kr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in o)h[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function Ht(t){return t=t.childContextTypes,t!=null}function ba(){Ke($t),Ke(Pt)}function Af(t,r,o){if(Pt.current!==kr)throw Error(n(168));qe(Pt,r),qe($t,o)}function xf(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,Ue(t)||"Unknown",h));return ie({},o,u)}function ja(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||kr,pi=Pt.current,qe(Pt,t),qe($t,$t.current),!0}function Pf(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=xf(t,r,pi),u.__reactInternalMemoizedMergedChildContext=t,Ke($t),Ke(Pt),qe(Pt,t)):Ke($t),qe($t,o)}var ir=null,$a=!1,Nu=!1;function kf(t){ir===null?ir=[t]:ir.push(t)}function dy(t){$a=!0,kf(t)}function Dr(){if(!Nu&&ir!==null){Nu=!0;var t=0,r=xe;try{var o=ir;for(xe=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}ir=null,$a=!1}catch(h){throw ir!==null&&(ir=ir.slice(t+1)),qi(si,Dr),h}finally{xe=r,Nu=!1}}return null}var ds=[],ps=0,Ha=null,qa=0,un=[],cn=0,mi=null,sr=1,or="";function gi(t,r){ds[ps++]=qa,ds[ps++]=Ha,Ha=t,qa=r}function Df(t,r,o){un[cn++]=sr,un[cn++]=or,un[cn++]=mi,mi=t;var u=sr;t=or;var h=32-Ot(u)-1;u&=~(1<<h),o+=1;var p=32-Ot(r)+h;if(30<p){var v=h-h%5;p=(u&(1<<v)-1).toString(32),u>>=v,h-=v,sr=1<<32-Ot(r)+h|o<<h|u,or=p+t}else sr=1<<p|o<<h|u,or=t}function Vu(t){t.return!==null&&(gi(t,1),Df(t,1,0))}function Lu(t){for(;t===Ha;)Ha=ds[--ps],ds[ps]=null,qa=ds[--ps],ds[ps]=null;for(;t===mi;)mi=un[--cn],un[cn]=null,or=un[--cn],un[cn]=null,sr=un[--cn],un[cn]=null}var tn=null,nn=null,Ge=!1,Cn=null;function Nf(t,r){var o=pn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Vf(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,tn=t,nn=xr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,tn=t,nn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=mi!==null?{id:sr,overflow:or}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=pn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,tn=t,nn=null,!0):!1;default:return!1}}function Fu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ou(t){if(Ge){var r=nn;if(r){var o=r;if(!Vf(t,r)){if(Fu(t))throw Error(n(418));r=xr(o.nextSibling);var u=tn;r&&Vf(t,r)?Nf(u,o):(t.flags=t.flags&-4097|2,Ge=!1,tn=t)}}else{if(Fu(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ge=!1,tn=t}}}function Lf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function Wa(t){if(t!==tn)return!1;if(!Ge)return Lf(t),Ge=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Au(t.type,t.memoizedProps)),r&&(r=nn)){if(Fu(t))throw Ff(),Error(n(418));for(;r;)Nf(t,r),r=xr(r.nextSibling)}if(Lf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){nn=xr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}nn=null}}else nn=tn?xr(t.stateNode.nextSibling):null;return!0}function Ff(){for(var t=nn;t;)t=xr(t.nextSibling)}function ms(){nn=tn=null,Ge=!1}function Mu(t){Cn===null?Cn=[t]:Cn.push(t)}var py=de.ReactCurrentBatchConfig;function Co(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(v){var x=h.refs;v===null?delete x[p]:x[p]=v},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function Ka(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Of(t){var r=t._init;return r(t._payload)}function Mf(t){function r(M,V){if(t){var U=M.deletions;U===null?(M.deletions=[V],M.flags|=16):U.push(V)}}function o(M,V){if(!t)return null;for(;V!==null;)r(M,V),V=V.sibling;return null}function u(M,V){for(M=new Map;V!==null;)V.key!==null?M.set(V.key,V):M.set(V.index,V),V=V.sibling;return M}function h(M,V){return M=zr(M,V),M.index=0,M.sibling=null,M}function p(M,V,U){return M.index=U,t?(U=M.alternate,U!==null?(U=U.index,U<V?(M.flags|=2,V):U):(M.flags|=2,V)):(M.flags|=1048576,V)}function v(M){return t&&M.alternate===null&&(M.flags|=2),M}function x(M,V,U,Z){return V===null||V.tag!==6?(V=xc(U,M.mode,Z),V.return=M,V):(V=h(V,U),V.return=M,V)}function D(M,V,U,Z){var fe=U.type;return fe===C?Y(M,V,U.props.children,Z,U.key):V!==null&&(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Be&&Of(fe)===V.type)?(Z=h(V,U.props),Z.ref=Co(M,V,U),Z.return=M,Z):(Z=yl(U.type,U.key,U.props,null,M.mode,Z),Z.ref=Co(M,V,U),Z.return=M,Z)}function b(M,V,U,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==U.containerInfo||V.stateNode.implementation!==U.implementation?(V=Pc(U,M.mode,Z),V.return=M,V):(V=h(V,U.children||[]),V.return=M,V)}function Y(M,V,U,Z,fe){return V===null||V.tag!==7?(V=Ii(U,M.mode,Z,fe),V.return=M,V):(V=h(V,U),V.return=M,V)}function X(M,V,U){if(typeof V=="string"&&V!==""||typeof V=="number")return V=xc(""+V,M.mode,U),V.return=M,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Ee:return U=yl(V.type,V.key,V.props,null,M.mode,U),U.ref=Co(M,null,V),U.return=M,U;case B:return V=Pc(V,M.mode,U),V.return=M,V;case Be:var Z=V._init;return X(M,Z(V._payload),U)}if(Qn(V)||ne(V))return V=Ii(V,M.mode,U,null),V.return=M,V;Ka(M,V)}return null}function G(M,V,U,Z){var fe=V!==null?V.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return fe!==null?null:x(M,V,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Ee:return U.key===fe?D(M,V,U,Z):null;case B:return U.key===fe?b(M,V,U,Z):null;case Be:return fe=U._init,G(M,V,fe(U._payload),Z)}if(Qn(U)||ne(U))return fe!==null?null:Y(M,V,U,Z,null);Ka(M,U)}return null}function oe(M,V,U,Z,fe){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return M=M.get(U)||null,x(V,M,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Ee:return M=M.get(Z.key===null?U:Z.key)||null,D(V,M,Z,fe);case B:return M=M.get(Z.key===null?U:Z.key)||null,b(V,M,Z,fe);case Be:var me=Z._init;return oe(M,V,U,me(Z._payload),fe)}if(Qn(Z)||ne(Z))return M=M.get(U)||null,Y(V,M,Z,fe,null);Ka(V,Z)}return null}function ue(M,V,U,Z){for(var fe=null,me=null,ge=V,_e=V=0,wt=null;ge!==null&&_e<U.length;_e++){ge.index>_e?(wt=ge,ge=null):wt=ge.sibling;var Me=G(M,ge,U[_e],Z);if(Me===null){ge===null&&(ge=wt);break}t&&ge&&Me.alternate===null&&r(M,ge),V=p(Me,V,_e),me===null?fe=Me:me.sibling=Me,me=Me,ge=wt}if(_e===U.length)return o(M,ge),Ge&&gi(M,_e),fe;if(ge===null){for(;_e<U.length;_e++)ge=X(M,U[_e],Z),ge!==null&&(V=p(ge,V,_e),me===null?fe=ge:me.sibling=ge,me=ge);return Ge&&gi(M,_e),fe}for(ge=u(M,ge);_e<U.length;_e++)wt=oe(ge,M,_e,U[_e],Z),wt!==null&&(t&&wt.alternate!==null&&ge.delete(wt.key===null?_e:wt.key),V=p(wt,V,_e),me===null?fe=wt:me.sibling=wt,me=wt);return t&&ge.forEach(function(Br){return r(M,Br)}),Ge&&gi(M,_e),fe}function ce(M,V,U,Z){var fe=ne(U);if(typeof fe!="function")throw Error(n(150));if(U=fe.call(U),U==null)throw Error(n(151));for(var me=fe=null,ge=V,_e=V=0,wt=null,Me=U.next();ge!==null&&!Me.done;_e++,Me=U.next()){ge.index>_e?(wt=ge,ge=null):wt=ge.sibling;var Br=G(M,ge,Me.value,Z);if(Br===null){ge===null&&(ge=wt);break}t&&ge&&Br.alternate===null&&r(M,ge),V=p(Br,V,_e),me===null?fe=Br:me.sibling=Br,me=Br,ge=wt}if(Me.done)return o(M,ge),Ge&&gi(M,_e),fe;if(ge===null){for(;!Me.done;_e++,Me=U.next())Me=X(M,Me.value,Z),Me!==null&&(V=p(Me,V,_e),me===null?fe=Me:me.sibling=Me,me=Me);return Ge&&gi(M,_e),fe}for(ge=u(M,ge);!Me.done;_e++,Me=U.next())Me=oe(ge,M,_e,Me.value,Z),Me!==null&&(t&&Me.alternate!==null&&ge.delete(Me.key===null?_e:Me.key),V=p(Me,V,_e),me===null?fe=Me:me.sibling=Me,me=Me);return t&&ge.forEach(function(Wy){return r(M,Wy)}),Ge&&gi(M,_e),fe}function rt(M,V,U,Z){if(typeof U=="object"&&U!==null&&U.type===C&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case Ee:e:{for(var fe=U.key,me=V;me!==null;){if(me.key===fe){if(fe=U.type,fe===C){if(me.tag===7){o(M,me.sibling),V=h(me,U.props.children),V.return=M,M=V;break e}}else if(me.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Be&&Of(fe)===me.type){o(M,me.sibling),V=h(me,U.props),V.ref=Co(M,me,U),V.return=M,M=V;break e}o(M,me);break}else r(M,me);me=me.sibling}U.type===C?(V=Ii(U.props.children,M.mode,Z,U.key),V.return=M,M=V):(Z=yl(U.type,U.key,U.props,null,M.mode,Z),Z.ref=Co(M,V,U),Z.return=M,M=Z)}return v(M);case B:e:{for(me=U.key;V!==null;){if(V.key===me)if(V.tag===4&&V.stateNode.containerInfo===U.containerInfo&&V.stateNode.implementation===U.implementation){o(M,V.sibling),V=h(V,U.children||[]),V.return=M,M=V;break e}else{o(M,V);break}else r(M,V);V=V.sibling}V=Pc(U,M.mode,Z),V.return=M,M=V}return v(M);case Be:return me=U._init,rt(M,V,me(U._payload),Z)}if(Qn(U))return ue(M,V,U,Z);if(ne(U))return ce(M,V,U,Z);Ka(M,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,V!==null&&V.tag===6?(o(M,V.sibling),V=h(V,U),V.return=M,M=V):(o(M,V),V=xc(U,M.mode,Z),V.return=M,M=V),v(M)):o(M,V)}return rt}var gs=Mf(!0),Uf=Mf(!1),Qa=Pr(null),Ga=null,ys=null,Uu=null;function zu(){Uu=ys=Ga=null}function Bu(t){var r=Qa.current;Ke(Qa),t._currentValue=r}function bu(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function vs(t,r){Ga=t,Uu=ys=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(qt=!0),t.firstContext=null)}function hn(t){var r=t._currentValue;if(Uu!==t)if(t={context:t,memoizedValue:r,next:null},ys===null){if(Ga===null)throw Error(n(308));ys=t,Ga.dependencies={lanes:0,firstContext:t}}else ys=ys.next=t;return r}var yi=null;function ju(t){yi===null?yi=[t]:yi.push(t)}function zf(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,ju(r)):(o.next=h.next,h.next=o),r.interleaved=o,ar(t,u)}function ar(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Nr=!1;function $u(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Vr(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,Fe&2){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,ar(t,o)}return h=u.interleaved,h===null?(r.next=r,ju(u)):(r.next=h.next,h.next=r),u.interleaved=r,ar(t,o)}function Ya(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Tr(t,o)}}function bf(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var v={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?h=p=v:p=p.next=v,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function Xa(t,r,o,u){var h=t.updateQueue;Nr=!1;var p=h.firstBaseUpdate,v=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var D=x,b=D.next;D.next=null,v===null?p=b:v.next=b,v=D;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,x=Y.lastBaseUpdate,x!==v&&(x===null?Y.firstBaseUpdate=b:x.next=b,Y.lastBaseUpdate=D))}if(p!==null){var X=h.baseState;v=0,Y=b=D=null,x=p;do{var G=x.lane,oe=x.eventTime;if((u&G)===G){Y!==null&&(Y=Y.next={eventTime:oe,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var ue=t,ce=x;switch(G=r,oe=o,ce.tag){case 1:if(ue=ce.payload,typeof ue=="function"){X=ue.call(oe,X,G);break e}X=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ce.payload,G=typeof ue=="function"?ue.call(oe,X,G):ue,G==null)break e;X=ie({},X,G);break e;case 2:Nr=!0}}x.callback!==null&&x.lane!==0&&(t.flags|=64,G=h.effects,G===null?h.effects=[x]:G.push(x))}else oe={eventTime:oe,lane:G,tag:x.tag,payload:x.payload,callback:x.callback,next:null},Y===null?(b=Y=oe,D=X):Y=Y.next=oe,v|=G;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;G=x,x=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);if(Y===null&&(D=X),h.baseState=D,h.firstBaseUpdate=b,h.lastBaseUpdate=Y,r=h.shared.interleaved,r!==null){h=r;do v|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);Ei|=v,t.lanes=v,t.memoizedState=X}}function jf(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var Ro={},Un=Pr(Ro),Ao=Pr(Ro),xo=Pr(Ro);function vi(t){if(t===Ro)throw Error(n(174));return t}function Hu(t,r){switch(qe(xo,r),qe(Ao,t),qe(Un,Ro),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ht(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ht(r,t)}Ke(Un),qe(Un,r)}function _s(){Ke(Un),Ke(Ao),Ke(xo)}function $f(t){vi(xo.current);var r=vi(Un.current),o=ht(r,t.type);r!==o&&(qe(Ao,t),qe(Un,o))}function qu(t){Ao.current===t&&(Ke(Un),Ke(Ao))}var Ye=Pr(0);function Ja(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Wu=[];function Ku(){for(var t=0;t<Wu.length;t++)Wu[t]._workInProgressVersionPrimary=null;Wu.length=0}var Za=de.ReactCurrentDispatcher,Qu=de.ReactCurrentBatchConfig,_i=0,Xe=null,dt=null,_t=null,el=!1,Po=!1,ko=0,my=0;function kt(){throw Error(n(321))}function Gu(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!In(t[o],r[o]))return!1;return!0}function Yu(t,r,o,u,h,p){if(_i=p,Xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Za.current=t===null||t.memoizedState===null?_y:Ey,t=o(u,h),Po){p=0;do{if(Po=!1,ko=0,25<=p)throw Error(n(301));p+=1,_t=dt=null,r.updateQueue=null,Za.current=wy,t=o(u,h)}while(Po)}if(Za.current=rl,r=dt!==null&&dt.next!==null,_i=0,_t=dt=Xe=null,el=!1,r)throw Error(n(300));return t}function Xu(){var t=ko!==0;return ko=0,t}function zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Xe.memoizedState=_t=t:_t=_t.next=t,_t}function fn(){if(dt===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var r=_t===null?Xe.memoizedState:_t.next;if(r!==null)_t=r,dt=t;else{if(t===null)throw Error(n(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},_t===null?Xe.memoizedState=_t=t:_t=_t.next=t}return _t}function Do(t,r){return typeof r=="function"?r(t):r}function Ju(t){var r=fn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=dt,h=u.baseQueue,p=o.pending;if(p!==null){if(h!==null){var v=h.next;h.next=p.next,p.next=v}u.baseQueue=h=p,o.pending=null}if(h!==null){p=h.next,u=u.baseState;var x=v=null,D=null,b=p;do{var Y=b.lane;if((_i&Y)===Y)D!==null&&(D=D.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),u=b.hasEagerState?b.eagerState:t(u,b.action);else{var X={lane:Y,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};D===null?(x=D=X,v=u):D=D.next=X,Xe.lanes|=Y,Ei|=Y}b=b.next}while(b!==null&&b!==p);D===null?v=u:D.next=x,In(u,r.memoizedState)||(qt=!0),r.memoizedState=u,r.baseState=v,r.baseQueue=D,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do p=h.lane,Xe.lanes|=p,Ei|=p,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Zu(t){var r=fn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var v=h=h.next;do p=t(p,v.action),v=v.next;while(v!==h);In(p,r.memoizedState)||(qt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function Hf(){}function qf(t,r){var o=Xe,u=fn(),h=r(),p=!In(u.memoizedState,h);if(p&&(u.memoizedState=h,qt=!0),u=u.queue,ec(Qf.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||_t!==null&&_t.memoizedState.tag&1){if(o.flags|=2048,No(9,Kf.bind(null,o,u,h,r),void 0,null),Et===null)throw Error(n(349));_i&30||Wf(o,r,h)}return h}function Wf(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Xe.updateQueue,r===null?(r={lastEffect:null,stores:null},Xe.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Kf(t,r,o,u){r.value=o,r.getSnapshot=u,Gf(r)&&Yf(t)}function Qf(t,r,o){return o(function(){Gf(r)&&Yf(t)})}function Gf(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!In(t,o)}catch{return!0}}function Yf(t){var r=ar(t,1);r!==null&&Pn(r,t,1,-1)}function Xf(t){var r=zn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:t},r.queue=t,t=t.dispatch=vy.bind(null,Xe,t),[r.memoizedState,t]}function No(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Xe.updateQueue,r===null?(r={lastEffect:null,stores:null},Xe.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function Jf(){return fn().memoizedState}function tl(t,r,o,u){var h=zn();Xe.flags|=t,h.memoizedState=No(1|r,o,void 0,u===void 0?null:u)}function nl(t,r,o,u){var h=fn();u=u===void 0?null:u;var p=void 0;if(dt!==null){var v=dt.memoizedState;if(p=v.destroy,u!==null&&Gu(u,v.deps)){h.memoizedState=No(r,o,p,u);return}}Xe.flags|=t,h.memoizedState=No(1|r,o,p,u)}function Zf(t,r){return tl(8390656,8,t,r)}function ec(t,r){return nl(2048,8,t,r)}function ed(t,r){return nl(4,2,t,r)}function td(t,r){return nl(4,4,t,r)}function nd(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function rd(t,r,o){return o=o!=null?o.concat([t]):null,nl(4,4,nd.bind(null,r,t),o)}function tc(){}function id(t,r){var o=fn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Gu(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function sd(t,r){var o=fn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Gu(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function od(t,r,o){return _i&21?(In(o,r)||(o=li(),Xe.lanes|=o,Ei|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,qt=!0),t.memoizedState=o)}function gy(t,r){var o=xe;xe=o!==0&&4>o?o:4,t(!0);var u=Qu.transition;Qu.transition={};try{t(!1),r()}finally{xe=o,Qu.transition=u}}function ad(){return fn().memoizedState}function yy(t,r,o){var u=Mr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},ld(t))ud(r,o);else if(o=zf(t,r,o,u),o!==null){var h=zt();Pn(o,t,u,h),cd(o,r,u)}}function vy(t,r,o){var u=Mr(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(ld(t))ud(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var v=r.lastRenderedState,x=p(v,o);if(h.hasEagerState=!0,h.eagerState=x,In(x,v)){var D=r.interleaved;D===null?(h.next=h,ju(r)):(h.next=D.next,D.next=h),r.interleaved=h;return}}catch{}finally{}o=zf(t,r,h,u),o!==null&&(h=zt(),Pn(o,t,u,h),cd(o,r,u))}}function ld(t){var r=t.alternate;return t===Xe||r!==null&&r===Xe}function ud(t,r){Po=el=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function cd(t,r,o){if(o&4194240){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Tr(t,o)}}var rl={readContext:hn,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},_y={readContext:hn,useCallback:function(t,r){return zn().memoizedState=[t,r===void 0?null:r],t},useContext:hn,useEffect:Zf,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,tl(4194308,4,nd.bind(null,r,t),o)},useLayoutEffect:function(t,r){return tl(4194308,4,t,r)},useInsertionEffect:function(t,r){return tl(4,2,t,r)},useMemo:function(t,r){var o=zn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=zn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=yy.bind(null,Xe,t),[u.memoizedState,t]},useRef:function(t){var r=zn();return t={current:t},r.memoizedState=t},useState:Xf,useDebugValue:tc,useDeferredValue:function(t){return zn().memoizedState=t},useTransition:function(){var t=Xf(!1),r=t[0];return t=gy.bind(null,t[1]),zn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Xe,h=zn();if(Ge){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),Et===null)throw Error(n(349));_i&30||Wf(u,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,Zf(Qf.bind(null,u,p,t),[t]),u.flags|=2048,No(9,Kf.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=zn(),r=Et.identifierPrefix;if(Ge){var o=or,u=sr;o=(u&~(1<<32-Ot(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=ko++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=my++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Ey={readContext:hn,useCallback:id,useContext:hn,useEffect:ec,useImperativeHandle:rd,useInsertionEffect:ed,useLayoutEffect:td,useMemo:sd,useReducer:Ju,useRef:Jf,useState:function(){return Ju(Do)},useDebugValue:tc,useDeferredValue:function(t){var r=fn();return od(r,dt.memoizedState,t)},useTransition:function(){var t=Ju(Do)[0],r=fn().memoizedState;return[t,r]},useMutableSource:Hf,useSyncExternalStore:qf,useId:ad,unstable_isNewReconciler:!1},wy={readContext:hn,useCallback:id,useContext:hn,useEffect:ec,useImperativeHandle:rd,useInsertionEffect:ed,useLayoutEffect:td,useMemo:sd,useReducer:Zu,useRef:Jf,useState:function(){return Zu(Do)},useDebugValue:tc,useDeferredValue:function(t){var r=fn();return dt===null?r.memoizedState=t:od(r,dt.memoizedState,t)},useTransition:function(){var t=Zu(Do)[0],r=fn().memoizedState;return[t,r]},useMutableSource:Hf,useSyncExternalStore:qf,useId:ad,unstable_isNewReconciler:!1};function Rn(t,r){if(t&&t.defaultProps){r=ie({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function nc(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:ie({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var il={isMounted:function(t){return(t=t._reactInternals)?yn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=zt(),h=Mr(t),p=lr(u,h);p.payload=r,o!=null&&(p.callback=o),r=Vr(t,p,h),r!==null&&(Pn(r,t,h,u),Ya(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=zt(),h=Mr(t),p=lr(u,h);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Vr(t,p,h),r!==null&&(Pn(r,t,h,u),Ya(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=zt(),u=Mr(t),h=lr(o,u);h.tag=2,r!=null&&(h.callback=r),r=Vr(t,h,u),r!==null&&(Pn(r,t,u,o),Ya(r,t,u))}};function hd(t,r,o,u,h,p,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,v):r.prototype&&r.prototype.isPureReactComponent?!vo(o,u)||!vo(h,p):!0}function fd(t,r,o){var u=!1,h=kr,p=r.contextType;return typeof p=="object"&&p!==null?p=hn(p):(h=Ht(r)?pi:Pt.current,u=r.contextTypes,p=(u=u!=null)?fs(t,h):kr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=il,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),r}function dd(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&il.enqueueReplaceState(r,r.state,null)}function rc(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},$u(t);var p=r.contextType;typeof p=="object"&&p!==null?h.context=hn(p):(p=Ht(r)?pi:Pt.current,h.context=fs(t,p)),h.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(nc(t,r,p,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&il.enqueueReplaceState(h,h.state,null),Xa(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Es(t,r){try{var o="",u=r;do o+=Se(u),u=u.return;while(u);var h=o}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:h,digest:null}}function ic(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function sc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var Ty=typeof WeakMap=="function"?WeakMap:Map;function pd(t,r,o){o=lr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){hl||(hl=!0,Ec=u),sc(t,r)},o}function md(t,r,o){o=lr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){sc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){sc(t,r),typeof u!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})}),o}function gd(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new Ty;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=Oy.bind(null,t,r,o),r.then(t,t))}function yd(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function vd(t,r,o,u,h){return t.mode&1?(t.flags|=65536,t.lanes=h,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=lr(-1,1),r.tag=2,Vr(o,r,1))),o.lanes|=1),t)}var Sy=de.ReactCurrentOwner,qt=!1;function Ut(t,r,o,u){r.child=t===null?Uf(r,null,o,u):gs(r,t.child,o,u)}function _d(t,r,o,u,h){o=o.render;var p=r.ref;return vs(r,h),u=Yu(t,r,o,u,p,h),o=Xu(),t!==null&&!qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,ur(t,r,h)):(Ge&&o&&Vu(r),r.flags|=1,Ut(t,r,u,h),r.child)}function Ed(t,r,o,u,h){if(t===null){var p=o.type;return typeof p=="function"&&!Ac(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,wd(t,r,p,u,h)):(t=yl(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!(t.lanes&h)){var v=p.memoizedProps;if(o=o.compare,o=o!==null?o:vo,o(v,u)&&t.ref===r.ref)return ur(t,r,h)}return r.flags|=1,t=zr(p,u),t.ref=r.ref,t.return=r,r.child=t}function wd(t,r,o,u,h){if(t!==null){var p=t.memoizedProps;if(vo(p,u)&&t.ref===r.ref)if(qt=!1,r.pendingProps=u=p,(t.lanes&h)!==0)t.flags&131072&&(qt=!0);else return r.lanes=t.lanes,ur(t,r,h)}return oc(t,r,o,u,h)}function Td(t,r,o){var u=r.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Ts,rn),rn|=o;else{if(!(o&1073741824))return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,qe(Ts,rn),rn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,qe(Ts,rn),rn|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,qe(Ts,rn),rn|=u;return Ut(t,r,h,o),r.child}function Sd(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function oc(t,r,o,u,h){var p=Ht(o)?pi:Pt.current;return p=fs(r,p),vs(r,h),o=Yu(t,r,o,u,p,h),u=Xu(),t!==null&&!qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,ur(t,r,h)):(Ge&&u&&Vu(r),r.flags|=1,Ut(t,r,o,h),r.child)}function Id(t,r,o,u,h){if(Ht(o)){var p=!0;ja(r)}else p=!1;if(vs(r,h),r.stateNode===null)ol(t,r),fd(r,o,u),rc(r,o,u,h),u=!0;else if(t===null){var v=r.stateNode,x=r.memoizedProps;v.props=x;var D=v.context,b=o.contextType;typeof b=="object"&&b!==null?b=hn(b):(b=Ht(o)?pi:Pt.current,b=fs(r,b));var Y=o.getDerivedStateFromProps,X=typeof Y=="function"||typeof v.getSnapshotBeforeUpdate=="function";X||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(x!==u||D!==b)&&dd(r,v,u,b),Nr=!1;var G=r.memoizedState;v.state=G,Xa(r,u,v,h),D=r.memoizedState,x!==u||G!==D||$t.current||Nr?(typeof Y=="function"&&(nc(r,o,Y,u),D=r.memoizedState),(x=Nr||hd(r,o,x,u,G,D,b))?(X||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=D),v.props=u,v.state=D,v.context=b,u=x):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{v=r.stateNode,Bf(t,r),x=r.memoizedProps,b=r.type===r.elementType?x:Rn(r.type,x),v.props=b,X=r.pendingProps,G=v.context,D=o.contextType,typeof D=="object"&&D!==null?D=hn(D):(D=Ht(o)?pi:Pt.current,D=fs(r,D));var oe=o.getDerivedStateFromProps;(Y=typeof oe=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(x!==X||G!==D)&&dd(r,v,u,D),Nr=!1,G=r.memoizedState,v.state=G,Xa(r,u,v,h);var ue=r.memoizedState;x!==X||G!==ue||$t.current||Nr?(typeof oe=="function"&&(nc(r,o,oe,u),ue=r.memoizedState),(b=Nr||hd(r,o,b,u,G,ue,D)||!1)?(Y||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,ue,D),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,ue,D)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||x===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ue),v.props=u,v.state=ue,v.context=D,u=b):(typeof v.componentDidUpdate!="function"||x===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),u=!1)}return ac(t,r,o,u,p,h)}function ac(t,r,o,u,h,p){Sd(t,r);var v=(r.flags&128)!==0;if(!u&&!v)return h&&Pf(r,o,!1),ur(t,r,p);u=r.stateNode,Sy.current=r;var x=v&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&v?(r.child=gs(r,t.child,null,p),r.child=gs(r,null,x,p)):Ut(t,r,x,p),r.memoizedState=u.state,h&&Pf(r,o,!0),r.child}function Cd(t){var r=t.stateNode;r.pendingContext?Af(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Af(t,r.context,!1),Hu(t,r.containerInfo)}function Rd(t,r,o,u,h){return ms(),Mu(h),r.flags|=256,Ut(t,r,o,u),r.child}var lc={dehydrated:null,treeContext:null,retryLane:0};function uc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ad(t,r,o){var u=r.pendingProps,h=Ye.current,p=!1,v=(r.flags&128)!==0,x;if((x=v)||(x=t!==null&&t.memoizedState===null?!1:(h&2)!==0),x?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),qe(Ye,h&1),t===null)return Ou(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(v=u.children,t=u.fallback,p?(u=r.mode,p=r.child,v={mode:"hidden",children:v},!(u&1)&&p!==null?(p.childLanes=0,p.pendingProps=v):p=vl(v,u,0,null),t=Ii(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=uc(o),r.memoizedState=lc,t):cc(r,v));if(h=t.memoizedState,h!==null&&(x=h.dehydrated,x!==null))return Iy(t,r,v,u,x,h,o);if(p){p=u.fallback,v=r.mode,h=t.child,x=h.sibling;var D={mode:"hidden",children:u.children};return!(v&1)&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=D,r.deletions=null):(u=zr(h,D),u.subtreeFlags=h.subtreeFlags&14680064),x!==null?p=zr(x,p):(p=Ii(p,v,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,v=t.child.memoizedState,v=v===null?uc(o):{baseLanes:v.baseLanes|o,cachePool:null,transitions:v.transitions},p.memoizedState=v,p.childLanes=t.childLanes&~o,r.memoizedState=lc,u}return p=t.child,t=p.sibling,u=zr(p,{mode:"visible",children:u.children}),!(r.mode&1)&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function cc(t,r){return r=vl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function sl(t,r,o,u){return u!==null&&Mu(u),gs(r,t.child,null,o),t=cc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Iy(t,r,o,u,h,p,v){if(o)return r.flags&256?(r.flags&=-257,u=ic(Error(n(422))),sl(t,r,v,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,h=r.mode,u=vl({mode:"visible",children:u.children},h,0,null),p=Ii(p,h,v,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,r.mode&1&&gs(r,t.child,null,v),r.child.memoizedState=uc(v),r.memoizedState=lc,p);if(!(r.mode&1))return sl(t,r,v,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var x=u.dgst;return u=x,p=Error(n(419)),u=ic(p,u,void 0),sl(t,r,v,u)}if(x=(v&t.childLanes)!==0,qt||x){if(u=Et,u!==null){switch(v&-v){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|v)?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,ar(t,h),Pn(u,t,h,-1))}return Rc(),u=ic(Error(n(421))),sl(t,r,v,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=My.bind(null,t),h._reactRetry=r,null):(t=p.treeContext,nn=xr(h.nextSibling),tn=r,Ge=!0,Cn=null,t!==null&&(un[cn++]=sr,un[cn++]=or,un[cn++]=mi,sr=t.id,or=t.overflow,mi=r),r=cc(r,u.children),r.flags|=4096,r)}function xd(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),bu(t.return,r,o)}function hc(t,r,o,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function Pd(t,r,o){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(Ut(t,r,u.children,o),u=Ye.current,u&2)u=u&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xd(t,o,r);else if(t.tag===19)xd(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(qe(Ye,u),!(r.mode&1))r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&Ja(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),hc(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Ja(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}hc(r,!0,o,null,p);break;case"together":hc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ol(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function ur(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Ei|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=zr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=zr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function Cy(t,r,o){switch(r.tag){case 3:Cd(r),ms();break;case 5:$f(r);break;case 1:Ht(r.type)&&ja(r);break;case 4:Hu(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;qe(Qa,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(qe(Ye,Ye.current&1),r.flags|=128,null):o&r.child.childLanes?Ad(t,r,o):(qe(Ye,Ye.current&1),t=ur(t,r,o),t!==null?t.sibling:null);qe(Ye,Ye.current&1);break;case 19:if(u=(o&r.childLanes)!==0,t.flags&128){if(u)return Pd(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),qe(Ye,Ye.current),u)break;return null;case 22:case 23:return r.lanes=0,Td(t,r,o)}return ur(t,r,o)}var kd,fc,Dd,Nd;kd=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},fc=function(){},Dd=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,vi(Un.current);var p=null;switch(o){case"input":h=Xr(t,h),u=Xr(t,u),p=[];break;case"select":h=ie({},h,{value:void 0}),u=ie({},u,{value:void 0}),p=[];break;case"textarea":h=Ws(t,h),u=Ws(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=za)}Js(o,u);var v;o=null;for(b in h)if(!u.hasOwnProperty(b)&&h.hasOwnProperty(b)&&h[b]!=null)if(b==="style"){var x=h[b];for(v in x)x.hasOwnProperty(v)&&(o||(o={}),o[v]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(a.hasOwnProperty(b)?p||(p=[]):(p=p||[]).push(b,null));for(b in u){var D=u[b];if(x=h!=null?h[b]:void 0,u.hasOwnProperty(b)&&D!==x&&(D!=null||x!=null))if(b==="style")if(x){for(v in x)!x.hasOwnProperty(v)||D&&D.hasOwnProperty(v)||(o||(o={}),o[v]="");for(v in D)D.hasOwnProperty(v)&&x[v]!==D[v]&&(o||(o={}),o[v]=D[v])}else o||(p||(p=[]),p.push(b,o)),o=D;else b==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,x=x?x.__html:void 0,D!=null&&x!==D&&(p=p||[]).push(b,D)):b==="children"?typeof D!="string"&&typeof D!="number"||(p=p||[]).push(b,""+D):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(a.hasOwnProperty(b)?(D!=null&&b==="onScroll"&&We("scroll",t),p||x===D||(p=[])):(p=p||[]).push(b,D))}o&&(p=p||[]).push("style",o);var b=p;(r.updateQueue=b)&&(r.flags|=4)}},Nd=function(t,r,o,u){o!==u&&(r.flags|=4)};function Vo(t,r){if(!Ge)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Dt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function Ry(t,r,o){var u=r.pendingProps;switch(Lu(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(r),null;case 1:return Ht(r.type)&&ba(),Dt(r),null;case 3:return u=r.stateNode,_s(),Ke($t),Ke(Pt),Ku(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Wa(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Cn!==null&&(Sc(Cn),Cn=null))),fc(t,r),Dt(r),null;case 5:qu(r);var h=vi(xo.current);if(o=r.type,t!==null&&r.stateNode!=null)Dd(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Dt(r),null}if(t=vi(Un.current),Wa(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[Mn]=r,u[So]=p,t=(r.mode&1)!==0,o){case"dialog":We("cancel",u),We("close",u);break;case"iframe":case"object":case"embed":We("load",u);break;case"video":case"audio":for(h=0;h<Eo.length;h++)We(Eo[h],u);break;case"source":We("error",u);break;case"img":case"image":case"link":We("error",u),We("load",u);break;case"details":We("toggle",u);break;case"input":Li(u,p),We("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},We("invalid",u);break;case"textarea":Oi(u,p),We("invalid",u)}Js(o,p),h=null;for(var v in p)if(p.hasOwnProperty(v)){var x=p[v];v==="children"?typeof x=="string"?u.textContent!==x&&(p.suppressHydrationWarning!==!0&&Ua(u.textContent,x,t),h=["children",x]):typeof x=="number"&&u.textContent!==""+x&&(p.suppressHydrationWarning!==!0&&Ua(u.textContent,x,t),h=["children",""+x]):a.hasOwnProperty(v)&&x!=null&&v==="onScroll"&&We("scroll",u)}switch(o){case"input":Kn(u),ca(u,p,!0);break;case"textarea":Kn(u),Ks(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=za)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{v=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ct(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=v.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=v.createElement(o,{is:u.is}):(t=v.createElement(o),o==="select"&&(v=t,u.multiple?v.multiple=!0:u.size&&(v.size=u.size))):t=v.createElementNS(t,o),t[Mn]=r,t[So]=u,kd(t,r,!1,!1),r.stateNode=t;e:{switch(v=Zs(o,u),o){case"dialog":We("cancel",t),We("close",t),h=u;break;case"iframe":case"object":case"embed":We("load",t),h=u;break;case"video":case"audio":for(h=0;h<Eo.length;h++)We(Eo[h],t);h=u;break;case"source":We("error",t),h=u;break;case"img":case"image":case"link":We("error",t),We("load",t),h=u;break;case"details":We("toggle",t),h=u;break;case"input":Li(t,u),h=Xr(t,u),We("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=ie({},u,{value:void 0}),We("invalid",t);break;case"textarea":Oi(t,u),h=Ws(t,u),We("invalid",t);break;default:h=u}Js(o,h),x=h;for(p in x)if(x.hasOwnProperty(p)){var D=x[p];p==="style"?Ys(t,D):p==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Qs(t,D)):p==="children"?typeof D=="string"?(o!=="textarea"||D!=="")&&yr(t,D):typeof D=="number"&&yr(t,""+D):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?D!=null&&p==="onScroll"&&We("scroll",t):D!=null&&te(t,p,D,v))}switch(o){case"input":Kn(t),ca(t,u,!1);break;case"textarea":Kn(t),Ks(t);break;case"option":u.value!=null&&t.setAttribute("value",""+ze(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Gn(t,!!u.multiple,p,!1):u.defaultValue!=null&&Gn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=za)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Dt(r),null;case 6:if(t&&r.stateNode!=null)Nd(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=vi(xo.current),vi(Un.current),Wa(r)){if(u=r.stateNode,o=r.memoizedProps,u[Mn]=r,(p=u.nodeValue!==o)&&(t=tn,t!==null))switch(t.tag){case 3:Ua(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ua(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[Mn]=r,r.stateNode=u}return Dt(r),null;case 13:if(Ke(Ye),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&nn!==null&&r.mode&1&&!(r.flags&128))Ff(),ms(),r.flags|=98560,p=!1;else if(p=Wa(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Mn]=r}else ms(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Dt(r),p=!1}else Cn!==null&&(Sc(Cn),Cn=null),p=!0;if(!p)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,r.mode&1&&(t===null||Ye.current&1?pt===0&&(pt=3):Rc())),r.updateQueue!==null&&(r.flags|=4),Dt(r),null);case 4:return _s(),fc(t,r),t===null&&wo(r.stateNode.containerInfo),Dt(r),null;case 10:return Bu(r.type._context),Dt(r),null;case 17:return Ht(r.type)&&ba(),Dt(r),null;case 19:if(Ke(Ye),p=r.memoizedState,p===null)return Dt(r),null;if(u=(r.flags&128)!==0,v=p.rendering,v===null)if(u)Vo(p,!1);else{if(pt!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(v=Ja(t),v!==null){for(r.flags|=128,Vo(p,!1),u=v.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,v=p.alternate,v===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=v.childLanes,p.lanes=v.lanes,p.child=v.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=v.memoizedProps,p.memoizedState=v.memoizedState,p.updateQueue=v.updateQueue,p.type=v.type,t=v.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return qe(Ye,Ye.current&1|2),r.child}t=t.sibling}p.tail!==null&&He()>Ss&&(r.flags|=128,u=!0,Vo(p,!1),r.lanes=4194304)}else{if(!u)if(t=Ja(v),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Vo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!Ge)return Dt(r),null}else 2*He()-p.renderingStartTime>Ss&&o!==1073741824&&(r.flags|=128,u=!0,Vo(p,!1),r.lanes=4194304);p.isBackwards?(v.sibling=r.child,r.child=v):(o=p.last,o!==null?o.sibling=v:r.child=v,p.last=v)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=He(),r.sibling=null,o=Ye.current,qe(Ye,u?o&1|2:o&1),r):(Dt(r),null);case 22:case 23:return Cc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&r.mode&1?rn&1073741824&&(Dt(r),r.subtreeFlags&6&&(r.flags|=8192)):Dt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function Ay(t,r){switch(Lu(r),r.tag){case 1:return Ht(r.type)&&ba(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return _s(),Ke($t),Ke(Pt),Ku(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return qu(r),null;case 13:if(Ke(Ye),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));ms()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Ke(Ye),null;case 4:return _s(),null;case 10:return Bu(r.type._context),null;case 22:case 23:return Cc(),null;case 24:return null;default:return null}}var al=!1,Nt=!1,xy=typeof WeakSet=="function"?WeakSet:Set,le=null;function ws(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){et(t,r,u)}else o.current=null}function dc(t,r,o){try{o()}catch(u){et(t,r,u)}}var Vd=!1;function Py(t,r){if(Cu=Cr,t=hf(),yu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var v=0,x=-1,D=-1,b=0,Y=0,X=t,G=null;t:for(;;){for(var oe;X!==o||h!==0&&X.nodeType!==3||(x=v+h),X!==p||u!==0&&X.nodeType!==3||(D=v+u),X.nodeType===3&&(v+=X.nodeValue.length),(oe=X.firstChild)!==null;)G=X,X=oe;for(;;){if(X===t)break t;if(G===o&&++b===h&&(x=v),G===p&&++Y===u&&(D=v),(oe=X.nextSibling)!==null)break;X=G,G=X.parentNode}X=oe}o=x===-1||D===-1?null:{start:x,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ru={focusedElem:t,selectionRange:o},Cr=!1,le=r;le!==null;)if(r=le,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,le=t;else for(;le!==null;){r=le;try{var ue=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var ce=ue.memoizedProps,rt=ue.memoizedState,M=r.stateNode,V=M.getSnapshotBeforeUpdate(r.elementType===r.type?ce:Rn(r.type,ce),rt);M.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var U=r.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Z){et(r,r.return,Z)}if(t=r.sibling,t!==null){t.return=r.return,le=t;break}le=r.return}return ue=Vd,Vd=!1,ue}function Lo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&dc(r,o,p)}h=h.next}while(h!==u)}}function ll(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function pc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Ld(t){var r=t.alternate;r!==null&&(t.alternate=null,Ld(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Mn],delete r[So],delete r[ku],delete r[hy],delete r[fy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Fd(t){return t.tag===5||t.tag===3||t.tag===4}function Od(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=za));else if(u!==4&&(t=t.child,t!==null))for(mc(t,r,o),t=t.sibling;t!==null;)mc(t,r,o),t=t.sibling}function gc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(gc(t,r,o),t=t.sibling;t!==null;)gc(t,r,o),t=t.sibling}var Ct=null,An=!1;function Lr(t,r,o){for(o=o.child;o!==null;)Md(t,r,o),o=o.sibling}function Md(t,r,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(oi,o)}catch{}switch(o.tag){case 5:Nt||ws(o,r);case 6:var u=Ct,h=An;Ct=null,Lr(t,r,o),Ct=u,An=h,Ct!==null&&(An?(t=Ct,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Ct.removeChild(o.stateNode));break;case 18:Ct!==null&&(An?(t=Ct,o=o.stateNode,t.nodeType===8?Pu(t.parentNode,o):t.nodeType===1&&Pu(t,o),Tn(t)):Pu(Ct,o.stateNode));break;case 4:u=Ct,h=An,Ct=o.stateNode.containerInfo,An=!0,Lr(t,r,o),Ct=u,An=h;break;case 0:case 11:case 14:case 15:if(!Nt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,v=p.destroy;p=p.tag,v!==void 0&&(p&2||p&4)&&dc(o,r,v),h=h.next}while(h!==u)}Lr(t,r,o);break;case 1:if(!Nt&&(ws(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(x){et(o,r,x)}Lr(t,r,o);break;case 21:Lr(t,r,o);break;case 22:o.mode&1?(Nt=(u=Nt)||o.memoizedState!==null,Lr(t,r,o),Nt=u):Lr(t,r,o);break;default:Lr(t,r,o)}}function Ud(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new xy),r.forEach(function(u){var h=Uy.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function xn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var p=t,v=r,x=v;e:for(;x!==null;){switch(x.tag){case 5:Ct=x.stateNode,An=!1;break e;case 3:Ct=x.stateNode.containerInfo,An=!0;break e;case 4:Ct=x.stateNode.containerInfo,An=!0;break e}x=x.return}if(Ct===null)throw Error(n(160));Md(p,v,h),Ct=null,An=!1;var D=h.alternate;D!==null&&(D.return=null),h.return=null}catch(b){et(h,r,b)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)zd(r,t),r=r.sibling}function zd(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xn(r,t),Bn(t),u&4){try{Lo(3,t,t.return),ll(3,t)}catch(ce){et(t,t.return,ce)}try{Lo(5,t,t.return)}catch(ce){et(t,t.return,ce)}}break;case 1:xn(r,t),Bn(t),u&512&&o!==null&&ws(o,o.return);break;case 5:if(xn(r,t),Bn(t),u&512&&o!==null&&ws(o,o.return),t.flags&32){var h=t.stateNode;try{yr(h,"")}catch(ce){et(t,t.return,ce)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,v=o!==null?o.memoizedProps:p,x=t.type,D=t.updateQueue;if(t.updateQueue=null,D!==null)try{x==="input"&&p.type==="radio"&&p.name!=null&&Hs(h,p),Zs(x,v);var b=Zs(x,p);for(v=0;v<D.length;v+=2){var Y=D[v],X=D[v+1];Y==="style"?Ys(h,X):Y==="dangerouslySetInnerHTML"?Qs(h,X):Y==="children"?yr(h,X):te(h,Y,X,b)}switch(x){case"input":qs(h,p);break;case"textarea":Mi(h,p);break;case"select":var G=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var oe=p.value;oe!=null?Gn(h,!!p.multiple,oe,!1):G!==!!p.multiple&&(p.defaultValue!=null?Gn(h,!!p.multiple,p.defaultValue,!0):Gn(h,!!p.multiple,p.multiple?[]:"",!1))}h[So]=p}catch(ce){et(t,t.return,ce)}}break;case 6:if(xn(r,t),Bn(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(ce){et(t,t.return,ce)}}break;case 3:if(xn(r,t),Bn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Tn(r.containerInfo)}catch(ce){et(t,t.return,ce)}break;case 4:xn(r,t),Bn(t);break;case 13:xn(r,t),Bn(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(_c=He())),u&4&&Ud(t);break;case 22:if(Y=o!==null&&o.memoizedState!==null,t.mode&1?(Nt=(b=Nt)||Y,xn(r,t),Nt=b):xn(r,t),Bn(t),u&8192){if(b=t.memoizedState!==null,(t.stateNode.isHidden=b)&&!Y&&t.mode&1)for(le=t,Y=t.child;Y!==null;){for(X=le=Y;le!==null;){switch(G=le,oe=G.child,G.tag){case 0:case 11:case 14:case 15:Lo(4,G,G.return);break;case 1:ws(G,G.return);var ue=G.stateNode;if(typeof ue.componentWillUnmount=="function"){u=G,o=G.return;try{r=u,ue.props=r.memoizedProps,ue.state=r.memoizedState,ue.componentWillUnmount()}catch(ce){et(u,o,ce)}}break;case 5:ws(G,G.return);break;case 22:if(G.memoizedState!==null){jd(X);continue}}oe!==null?(oe.return=G,le=oe):jd(X)}Y=Y.sibling}e:for(Y=null,X=t;;){if(X.tag===5){if(Y===null){Y=X;try{h=X.stateNode,b?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(x=X.stateNode,D=X.memoizedProps.style,v=D!=null&&D.hasOwnProperty("display")?D.display:null,x.style.display=Gs("display",v))}catch(ce){et(t,t.return,ce)}}}else if(X.tag===6){if(Y===null)try{X.stateNode.nodeValue=b?"":X.memoizedProps}catch(ce){et(t,t.return,ce)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===t)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===t)break e;for(;X.sibling===null;){if(X.return===null||X.return===t)break e;Y===X&&(Y=null),X=X.return}Y===X&&(Y=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:xn(r,t),Bn(t),u&4&&Ud(t);break;case 21:break;default:xn(r,t),Bn(t)}}function Bn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Fd(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(yr(h,""),u.flags&=-33);var p=Od(t);gc(t,p,h);break;case 3:case 4:var v=u.stateNode.containerInfo,x=Od(t);mc(t,x,v);break;default:throw Error(n(161))}}catch(D){et(t,t.return,D)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function ky(t,r,o){le=t,Bd(t)}function Bd(t,r,o){for(var u=(t.mode&1)!==0;le!==null;){var h=le,p=h.child;if(h.tag===22&&u){var v=h.memoizedState!==null||al;if(!v){var x=h.alternate,D=x!==null&&x.memoizedState!==null||Nt;x=al;var b=Nt;if(al=v,(Nt=D)&&!b)for(le=h;le!==null;)v=le,D=v.child,v.tag===22&&v.memoizedState!==null?$d(h):D!==null?(D.return=v,le=D):$d(h);for(;p!==null;)le=p,Bd(p),p=p.sibling;le=h,al=x,Nt=b}bd(t)}else h.subtreeFlags&8772&&p!==null?(p.return=h,le=p):bd(t)}}function bd(t){for(;le!==null;){var r=le;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Nt||ll(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Nt)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:Rn(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&jf(r,p,u);break;case 3:var v=r.updateQueue;if(v!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}jf(r,v,o)}break;case 5:var x=r.stateNode;if(o===null&&r.flags&4){o=x;var D=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&o.focus();break;case"img":D.src&&(o.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var b=r.alternate;if(b!==null){var Y=b.memoizedState;if(Y!==null){var X=Y.dehydrated;X!==null&&Tn(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Nt||r.flags&512&&pc(r)}catch(G){et(r,r.return,G)}}if(r===t){le=null;break}if(o=r.sibling,o!==null){o.return=r.return,le=o;break}le=r.return}}function jd(t){for(;le!==null;){var r=le;if(r===t){le=null;break}var o=r.sibling;if(o!==null){o.return=r.return,le=o;break}le=r.return}}function $d(t){for(;le!==null;){var r=le;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{ll(4,r)}catch(D){et(r,o,D)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(D){et(r,h,D)}}var p=r.return;try{pc(r)}catch(D){et(r,p,D)}break;case 5:var v=r.return;try{pc(r)}catch(D){et(r,v,D)}}}catch(D){et(r,r.return,D)}if(r===t){le=null;break}var x=r.sibling;if(x!==null){x.return=r.return,le=x;break}le=r.return}}var Dy=Math.ceil,ul=de.ReactCurrentDispatcher,yc=de.ReactCurrentOwner,dn=de.ReactCurrentBatchConfig,Fe=0,Et=null,lt=null,Rt=0,rn=0,Ts=Pr(0),pt=0,Fo=null,Ei=0,cl=0,vc=0,Oo=null,Wt=null,_c=0,Ss=1/0,cr=null,hl=!1,Ec=null,Fr=null,fl=!1,Or=null,dl=0,Mo=0,wc=null,pl=-1,ml=0;function zt(){return Fe&6?He():pl!==-1?pl:pl=He()}function Mr(t){return t.mode&1?Fe&2&&Rt!==0?Rt&-Rt:py.transition!==null?(ml===0&&(ml=li()),ml):(t=xe,t!==0||(t=window.event,t=t===void 0?16:co(t.type)),t):1}function Pn(t,r,o,u){if(50<Mo)throw Mo=0,wc=null,Error(n(185));wr(t,o,u),(!(Fe&2)||t!==Et)&&(t===Et&&(!(Fe&2)&&(cl|=o),pt===4&&Ur(t,Rt)),Kt(t,u),o===1&&Fe===0&&!(r.mode&1)&&(Ss=He()+500,$a&&Dr()))}function Kt(t,r){var o=t.callbackNode;Jn(t,r);var u=ai(t,t===Et?Rt:0);if(u===0)o!==null&&so(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&so(o),r===1)t.tag===0?dy(qd.bind(null,t)):kf(qd.bind(null,t)),uy(function(){!(Fe&6)&&Dr()}),o=null;else{switch(Sr(u)){case 1:o=si;break;case 4:o=vr;break;case 16:o=on;break;case 536870912:o=ma;break;default:o=on}o=Zd(o,Hd.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Hd(t,r){if(pl=-1,ml=0,Fe&6)throw Error(n(327));var o=t.callbackNode;if(Is()&&t.callbackNode!==o)return null;var u=ai(t,t===Et?Rt:0);if(u===0)return null;if(u&30||u&t.expiredLanes||r)r=gl(t,u);else{r=u;var h=Fe;Fe|=2;var p=Kd();(Et!==t||Rt!==r)&&(cr=null,Ss=He()+500,Ti(t,r));do try{Ly();break}catch(x){Wd(t,x)}while(!0);zu(),ul.current=p,Fe=h,lt!==null?r=0:(Et=null,Rt=0,r=pt)}if(r!==0){if(r===2&&(h=Jt(t),h!==0&&(u=h,r=Tc(t,h))),r===1)throw o=Fo,Ti(t,0),Ur(t,u),Kt(t,He()),o;if(r===6)Ur(t,u);else{if(h=t.current.alternate,!(u&30)&&!Ny(h)&&(r=gl(t,u),r===2&&(p=Jt(t),p!==0&&(u=p,r=Tc(t,p))),r===1))throw o=Fo,Ti(t,0),Ur(t,u),Kt(t,He()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:Si(t,Wt,cr);break;case 3:if(Ur(t,u),(u&130023424)===u&&(r=_c+500-He(),10<r)){if(ai(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){zt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=xu(Si.bind(null,t,Wt,cr),r);break}Si(t,Wt,cr);break;case 4:if(Ur(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var v=31-Ot(u);p=1<<v,v=r[v],v>h&&(h=v),u&=~p}if(u=h,u=He()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Dy(u/1960))-u,10<u){t.timeoutHandle=xu(Si.bind(null,t,Wt,cr),u);break}Si(t,Wt,cr);break;case 5:Si(t,Wt,cr);break;default:throw Error(n(329))}}}return Kt(t,He()),t.callbackNode===o?Hd.bind(null,t):null}function Tc(t,r){var o=Oo;return t.current.memoizedState.isDehydrated&&(Ti(t,r).flags|=256),t=gl(t,r),t!==2&&(r=Wt,Wt=o,r!==null&&Sc(r)),t}function Sc(t){Wt===null?Wt=t:Wt.push.apply(Wt,t)}function Ny(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!In(p(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ur(t,r){for(r&=~vc,r&=~cl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Ot(r),u=1<<o;t[o]=-1,r&=~u}}function qd(t){if(Fe&6)throw Error(n(327));Is();var r=ai(t,0);if(!(r&1))return Kt(t,He()),null;var o=gl(t,r);if(t.tag!==0&&o===2){var u=Jt(t);u!==0&&(r=u,o=Tc(t,u))}if(o===1)throw o=Fo,Ti(t,0),Ur(t,r),Kt(t,He()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Si(t,Wt,cr),Kt(t,He()),null}function Ic(t,r){var o=Fe;Fe|=1;try{return t(r)}finally{Fe=o,Fe===0&&(Ss=He()+500,$a&&Dr())}}function wi(t){Or!==null&&Or.tag===0&&!(Fe&6)&&Is();var r=Fe;Fe|=1;var o=dn.transition,u=xe;try{if(dn.transition=null,xe=1,t)return t()}finally{xe=u,dn.transition=o,Fe=r,!(Fe&6)&&Dr()}}function Cc(){rn=Ts.current,Ke(Ts)}function Ti(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,ly(o)),lt!==null)for(o=lt.return;o!==null;){var u=o;switch(Lu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&ba();break;case 3:_s(),Ke($t),Ke(Pt),Ku();break;case 5:qu(u);break;case 4:_s();break;case 13:Ke(Ye);break;case 19:Ke(Ye);break;case 10:Bu(u.type._context);break;case 22:case 23:Cc()}o=o.return}if(Et=t,lt=t=zr(t.current,null),Rt=rn=r,pt=0,Fo=null,vc=cl=Ei=0,Wt=Oo=null,yi!==null){for(r=0;r<yi.length;r++)if(o=yi[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,p=o.pending;if(p!==null){var v=p.next;p.next=h,u.next=v}o.pending=u}yi=null}return t}function Wd(t,r){do{var o=lt;try{if(zu(),Za.current=rl,el){for(var u=Xe.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}el=!1}if(_i=0,_t=dt=Xe=null,Po=!1,ko=0,yc.current=null,o===null||o.return===null){pt=1,Fo=r,lt=null;break}e:{var p=t,v=o.return,x=o,D=r;if(r=Rt,x.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var b=D,Y=x,X=Y.tag;if(!(Y.mode&1)&&(X===0||X===11||X===15)){var G=Y.alternate;G?(Y.updateQueue=G.updateQueue,Y.memoizedState=G.memoizedState,Y.lanes=G.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var oe=yd(v);if(oe!==null){oe.flags&=-257,vd(oe,v,x,p,r),oe.mode&1&&gd(p,b,r),r=oe,D=b;var ue=r.updateQueue;if(ue===null){var ce=new Set;ce.add(D),r.updateQueue=ce}else ue.add(D);break e}else{if(!(r&1)){gd(p,b,r),Rc();break e}D=Error(n(426))}}else if(Ge&&x.mode&1){var rt=yd(v);if(rt!==null){!(rt.flags&65536)&&(rt.flags|=256),vd(rt,v,x,p,r),Mu(Es(D,x));break e}}p=D=Es(D,x),pt!==4&&(pt=2),Oo===null?Oo=[p]:Oo.push(p),p=v;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var M=pd(p,D,r);bf(p,M);break e;case 1:x=D;var V=p.type,U=p.stateNode;if(!(p.flags&128)&&(typeof V.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Fr===null||!Fr.has(U)))){p.flags|=65536,r&=-r,p.lanes|=r;var Z=md(p,x,r);bf(p,Z);break e}}p=p.return}while(p!==null)}Gd(o)}catch(fe){r=fe,lt===o&&o!==null&&(lt=o=o.return);continue}break}while(!0)}function Kd(){var t=ul.current;return ul.current=rl,t===null?rl:t}function Rc(){(pt===0||pt===3||pt===2)&&(pt=4),Et===null||!(Ei&268435455)&&!(cl&268435455)||Ur(Et,Rt)}function gl(t,r){var o=Fe;Fe|=2;var u=Kd();(Et!==t||Rt!==r)&&(cr=null,Ti(t,r));do try{Vy();break}catch(h){Wd(t,h)}while(!0);if(zu(),Fe=o,ul.current=u,lt!==null)throw Error(n(261));return Et=null,Rt=0,pt}function Vy(){for(;lt!==null;)Qd(lt)}function Ly(){for(;lt!==null&&!da();)Qd(lt)}function Qd(t){var r=Jd(t.alternate,t,rn);t.memoizedProps=t.pendingProps,r===null?Gd(t):lt=r,yc.current=null}function Gd(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=Ay(o,r),o!==null){o.flags&=32767,lt=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,lt=null;return}}else if(o=Ry(o,r,rn),o!==null){lt=o;return}if(r=r.sibling,r!==null){lt=r;return}lt=r=t}while(r!==null);pt===0&&(pt=5)}function Si(t,r,o){var u=xe,h=dn.transition;try{dn.transition=null,xe=1,Fy(t,r,o,u)}finally{dn.transition=h,xe=u}return null}function Fy(t,r,o,u){do Is();while(Or!==null);if(Fe&6)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(je(t,p),t===Et&&(lt=Et=null,Rt=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||fl||(fl=!0,Zd(on,function(){return Is(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=dn.transition,dn.transition=null;var v=xe;xe=1;var x=Fe;Fe|=4,yc.current=null,Py(t,o),zd(o,t),ty(Ru),Cr=!!Cu,Ru=Cu=null,t.current=o,ky(o),uu(),Fe=x,xe=v,dn.transition=p}else t.current=o;if(fl&&(fl=!1,Or=t,dl=h),p=t.pendingLanes,p===0&&(Fr=null),ga(o.stateNode),Kt(t,He()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(hl)throw hl=!1,t=Ec,Ec=null,t;return dl&1&&t.tag!==0&&Is(),p=t.pendingLanes,p&1?t===wc?Mo++:(Mo=0,wc=t):Mo=0,Dr(),null}function Is(){if(Or!==null){var t=Sr(dl),r=dn.transition,o=xe;try{if(dn.transition=null,xe=16>t?16:t,Or===null)var u=!1;else{if(t=Or,Or=null,dl=0,Fe&6)throw Error(n(331));var h=Fe;for(Fe|=4,le=t.current;le!==null;){var p=le,v=p.child;if(le.flags&16){var x=p.deletions;if(x!==null){for(var D=0;D<x.length;D++){var b=x[D];for(le=b;le!==null;){var Y=le;switch(Y.tag){case 0:case 11:case 15:Lo(8,Y,p)}var X=Y.child;if(X!==null)X.return=Y,le=X;else for(;le!==null;){Y=le;var G=Y.sibling,oe=Y.return;if(Ld(Y),Y===b){le=null;break}if(G!==null){G.return=oe,le=G;break}le=oe}}}var ue=p.alternate;if(ue!==null){var ce=ue.child;if(ce!==null){ue.child=null;do{var rt=ce.sibling;ce.sibling=null,ce=rt}while(ce!==null)}}le=p}}if(p.subtreeFlags&2064&&v!==null)v.return=p,le=v;else e:for(;le!==null;){if(p=le,p.flags&2048)switch(p.tag){case 0:case 11:case 15:Lo(9,p,p.return)}var M=p.sibling;if(M!==null){M.return=p.return,le=M;break e}le=p.return}}var V=t.current;for(le=V;le!==null;){v=le;var U=v.child;if(v.subtreeFlags&2064&&U!==null)U.return=v,le=U;else e:for(v=V;le!==null;){if(x=le,x.flags&2048)try{switch(x.tag){case 0:case 11:case 15:ll(9,x)}}catch(fe){et(x,x.return,fe)}if(x===v){le=null;break e}var Z=x.sibling;if(Z!==null){Z.return=x.return,le=Z;break e}le=x.return}}if(Fe=h,Dr(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(oi,t)}catch{}u=!0}return u}finally{xe=o,dn.transition=r}}return!1}function Yd(t,r,o){r=Es(o,r),r=pd(t,r,1),t=Vr(t,r,1),r=zt(),t!==null&&(wr(t,1,r),Kt(t,r))}function et(t,r,o){if(t.tag===3)Yd(t,t,o);else for(;r!==null;){if(r.tag===3){Yd(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Fr===null||!Fr.has(u))){t=Es(o,t),t=md(r,t,1),r=Vr(r,t,1),t=zt(),r!==null&&(wr(r,1,t),Kt(r,t));break}}r=r.return}}function Oy(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=zt(),t.pingedLanes|=t.suspendedLanes&o,Et===t&&(Rt&o)===o&&(pt===4||pt===3&&(Rt&130023424)===Rt&&500>He()-_c?Ti(t,0):vc|=o),Kt(t,r)}function Xd(t,r){r===0&&(t.mode&1?(r=Ki,Ki<<=1,!(Ki&130023424)&&(Ki=4194304)):r=1);var o=zt();t=ar(t,r),t!==null&&(wr(t,r,o),Kt(t,o))}function My(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Xd(t,o)}function Uy(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),Xd(t,o)}var Jd;Jd=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||$t.current)qt=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return qt=!1,Cy(t,r,o);qt=!!(t.flags&131072)}else qt=!1,Ge&&r.flags&1048576&&Df(r,qa,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;ol(t,r),t=r.pendingProps;var h=fs(r,Pt.current);vs(r,o),h=Yu(null,r,u,t,h,o);var p=Xu();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Ht(u)?(p=!0,ja(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,$u(r),h.updater=il,r.stateNode=h,h._reactInternals=r,rc(r,u,t,o),r=ac(null,r,u,!0,p,o)):(r.tag=0,Ge&&p&&Vu(r),Ut(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(ol(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=By(u),t=Rn(u,t),h){case 0:r=oc(null,r,u,t,o);break e;case 1:r=Id(null,r,u,t,o);break e;case 11:r=_d(null,r,u,t,o);break e;case 14:r=Ed(null,r,u,Rn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),oc(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),Id(t,r,u,h,o);case 3:e:{if(Cd(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,h=p.element,Bf(t,r),Xa(r,u,null,o);var v=r.memoizedState;if(u=v.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=Es(Error(n(423)),r),r=Rd(t,r,u,o,h);break e}else if(u!==h){h=Es(Error(n(424)),r),r=Rd(t,r,u,o,h);break e}else for(nn=xr(r.stateNode.containerInfo.firstChild),tn=r,Ge=!0,Cn=null,o=Uf(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ms(),u===h){r=ur(t,r,o);break e}Ut(t,r,u,o)}r=r.child}return r;case 5:return $f(r),t===null&&Ou(r),u=r.type,h=r.pendingProps,p=t!==null?t.memoizedProps:null,v=h.children,Au(u,h)?v=null:p!==null&&Au(u,p)&&(r.flags|=32),Sd(t,r),Ut(t,r,v,o),r.child;case 6:return t===null&&Ou(r),null;case 13:return Ad(t,r,o);case 4:return Hu(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=gs(r,null,u,o):Ut(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),_d(t,r,u,h,o);case 7:return Ut(t,r,r.pendingProps,o),r.child;case 8:return Ut(t,r,r.pendingProps.children,o),r.child;case 12:return Ut(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,p=r.memoizedProps,v=h.value,qe(Qa,u._currentValue),u._currentValue=v,p!==null)if(In(p.value,v)){if(p.children===h.children&&!$t.current){r=ur(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var x=p.dependencies;if(x!==null){v=p.child;for(var D=x.firstContext;D!==null;){if(D.context===u){if(p.tag===1){D=lr(-1,o&-o),D.tag=2;var b=p.updateQueue;if(b!==null){b=b.shared;var Y=b.pending;Y===null?D.next=D:(D.next=Y.next,Y.next=D),b.pending=D}}p.lanes|=o,D=p.alternate,D!==null&&(D.lanes|=o),bu(p.return,o,r),x.lanes|=o;break}D=D.next}}else if(p.tag===10)v=p.type===r.type?null:p.child;else if(p.tag===18){if(v=p.return,v===null)throw Error(n(341));v.lanes|=o,x=v.alternate,x!==null&&(x.lanes|=o),bu(v,o,r),v=p.sibling}else v=p.child;if(v!==null)v.return=p;else for(v=p;v!==null;){if(v===r){v=null;break}if(p=v.sibling,p!==null){p.return=v.return,v=p;break}v=v.return}p=v}Ut(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,vs(r,o),h=hn(h),u=u(h),r.flags|=1,Ut(t,r,u,o),r.child;case 14:return u=r.type,h=Rn(u,r.pendingProps),h=Rn(u.type,h),Ed(t,r,u,h,o);case 15:return wd(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),ol(t,r),r.tag=1,Ht(u)?(t=!0,ja(r)):t=!1,vs(r,o),fd(r,u,h),rc(r,u,h,o),ac(null,r,u,!0,t,o);case 19:return Pd(t,r,o);case 22:return Td(t,r,o)}throw Error(n(156,r.tag))};function Zd(t,r){return qi(t,r)}function zy(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,r,o,u){return new zy(t,r,o,u)}function Ac(t){return t=t.prototype,!(!t||!t.isReactComponent)}function By(t){if(typeof t=="function")return Ac(t)?1:0;if(t!=null){if(t=t.$$typeof,t===N)return 11;if(t===Re)return 14}return 2}function zr(t,r){var o=t.alternate;return o===null?(o=pn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function yl(t,r,o,u,h,p){var v=2;if(u=t,typeof t=="function")Ac(t)&&(v=1);else if(typeof t=="string")v=5;else e:switch(t){case C:return Ii(o.children,h,p,r);case S:v=8,h|=8;break;case T:return t=pn(12,o,r,h|2),t.elementType=T,t.lanes=p,t;case w:return t=pn(13,o,r,h),t.elementType=w,t.lanes=p,t;case pe:return t=pn(19,o,r,h),t.elementType=pe,t.lanes=p,t;case Ie:return vl(o,h,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A:v=10;break e;case R:v=9;break e;case N:v=11;break e;case Re:v=14;break e;case Be:v=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=pn(v,o,r,h),r.elementType=t,r.type=u,r.lanes=p,r}function Ii(t,r,o,u){return t=pn(7,t,u,r),t.lanes=o,t}function vl(t,r,o,u){return t=pn(22,t,u,r),t.elementType=Ie,t.lanes=o,t.stateNode={isHidden:!1},t}function xc(t,r,o){return t=pn(6,t,null,r),t.lanes=o,t}function Pc(t,r,o){return r=pn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function by(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Er(0),this.expirationTimes=Er(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Er(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function kc(t,r,o,u,h,p,v,x,D){return t=new by(t,r,o,x,D),r===1?(r=1,p===!0&&(r|=8)):r=0,p=pn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},$u(p),t}function jy(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function ep(t){if(!t)return kr;t=t._reactInternals;e:{if(yn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Ht(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Ht(o))return xf(t,o,r)}return r}function tp(t,r,o,u,h,p,v,x,D){return t=kc(o,u,!0,t,h,p,v,x,D),t.context=ep(null),o=t.current,u=zt(),h=Mr(o),p=lr(u,h),p.callback=r??null,Vr(o,p,h),t.current.lanes=h,wr(t,h,u),Kt(t,u),t}function _l(t,r,o,u){var h=r.current,p=zt(),v=Mr(h);return o=ep(o),r.context===null?r.context=o:r.pendingContext=o,r=lr(p,v),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Vr(h,r,v),t!==null&&(Pn(t,h,v,p),Ya(t,h,v)),v}function El(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function np(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Dc(t,r){np(t,r),(t=t.alternate)&&np(t,r)}var rp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Nc(t){this._internalRoot=t}wl.prototype.render=Nc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));_l(t,r,null,null)},wl.prototype.unmount=Nc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;wi(function(){_l(null,t,null,null)}),r[rr]=null}};function wl(t){this._internalRoot=t}wl.prototype.unstable_scheduleHydration=function(t){if(t){var r=wa();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Vn.length&&r!==0&&r<Vn[o].priority;o++);Vn.splice(o,0,t),o===0&&Ia(t)}};function Vc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Tl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ip(){}function $y(t,r,o,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var b=El(v);p.call(b)}}var v=tp(r,u,t,0,null,!1,!1,"",ip);return t._reactRootContainer=v,t[rr]=v.current,wo(t.nodeType===8?t.parentNode:t),wi(),v}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var x=u;u=function(){var b=El(D);x.call(b)}}var D=kc(t,0,!1,null,null,!1,!1,"",ip);return t._reactRootContainer=D,t[rr]=D.current,wo(t.nodeType===8?t.parentNode:t),wi(function(){_l(r,D,o,u)}),D}function Sl(t,r,o,u,h){var p=o._reactRootContainer;if(p){var v=p;if(typeof h=="function"){var x=h;h=function(){var D=El(v);x.call(D)}}_l(r,v,t,h)}else v=$y(o,r,t,h,u);return El(v)}_a=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=_r(r.pendingLanes);o!==0&&(Tr(r,o|1),Kt(r,He()),!(Fe&6)&&(Ss=He()+500,Dr()))}break;case 13:wi(function(){var u=ar(t,1);if(u!==null){var h=zt();Pn(u,t,1,h)}}),Dc(t,1)}},Qi=function(t){if(t.tag===13){var r=ar(t,134217728);if(r!==null){var o=zt();Pn(r,t,134217728,o)}Dc(t,134217728)}},Ea=function(t){if(t.tag===13){var r=Mr(t),o=ar(t,r);if(o!==null){var u=zt();Pn(o,t,r,u)}Dc(t,r)}},wa=function(){return xe},Ta=function(t,r){var o=xe;try{return xe=t,r()}finally{xe=o}},zi=function(t,r,o){switch(r){case"input":if(qs(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=Ba(u);if(!h)throw Error(n(90));Vi(u),qs(u,h)}}}break;case"textarea":Mi(t,o);break;case"select":r=o.value,r!=null&&Gn(t,!!o.multiple,r,!1)}},ti=Ic,to=wi;var Hy={usingClientEntryPoint:!1,Events:[Io,cs,Ba,Dn,eo,Ic]},Uo={findFiberByHostInstance:di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qy={bundleType:Uo.bundleType,version:Uo.version,rendererPackageName:Uo.rendererPackageName,rendererConfig:Uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:de.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=io(t),t===null?null:t.stateNode},findFiberByHostInstance:Uo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Il.isDisabled&&Il.supportsFiber)try{oi=Il.inject(qy),Xt=Il}catch{}}return Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hy,Qt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vc(r))throw Error(n(200));return jy(t,r,null,o)},Qt.createRoot=function(t,r){if(!Vc(t))throw Error(n(299));var o=!1,u="",h=rp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=kc(t,1,!1,null,null,o,!1,u,h),t[rr]=r.current,wo(t.nodeType===8?t.parentNode:t),new Nc(r)},Qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=io(r),t=t===null?null:t.stateNode,t},Qt.flushSync=function(t){return wi(t)},Qt.hydrate=function(t,r,o){if(!Tl(r))throw Error(n(200));return Sl(null,t,r,!0,o)},Qt.hydrateRoot=function(t,r,o){if(!Vc(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,p="",v=rp;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),r=tp(r,null,t,1,o??null,h,!1,p,v),t[rr]=r.current,wo(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new wl(r)},Qt.render=function(t,r,o){if(!Tl(r))throw Error(n(200));return Sl(null,t,r,!1,o)},Qt.unmountComponentAtNode=function(t){if(!Tl(t))throw Error(n(40));return t._reactRootContainer?(wi(function(){Sl(null,null,t,!1,function(){t._reactRootContainer=null,t[rr]=null})}),!0):!1},Qt.unstable_batchedUpdates=Ic,Qt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Tl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Sl(t,r,o,!1,u)},Qt.version="18.3.1-next-f1338f8080-20240426",Qt}var fp;function t0(){if(fp)return Oc.exports;fp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Oc.exports=e0(),Oc.exports}var dp;function n0(){if(dp)return Cl;dp=1;var i=t0();return Cl.createRoot=i.createRoot,Cl.hydrateRoot=i.hydrateRoot,Cl}var r0=n0(),Bo={},pp;function i0(){if(pp)return Bo;pp=1,Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.parse=f,Bo.serialize=_;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,c=(()=>{const k=function(){};return k.prototype=Object.create(null),k})();function f(k,F){const z=new c,H=k.length;if(H<2)return z;const j=(F==null?void 0:F.decode)||I;let Q=0;do{const J=k.indexOf("=",Q);if(J===-1)break;const te=k.indexOf(";",Q),de=te===-1?H:te;if(J>de){Q=k.lastIndexOf(";",J-1)+1;continue}const Ee=m(k,Q,J),B=g(k,J,Ee),C=k.slice(Ee,B);if(z[C]===void 0){let S=m(k,J+1,de),T=g(k,de,S);const A=j(k.slice(S,T));z[C]=A}Q=de+1}while(Q<H);return z}function m(k,F,z){do{const H=k.charCodeAt(F);if(H!==32&&H!==9)return F}while(++F<z);return z}function g(k,F,z){for(;F>z;){const H=k.charCodeAt(--F);if(H!==32&&H!==9)return F+1}return z}function _(k,F,z){const H=(z==null?void 0:z.encode)||encodeURIComponent;if(!i.test(k))throw new TypeError(`argument name is invalid: ${k}`);const j=H(F);if(!e.test(j))throw new TypeError(`argument val is invalid: ${F}`);let Q=k+"="+j;if(!z)return Q;if(z.maxAge!==void 0){if(!Number.isInteger(z.maxAge))throw new TypeError(`option maxAge is invalid: ${z.maxAge}`);Q+="; Max-Age="+z.maxAge}if(z.domain){if(!n.test(z.domain))throw new TypeError(`option domain is invalid: ${z.domain}`);Q+="; Domain="+z.domain}if(z.path){if(!s.test(z.path))throw new TypeError(`option path is invalid: ${z.path}`);Q+="; Path="+z.path}if(z.expires){if(!P(z.expires)||!Number.isFinite(z.expires.valueOf()))throw new TypeError(`option expires is invalid: ${z.expires}`);Q+="; Expires="+z.expires.toUTCString()}if(z.httpOnly&&(Q+="; HttpOnly"),z.secure&&(Q+="; Secure"),z.partitioned&&(Q+="; Partitioned"),z.priority)switch(typeof z.priority=="string"?z.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${z.priority}`)}if(z.sameSite)switch(typeof z.sameSite=="string"?z.sameSite.toLowerCase():z.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${z.sameSite}`)}return Q}function I(k){if(k.indexOf("%")===-1)return k;try{return decodeURIComponent(k)}catch{return k}}function P(k){return a.call(k)==="[object Date]"}return Bo}i0();/**
 * react-router v7.1.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mp="popstate";function s0(i={}){function e(s,a){let{pathname:c,search:f,hash:m}=s.location;return Xc("",{pathname:c,search:f,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Go(a)}return a0(e,n,null,i)}function Je(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function $n(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function o0(){return Math.random().toString(36).substring(2,10)}function gp(i,e){return{usr:i.state,key:i.key,idx:e}}function Xc(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Us(e):e,state:n,key:e&&e.key||s||o0()}}function Go({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Us(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function a0(i,e,n,s={}){let{window:a=document.defaultView,v5Compat:c=!1}=s,f=a.history,m="POP",g=null,_=I();_==null&&(_=0,f.replaceState({...f.state,idx:_},""));function I(){return(f.state||{idx:null}).idx}function P(){m="POP";let j=I(),Q=j==null?null:j-_;_=j,g&&g({action:m,location:H.location,delta:Q})}function k(j,Q){m="PUSH";let J=Xc(H.location,j,Q);_=I()+1;let te=gp(J,_),de=H.createHref(J);try{f.pushState(te,"",de)}catch(Ee){if(Ee instanceof DOMException&&Ee.name==="DataCloneError")throw Ee;a.location.assign(de)}c&&g&&g({action:m,location:H.location,delta:1})}function F(j,Q){m="REPLACE";let J=Xc(H.location,j,Q);_=I();let te=gp(J,_),de=H.createHref(J);f.replaceState(te,"",de),c&&g&&g({action:m,location:H.location,delta:0})}function z(j){let Q=a.location.origin!=="null"?a.location.origin:a.location.href,J=typeof j=="string"?j:Go(j);return J=J.replace(/ $/,"%20"),Je(Q,`No window.location.(origin|href) available to create URL for href: ${J}`),new URL(J,Q)}let H={get action(){return m},get location(){return i(a,f)},listen(j){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(mp,P),g=j,()=>{a.removeEventListener(mp,P),g=null}},createHref(j){return e(a,j)},createURL:z,encodeLocation(j){let Q=z(j);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:k,replace:F,go(j){return f.go(j)}};return H}function vm(i,e,n="/"){return l0(i,e,n,!1)}function l0(i,e,n,s){let a=typeof e=="string"?Us(e):e,c=qr(a.pathname||"/",n);if(c==null)return null;let f=_m(i);u0(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let _=E0(c);m=v0(f[g],_,s)}return m}function _m(i,e=[],n=[],s=""){let a=(c,f,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};g.relativePath.startsWith("/")&&(Je(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let _=hr([s,g.relativePath]),I=n.concat(g);c.children&&c.children.length>0&&(Je(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),_m(c.children,e,I,_)),!(c.path==null&&!c.index)&&e.push({path:_,score:g0(_,c.index),routesMeta:I})};return i.forEach((c,f)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))a(c,f);else for(let g of Em(c.path))a(c,f,g)}),e}function Em(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return a?[c,""]:[c];let f=Em(s.join("/")),m=[];return m.push(...f.map(g=>g===""?c:[c,g].join("/"))),a&&m.push(...f),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function u0(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:y0(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var c0=/^:[\w-]+$/,h0=3,f0=2,d0=1,p0=10,m0=-2,yp=i=>i==="*";function g0(i,e){let n=i.split("/"),s=n.length;return n.some(yp)&&(s+=m0),e&&(s+=f0),n.filter(a=>!yp(a)).reduce((a,c)=>a+(c0.test(c)?h0:c===""?d0:p0),s)}function y0(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function v0(i,e,n=!1){let{routesMeta:s}=i,a={},c="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],_=m===s.length-1,I=c==="/"?e:e.slice(c.length)||"/",P=Ul({path:g.relativePath,caseSensitive:g.caseSensitive,end:_},I),k=g.route;if(!P&&_&&n&&!s[s.length-1].route.index&&(P=Ul({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},I)),!P)return null;Object.assign(a,P.params),f.push({params:a,pathname:hr([c,P.pathname]),pathnameBase:I0(hr([c,P.pathnameBase])),route:k}),P.pathnameBase!=="/"&&(c=hr([c,P.pathnameBase]))}return f}function Ul(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=_0(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let c=a[0],f=c.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:s.reduce((_,{paramName:I,isOptional:P},k)=>{if(I==="*"){let z=m[k]||"";f=c.slice(0,c.length-z.length).replace(/(.)\/+$/,"$1")}const F=m[k];return P&&!F?_[I]=void 0:_[I]=(F||"").replace(/%2F/g,"/"),_},{}),pathname:c,pathnameBase:f,pattern:i}}function _0(i,e=!1,n=!0){$n(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function E0(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $n(!1,`The URL path "${i}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function qr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function w0(i,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?Us(i):i;return{pathname:n?n.startsWith("/")?n:T0(n,e):e,search:C0(s),hash:R0(a)}}function T0(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function zc(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function S0(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wm(i){let e=S0(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Tm(i,e,n,s=!1){let a;typeof i=="string"?a=Us(i):(a={...i},Je(!a.pathname||!a.pathname.includes("?"),zc("?","pathname","search",a)),Je(!a.pathname||!a.pathname.includes("#"),zc("#","pathname","hash",a)),Je(!a.search||!a.search.includes("#"),zc("#","search","hash",a)));let c=i===""||a.pathname==="",f=c?"/":a.pathname,m;if(f==null)m=n;else{let P=e.length-1;if(!s&&f.startsWith("..")){let k=f.split("/");for(;k[0]==="..";)k.shift(),P-=1;a.pathname=k.join("/")}m=P>=0?e[P]:"/"}let g=w0(a,m),_=f&&f!=="/"&&f.endsWith("/"),I=(c||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(_||I)&&(g.pathname+="/"),g}var hr=i=>i.join("/").replace(/\/\/+/g,"/"),I0=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),C0=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,R0=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function A0(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Sm=["POST","PUT","PATCH","DELETE"];new Set(Sm);var x0=["GET",...Sm];new Set(x0);var zs=W.createContext(null);zs.displayName="DataRouter";var Gl=W.createContext(null);Gl.displayName="DataRouterState";var Im=W.createContext({isTransitioning:!1});Im.displayName="ViewTransition";var P0=W.createContext(new Map);P0.displayName="Fetchers";var k0=W.createContext(null);k0.displayName="Await";var Wn=W.createContext(null);Wn.displayName="Navigation";var ra=W.createContext(null);ra.displayName="Location";var mr=W.createContext({outlet:null,matches:[],isDataRoute:!1});mr.displayName="Route";var Sh=W.createContext(null);Sh.displayName="RouteError";function D0(i,{relative:e}={}){Je(ia(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=W.useContext(Wn),{hash:a,pathname:c,search:f}=sa(i,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:hr([n,c])),s.createHref({pathname:m,search:f,hash:a})}function ia(){return W.useContext(ra)!=null}function Di(){return Je(ia(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(ra).location}var Cm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Rm(i){W.useContext(Wn).static||W.useLayoutEffect(i)}function Ih(){let{isDataRoute:i}=W.useContext(mr);return i?H0():N0()}function N0(){Je(ia(),"useNavigate() may be used only in the context of a <Router> component.");let i=W.useContext(zs),{basename:e,navigator:n}=W.useContext(Wn),{matches:s}=W.useContext(mr),{pathname:a}=Di(),c=JSON.stringify(wm(s)),f=W.useRef(!1);return Rm(()=>{f.current=!0}),W.useCallback((g,_={})=>{if($n(f.current,Cm),!f.current)return;if(typeof g=="number"){n.go(g);return}let I=Tm(g,JSON.parse(c),a,_.relative==="path");i==null&&e!=="/"&&(I.pathname=I.pathname==="/"?e:hr([e,I.pathname])),(_.replace?n.replace:n.push)(I,_.state,_)},[e,n,c,a,i])}W.createContext(null);function sa(i,{relative:e}={}){let{matches:n}=W.useContext(mr),{pathname:s}=Di(),a=JSON.stringify(wm(n));return W.useMemo(()=>Tm(i,JSON.parse(a),s,e==="path"),[i,a,s,e])}function V0(i,e){return Am(i,e)}function Am(i,e,n,s){var Q;Je(ia(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=W.useContext(Wn),{matches:c}=W.useContext(mr),f=c[c.length-1],m=f?f.params:{},g=f?f.pathname:"/",_=f?f.pathnameBase:"/",I=f&&f.route;{let J=I&&I.path||"";xm(g,!I||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let P=Di(),k;if(e){let J=typeof e=="string"?Us(e):e;Je(_==="/"||((Q=J.pathname)==null?void 0:Q.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${J.pathname}" was given in the \`location\` prop.`),k=J}else k=P;let F=k.pathname||"/",z=F;if(_!=="/"){let J=_.replace(/^\//,"").split("/");z="/"+F.replace(/^\//,"").split("/").slice(J.length).join("/")}let H=vm(i,{pathname:z});$n(I||H!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),$n(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=U0(H&&H.map(J=>Object.assign({},J,{params:Object.assign({},m,J.params),pathname:hr([_,a.encodeLocation?a.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?_:hr([_,a.encodeLocation?a.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),c,n,s);return e&&j?W.createElement(ra.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},j):j}function L0(){let i=$0(),e=A0(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=W.createElement(W.Fragment,null,W.createElement("p",null,"💿 Hey developer 👋"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:c},"ErrorBoundary")," or"," ",W.createElement("code",{style:c},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.createElement("pre",{style:a},n):null,f)}var F0=W.createElement(L0,null),O0=class extends W.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?W.createElement(mr.Provider,{value:this.props.routeContext},W.createElement(Sh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function M0({routeContext:i,match:e,children:n}){let s=W.useContext(zs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(mr.Provider,{value:i},n)}function U0(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let a=i,c=n==null?void 0:n.errors;if(c!=null){let g=a.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id])!==void 0);Je(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let f=!1,m=-1;if(n)for(let g=0;g<a.length;g++){let _=a[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=g),_.route.id){let{loaderData:I,errors:P}=n,k=_.route.loader&&!I.hasOwnProperty(_.route.id)&&(!P||P[_.route.id]===void 0);if(_.route.lazy||k){f=!0,m>=0?a=a.slice(0,m+1):a=[a[0]];break}}}return a.reduceRight((g,_,I)=>{let P,k=!1,F=null,z=null;n&&(P=c&&_.route.id?c[_.route.id]:void 0,F=_.route.errorElement||F0,f&&(m<0&&I===0?(xm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,z=null):m===I&&(k=!0,z=_.route.hydrateFallbackElement||null)));let H=e.concat(a.slice(0,I+1)),j=()=>{let Q;return P?Q=F:k?Q=z:_.route.Component?Q=W.createElement(_.route.Component,null):_.route.element?Q=_.route.element:Q=g,W.createElement(M0,{match:_,routeContext:{outlet:g,matches:H,isDataRoute:n!=null},children:Q})};return n&&(_.route.ErrorBoundary||_.route.errorElement||I===0)?W.createElement(O0,{location:n.location,revalidation:n.revalidation,component:F,error:P,children:j(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):j()},null)}function Ch(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z0(i){let e=W.useContext(zs);return Je(e,Ch(i)),e}function B0(i){let e=W.useContext(Gl);return Je(e,Ch(i)),e}function b0(i){let e=W.useContext(mr);return Je(e,Ch(i)),e}function Rh(i){let e=b0(i),n=e.matches[e.matches.length-1];return Je(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function j0(){return Rh("useRouteId")}function $0(){var s;let i=W.useContext(Sh),e=B0("useRouteError"),n=Rh("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function H0(){let{router:i}=z0("useNavigate"),e=Rh("useNavigate"),n=W.useRef(!1);return Rm(()=>{n.current=!0}),W.useCallback(async(a,c={})=>{$n(n.current,Cm),n.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...c}))},[i,e])}var vp={};function xm(i,e,n){!e&&!vp[i]&&(vp[i]=!0,$n(!1,n))}W.memo(q0);function q0({routes:i,future:e,state:n}){return Am(i,void 0,n,e)}function Jc(i){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function W0({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:c=!1}){Je(!ia(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=W.useMemo(()=>({basename:f,navigator:a,static:c,future:{}}),[f,a,c]);typeof n=="string"&&(n=Us(n));let{pathname:g="/",search:_="",hash:I="",state:P=null,key:k="default"}=n,F=W.useMemo(()=>{let z=qr(g,f);return z==null?null:{location:{pathname:z,search:_,hash:I,state:P,key:k},navigationType:s}},[f,g,_,I,P,k,s]);return $n(F!=null,`<Router basename="${f}"> is not able to match the URL "${g}${_}${I}" because it does not start with the basename, so the <Router> won't render anything.`),F==null?null:W.createElement(Wn.Provider,{value:m},W.createElement(ra.Provider,{children:e,value:F}))}function K0({children:i,location:e}){return V0(Zc(i),e)}function Zc(i,e=[]){let n=[];return W.Children.forEach(i,(s,a)=>{if(!W.isValidElement(s))return;let c=[...e,a];if(s.type===W.Fragment){n.push.apply(n,Zc(s.props.children,c));return}Je(s.type===Jc,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Zc(s.props.children,c)),n.push(f)}),n}var Nl="get",Vl="application/x-www-form-urlencoded";function Yl(i){return i!=null&&typeof i.tagName=="string"}function Q0(i){return Yl(i)&&i.tagName.toLowerCase()==="button"}function G0(i){return Yl(i)&&i.tagName.toLowerCase()==="form"}function Y0(i){return Yl(i)&&i.tagName.toLowerCase()==="input"}function X0(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function J0(i,e){return i.button===0&&(!e||e==="_self")&&!X0(i)}var Rl=null;function Z0(){if(Rl===null)try{new FormData(document.createElement("form"),0),Rl=!1}catch{Rl=!0}return Rl}var ev=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bc(i){return i!=null&&!ev.has(i)?($n(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vl}"`),null):i}function tv(i,e){let n,s,a,c,f;if(G0(i)){let m=i.getAttribute("action");s=m?qr(m,e):null,n=i.getAttribute("method")||Nl,a=Bc(i.getAttribute("enctype"))||Vl,c=new FormData(i)}else if(Q0(i)||Y0(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?qr(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Nl,a=Bc(i.getAttribute("formenctype"))||Bc(m.getAttribute("enctype"))||Vl,c=new FormData(m,i),!Z0()){let{name:_,type:I,value:P}=i;if(I==="image"){let k=_?`${_}.`:"";c.append(`${k}x`,"0"),c.append(`${k}y`,"0")}else _&&c.append(_,P)}}else{if(Yl(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nl,s=null,a=Vl,f=i}return c&&a==="text/plain"&&(f=c,c=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:c,body:f}}function Ah(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function nv(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rv(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function iv(i,e,n){let s=await Promise.all(i.map(async a=>{let c=e.routes[a.route.id];if(c){let f=await nv(c,n);return f.links?f.links():[]}return[]}));return lv(s.flat(1).filter(rv).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function _p(i,e,n,s,a,c){let f=(g,_)=>n[_]?g.route.id!==n[_].route.id:!0,m=(g,_)=>{var I;return n[_].pathname!==g.pathname||((I=n[_].route.path)==null?void 0:I.endsWith("*"))&&n[_].params["*"]!==g.params["*"]};return c==="assets"?e.filter((g,_)=>f(g,_)||m(g,_)):c==="data"?e.filter((g,_)=>{var P;let I=s.routes[g.route.id];if(!I||!I.hasLoader)return!1;if(f(g,_)||m(g,_))return!0;if(g.route.shouldRevalidate){let k=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((P=n[0])==null?void 0:P.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof k=="boolean")return k}return!0}):[]}function sv(i,e){return ov(i.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let a=[s.module];return s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function ov(i){return[...new Set(i)]}function av(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function lv(i,e){let n=new Set;return new Set(e),i.reduce((s,a)=>{let c=JSON.stringify(av(a));return n.has(c)||(n.add(c),s.push({key:c,link:a})),s},[])}function uv(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function cv(){let i=W.useContext(zs);return Ah(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function hv(){let i=W.useContext(Gl);return Ah(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var xh=W.createContext(void 0);xh.displayName="FrameworkContext";function Pm(){let i=W.useContext(xh);return Ah(i,"You must render this element inside a <HydratedRouter> element"),i}function fv(i,e){let n=W.useContext(xh),[s,a]=W.useState(!1),[c,f]=W.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:_,onMouseLeave:I,onTouchStart:P}=e,k=W.useRef(null);W.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let H=Q=>{Q.forEach(J=>{f(J.isIntersecting)})},j=new IntersectionObserver(H,{threshold:.5});return k.current&&j.observe(k.current),()=>{j.disconnect()}}},[i]),W.useEffect(()=>{if(s){let H=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(H)}}},[s]);let F=()=>{a(!0)},z=()=>{a(!1),f(!1)};return n?i!=="intent"?[c,k,{}]:[c,k,{onFocus:bo(m,F),onBlur:bo(g,z),onMouseEnter:bo(_,F),onMouseLeave:bo(I,z),onTouchStart:bo(P,F)}]:[!1,k,{}]}function bo(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function dv({page:i,...e}){let{router:n}=cv(),s=W.useMemo(()=>vm(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?W.createElement(mv,{page:i,matches:s,...e}):null}function pv(i){let{manifest:e,routeModules:n}=Pm(),[s,a]=W.useState([]);return W.useEffect(()=>{let c=!1;return iv(i,e,n).then(f=>{c||a(f)}),()=>{c=!0}},[i,e,n]),s}function mv({page:i,matches:e,...n}){let s=Di(),{manifest:a,routeModules:c}=Pm(),{loaderData:f,matches:m}=hv(),g=W.useMemo(()=>_p(i,e,m,a,s,"data"),[i,e,m,a,s]),_=W.useMemo(()=>_p(i,e,m,a,s,"assets"),[i,e,m,a,s]),I=W.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let F=new Set,z=!1;if(e.forEach(j=>{var J;let Q=a.routes[j.route.id];!Q||!Q.hasLoader||(!g.some(te=>te.route.id===j.route.id)&&j.route.id in f&&((J=c[j.route.id])!=null&&J.shouldRevalidate)||Q.hasClientLoader?z=!0:F.add(j.route.id))}),F.size===0)return[];let H=uv(i);return z&&F.size>0&&H.searchParams.set("_routes",e.filter(j=>F.has(j.route.id)).map(j=>j.route.id).join(",")),[H.pathname+H.search]},[f,s,a,g,e,i,c]),P=W.useMemo(()=>sv(_,a),[_,a]),k=pv(_);return W.createElement(W.Fragment,null,I.map(F=>W.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),P.map(F=>W.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),k.map(({key:F,link:z})=>W.createElement("link",{key:F,...z})))}function gv(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var km=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{km&&(window.__reactRouterVersion="7.1.0")}catch{}function yv({basename:i,children:e,window:n}){let s=W.useRef();s.current==null&&(s.current=s0({window:n,v5Compat:!0}));let a=s.current,[c,f]=W.useState({action:a.action,location:a.location}),m=W.useCallback(g=>{W.startTransition(()=>f(g))},[f]);return W.useLayoutEffect(()=>a.listen(m),[a,m]),W.createElement(W0,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:a})}var Dm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nm=W.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:c,replace:f,state:m,target:g,to:_,preventScrollReset:I,viewTransition:P,...k},F){let{basename:z}=W.useContext(Wn),H=typeof _=="string"&&Dm.test(_),j,Q=!1;if(typeof _=="string"&&H&&(j=_,km))try{let T=new URL(window.location.href),A=_.startsWith("//")?new URL(T.protocol+_):new URL(_),R=qr(A.pathname,z);A.origin===T.origin&&R!=null?_=R+A.search+A.hash:Q=!0}catch{$n(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=D0(_,{relative:a}),[te,de,Ee]=fv(s,k),B=wv(_,{replace:f,state:m,target:g,preventScrollReset:I,relative:a,viewTransition:P});function C(T){e&&e(T),T.defaultPrevented||B(T)}let S=W.createElement("a",{...k,...Ee,href:j||J,onClick:Q||c?e:C,ref:gv(F,de),target:g,"data-discover":!H&&n==="render"?"true":void 0});return te&&!H?W.createElement(W.Fragment,null,S,W.createElement(dv,{page:J})):S});Nm.displayName="Link";var vv=W.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:c,to:f,viewTransition:m,children:g,..._},I){let P=sa(f,{relative:_.relative}),k=Di(),F=W.useContext(Gl),{navigator:z,basename:H}=W.useContext(Wn),j=F!=null&&Rv(P)&&m===!0,Q=z.encodeLocation?z.encodeLocation(P).pathname:P.pathname,J=k.pathname,te=F&&F.navigation&&F.navigation.location?F.navigation.location.pathname:null;n||(J=J.toLowerCase(),te=te?te.toLowerCase():null,Q=Q.toLowerCase()),te&&H&&(te=qr(te,H)||te);const de=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let Ee=J===Q||!a&&J.startsWith(Q)&&J.charAt(de)==="/",B=te!=null&&(te===Q||!a&&te.startsWith(Q)&&te.charAt(Q.length)==="/"),C={isActive:Ee,isPending:B,isTransitioning:j},S=Ee?e:void 0,T;typeof s=="function"?T=s(C):T=[s,Ee?"active":null,B?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let A=typeof c=="function"?c(C):c;return W.createElement(Nm,{..._,"aria-current":S,className:T,ref:I,style:A,to:f,viewTransition:m},typeof g=="function"?g(C):g)});vv.displayName="NavLink";var _v=W.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:c,method:f=Nl,action:m,onSubmit:g,relative:_,preventScrollReset:I,viewTransition:P,...k},F)=>{let z=Iv(),H=Cv(m,{relative:_}),j=f.toLowerCase()==="get"?"get":"post",Q=typeof m=="string"&&Dm.test(m),J=te=>{if(g&&g(te),te.defaultPrevented)return;te.preventDefault();let de=te.nativeEvent.submitter,Ee=(de==null?void 0:de.getAttribute("formmethod"))||f;z(de||te.currentTarget,{fetcherKey:e,method:Ee,navigate:n,replace:a,state:c,relative:_,preventScrollReset:I,viewTransition:P})};return W.createElement("form",{ref:F,method:j,action:H,onSubmit:s?g:J,...k,"data-discover":!Q&&i==="render"?"true":void 0})});_v.displayName="Form";function Ev(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vm(i){let e=W.useContext(zs);return Je(e,Ev(i)),e}function wv(i,{target:e,replace:n,state:s,preventScrollReset:a,relative:c,viewTransition:f}={}){let m=Ih(),g=Di(),_=sa(i,{relative:c});return W.useCallback(I=>{if(J0(I,e)){I.preventDefault();let P=n!==void 0?n:Go(g)===Go(_);m(i,{replace:P,state:s,preventScrollReset:a,relative:c,viewTransition:f})}},[g,m,_,n,s,e,i,a,c,f])}var Tv=0,Sv=()=>`__${String(++Tv)}__`;function Iv(){let{router:i}=Vm("useSubmit"),{basename:e}=W.useContext(Wn),n=j0();return W.useCallback(async(s,a={})=>{let{action:c,method:f,encType:m,formData:g,body:_}=tv(s,e);if(a.navigate===!1){let I=a.fetcherKey||Sv();await i.fetch(I,n,a.action||c,{preventScrollReset:a.preventScrollReset,formData:g,body:_,formMethod:a.method||f,formEncType:a.encType||m,flushSync:a.flushSync})}else await i.navigate(a.action||c,{preventScrollReset:a.preventScrollReset,formData:g,body:_,formMethod:a.method||f,formEncType:a.encType||m,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,n])}function Cv(i,{relative:e}={}){let{basename:n}=W.useContext(Wn),s=W.useContext(mr);Je(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),c={...sa(i||".",{relative:e})},f=Di();if(i==null){c.search=f.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(I=>I==="")){m.delete("index"),g.filter(P=>P).forEach(P=>m.append("index",P));let I=m.toString();c.search=I?`?${I}`:""}}return(!i||i===".")&&a.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:hr([n,c.pathname])),Go(c)}function Rv(i,e={}){let n=W.useContext(Im);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Vm("useViewTransitionState"),a=sa(i,{relative:e.relative});if(!n.isTransitioning)return!1;let c=qr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=qr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ul(a.pathname,f)!=null||Ul(a.pathname,c)!=null}new TextEncoder;function Av(){const i=Ih();return it.jsx("p",{onClick:()=>i("/"),children:"dashboard"})}const xv="/tools-monitoring-web/backgrounds/23786.jpg",Pv="/tools-monitoring-web/icons/hide%20(1).png",kv="/tools-monitoring-web/icons/show.png";var Ep={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Dv=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],f=i[n++],m=i[n++],g=((a&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=i[n++],f=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return e.join("")},Fm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,m=f?i[a+1]:0,g=a+2<i.length,_=g?i[a+2]:0,I=c>>2,P=(c&3)<<4|m>>4;let k=(m&15)<<2|_>>6,F=_&63;g||(F=64,f||(k=64)),s.push(n[I],n[P],n[k],n[F])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Lm(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Dv(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const _=a<i.length?n[i.charAt(a)]:64;++a;const P=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||_==null||P==null)throw new Nv;const k=c<<2|m>>4;if(s.push(k),_!==64){const F=m<<4&240|_>>2;if(s.push(F),P!==64){const z=_<<6&192|P;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Nv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vv=function(i){const e=Lm(i);return Fm.encodeByteArray(e,!0)},zl=function(i){return Vv(i).replace(/\./g,"")},Lv=function(i){try{return Fm.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=()=>Fv().__FIREBASE_DEFAULTS__,Mv=()=>{if(typeof process>"u"||typeof Ep>"u")return;const i=Ep.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Uv=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Lv(i[1]);return e&&JSON.parse(e)},Ph=()=>{try{return Ov()||Mv()||Uv()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},zv=i=>{var e,n;return(n=(e=Ph())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},Bv=i=>{const e=zv(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Om=()=>{var i;return(i=Ph())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[zl(JSON.stringify(n)),zl(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hv(){var i;const e=(i=Ph())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qv(){return!Hv()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wv(){try{return typeof indexedDB=="object"}catch{return!1}}function Kv(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="FirebaseError";class Bs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Qv,Object.setPrototypeOf(this,Bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mm.prototype.create)}}class Mm{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],f=c?Gv(c,s):"Error",m=`${this.serviceName}: ${f} (${a}).`;return new Bs(a,m,s)}}function Gv(i,e){return i.replace(Yv,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const Yv=/\{\$([^}]+)}/g;function eh(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],f=e[a];if(wp(c)&&wp(f)){if(!eh(c,f))return!1}else if(c!==f)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function wp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(i){return i&&i._delegate?i._delegate:i}class Yo{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new bv;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(e_(e))try{this.getOrInitializeService({instanceIdentifier:Ci})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=Ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ci){return this.instances.has(e)}getOptions(e=Ci){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const f=this.instances.get(a);return f&&e(f,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Zv(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ci){return this.component?this.component.multipleInstances?e:Ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Zv(i){return i===Ci?void 0:i}function e_(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Jv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ne||(Ne={}));const n_={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},r_=Ne.INFO,i_={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},s_=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=i_[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Um{constructor(e){this.name=e,this._logLevel=r_,this._logHandler=s_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?n_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const o_=(i,e)=>e.some(n=>i instanceof n);let Tp,Sp;function a_(){return Tp||(Tp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l_(){return Sp||(Sp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zm=new WeakMap,th=new WeakMap,Bm=new WeakMap,bc=new WeakMap,kh=new WeakMap;function u_(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{n($r(i.result)),a()},f=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&zm.set(n,i)}).catch(()=>{}),kh.set(e,i),e}function c_(i){if(th.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{n(),a()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});th.set(i,e)}let nh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return th.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Bm.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $r(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function h_(i){nh=i(nh)}function f_(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(jc(this),e,...n);return Bm.set(s,e.sort?e.sort():[e]),$r(s)}:l_().includes(i)?function(...e){return i.apply(jc(this),e),$r(zm.get(this))}:function(...e){return $r(i.apply(jc(this),e))}}function d_(i){return typeof i=="function"?f_(i):(i instanceof IDBTransaction&&c_(i),o_(i,a_())?new Proxy(i,nh):i)}function $r(i){if(i instanceof IDBRequest)return u_(i);if(bc.has(i))return bc.get(i);const e=d_(i);return e!==i&&(bc.set(i,e),kh.set(e,i)),e}const jc=i=>kh.get(i);function p_(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const f=indexedDB.open(i,e),m=$r(f);return s&&f.addEventListener("upgradeneeded",g=>{s($r(f.result),g.oldVersion,g.newVersion,$r(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),a&&g.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const m_=["get","getKey","getAll","getAllKeys","count"],g_=["put","add","delete","clear"],$c=new Map;function Ip(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if($c.get(e))return $c.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=g_.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||m_.includes(n)))return;const c=async function(f,...m){const g=this.transaction(f,a?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),a&&g.done]))[0]};return $c.set(e,c),c}h_(i=>({...i,get:(e,n,s)=>Ip(e,n)||i.get(e,n,s),has:(e,n)=>!!Ip(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(v_(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function v_(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rh="@firebase/app",Cp="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new Um("@firebase/app"),__="@firebase/app-compat",E_="@firebase/analytics-compat",w_="@firebase/analytics",T_="@firebase/app-check-compat",S_="@firebase/app-check",I_="@firebase/auth",C_="@firebase/auth-compat",R_="@firebase/database",A_="@firebase/data-connect",x_="@firebase/database-compat",P_="@firebase/functions",k_="@firebase/functions-compat",D_="@firebase/installations",N_="@firebase/installations-compat",V_="@firebase/messaging",L_="@firebase/messaging-compat",F_="@firebase/performance",O_="@firebase/performance-compat",M_="@firebase/remote-config",U_="@firebase/remote-config-compat",z_="@firebase/storage",B_="@firebase/storage-compat",b_="@firebase/firestore",j_="@firebase/vertexai",$_="@firebase/firestore-compat",H_="firebase",q_="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih="[DEFAULT]",W_={[rh]:"fire-core",[__]:"fire-core-compat",[w_]:"fire-analytics",[E_]:"fire-analytics-compat",[S_]:"fire-app-check",[T_]:"fire-app-check-compat",[I_]:"fire-auth",[C_]:"fire-auth-compat",[R_]:"fire-rtdb",[A_]:"fire-data-connect",[x_]:"fire-rtdb-compat",[P_]:"fire-fn",[k_]:"fire-fn-compat",[D_]:"fire-iid",[N_]:"fire-iid-compat",[V_]:"fire-fcm",[L_]:"fire-fcm-compat",[F_]:"fire-perf",[O_]:"fire-perf-compat",[M_]:"fire-rc",[U_]:"fire-rc-compat",[z_]:"fire-gcs",[B_]:"fire-gcs-compat",[b_]:"fire-fst",[$_]:"fire-fst-compat",[j_]:"fire-vertex","fire-js":"fire-js",[H_]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=new Map,K_=new Map,sh=new Map;function Rp(i,e){try{i.container.addComponent(e)}catch(n){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function bl(i){const e=i.name;if(sh.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;sh.set(e,i);for(const n of Bl.values())Rp(n,i);for(const n of K_.values())Rp(n,i);return!0}function Q_(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new Mm("app","Firebase",G_);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Yo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=q_;function bm(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:ih,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw Hr.create("bad-app-name",{appName:String(a)});if(n||(n=Om()),!n)throw Hr.create("no-options");const c=Bl.get(a);if(c){if(eh(n,c.options)&&eh(s,c.config))return c;throw Hr.create("duplicate-app",{appName:a})}const f=new t_(a);for(const g of sh.values())f.addComponent(g);const m=new Y_(n,s,f);return Bl.set(a,m),m}function J_(i=ih){const e=Bl.get(i);if(!e&&i===ih&&Om())return bm();if(!e)throw Hr.create("no-app",{appName:i});return e}function Ps(i,e,n){var s;let a=(s=W_[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const m=[`Unable to register library "${a}" with version "${e}":`];c&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(m.join(" "));return}bl(new Yo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="firebase-heartbeat-database",e1=1,Xo="firebase-heartbeat-store";let Hc=null;function jm(){return Hc||(Hc=p_(Z_,e1,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Xo)}catch(n){console.warn(n)}}}}).catch(i=>{throw Hr.create("idb-open",{originalErrorMessage:i.message})})),Hc}async function t1(i){try{const n=(await jm()).transaction(Xo),s=await n.objectStore(Xo).get($m(i));return await n.done,s}catch(e){if(e instanceof Bs)dr.warn(e.message);else{const n=Hr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});dr.warn(n.message)}}}async function Ap(i,e){try{const s=(await jm()).transaction(Xo,"readwrite");await s.objectStore(Xo).put(e,$m(i)),await s.done}catch(n){if(n instanceof Bs)dr.warn(n.message);else{const s=Hr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});dr.warn(s.message)}}}function $m(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=1024,r1=30*24*60*60*1e3;class i1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new o1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=xp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=r1}),this._storage.overwrite(this._heartbeatsCache))}catch(s){dr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xp(),{heartbeatsToSend:s,unsentEntries:a}=s1(this._heartbeatsCache.heartbeats),c=zl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return dr.warn(n),""}}}function xp(){return new Date().toISOString().substring(0,10)}function s1(i,e=n1){const n=[];let s=i.slice();for(const a of i){const c=n.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),Pp(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Pp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class o1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wv()?Kv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await t1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ap(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ap(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Pp(i){return zl(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(i){bl(new Yo("platform-logger",e=>new y_(e),"PRIVATE")),bl(new Yo("heartbeat",e=>new i1(e),"PRIVATE")),Ps(rh,Cp,i),Ps(rh,Cp,"esm2017"),Ps("fire-js","")}a1("");var kp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ai,Hm;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function T(){}T.prototype=S.prototype,C.D=S.prototype,C.prototype=new T,C.prototype.constructor=C,C.C=function(A,R,N){for(var w=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)w[pe-2]=arguments[pe];return S.prototype[R].apply(A,w)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,S,T){T||(T=0);var A=Array(16);if(typeof S=="string")for(var R=0;16>R;++R)A[R]=S.charCodeAt(T++)|S.charCodeAt(T++)<<8|S.charCodeAt(T++)<<16|S.charCodeAt(T++)<<24;else for(R=0;16>R;++R)A[R]=S[T++]|S[T++]<<8|S[T++]<<16|S[T++]<<24;S=C.g[0],T=C.g[1],R=C.g[2];var N=C.g[3],w=S+(N^T&(R^N))+A[0]+3614090360&4294967295;S=T+(w<<7&4294967295|w>>>25),w=N+(R^S&(T^R))+A[1]+3905402710&4294967295,N=S+(w<<12&4294967295|w>>>20),w=R+(T^N&(S^T))+A[2]+606105819&4294967295,R=N+(w<<17&4294967295|w>>>15),w=T+(S^R&(N^S))+A[3]+3250441966&4294967295,T=R+(w<<22&4294967295|w>>>10),w=S+(N^T&(R^N))+A[4]+4118548399&4294967295,S=T+(w<<7&4294967295|w>>>25),w=N+(R^S&(T^R))+A[5]+1200080426&4294967295,N=S+(w<<12&4294967295|w>>>20),w=R+(T^N&(S^T))+A[6]+2821735955&4294967295,R=N+(w<<17&4294967295|w>>>15),w=T+(S^R&(N^S))+A[7]+4249261313&4294967295,T=R+(w<<22&4294967295|w>>>10),w=S+(N^T&(R^N))+A[8]+1770035416&4294967295,S=T+(w<<7&4294967295|w>>>25),w=N+(R^S&(T^R))+A[9]+2336552879&4294967295,N=S+(w<<12&4294967295|w>>>20),w=R+(T^N&(S^T))+A[10]+4294925233&4294967295,R=N+(w<<17&4294967295|w>>>15),w=T+(S^R&(N^S))+A[11]+2304563134&4294967295,T=R+(w<<22&4294967295|w>>>10),w=S+(N^T&(R^N))+A[12]+1804603682&4294967295,S=T+(w<<7&4294967295|w>>>25),w=N+(R^S&(T^R))+A[13]+4254626195&4294967295,N=S+(w<<12&4294967295|w>>>20),w=R+(T^N&(S^T))+A[14]+2792965006&4294967295,R=N+(w<<17&4294967295|w>>>15),w=T+(S^R&(N^S))+A[15]+1236535329&4294967295,T=R+(w<<22&4294967295|w>>>10),w=S+(R^N&(T^R))+A[1]+4129170786&4294967295,S=T+(w<<5&4294967295|w>>>27),w=N+(T^R&(S^T))+A[6]+3225465664&4294967295,N=S+(w<<9&4294967295|w>>>23),w=R+(S^T&(N^S))+A[11]+643717713&4294967295,R=N+(w<<14&4294967295|w>>>18),w=T+(N^S&(R^N))+A[0]+3921069994&4294967295,T=R+(w<<20&4294967295|w>>>12),w=S+(R^N&(T^R))+A[5]+3593408605&4294967295,S=T+(w<<5&4294967295|w>>>27),w=N+(T^R&(S^T))+A[10]+38016083&4294967295,N=S+(w<<9&4294967295|w>>>23),w=R+(S^T&(N^S))+A[15]+3634488961&4294967295,R=N+(w<<14&4294967295|w>>>18),w=T+(N^S&(R^N))+A[4]+3889429448&4294967295,T=R+(w<<20&4294967295|w>>>12),w=S+(R^N&(T^R))+A[9]+568446438&4294967295,S=T+(w<<5&4294967295|w>>>27),w=N+(T^R&(S^T))+A[14]+3275163606&4294967295,N=S+(w<<9&4294967295|w>>>23),w=R+(S^T&(N^S))+A[3]+4107603335&4294967295,R=N+(w<<14&4294967295|w>>>18),w=T+(N^S&(R^N))+A[8]+1163531501&4294967295,T=R+(w<<20&4294967295|w>>>12),w=S+(R^N&(T^R))+A[13]+2850285829&4294967295,S=T+(w<<5&4294967295|w>>>27),w=N+(T^R&(S^T))+A[2]+4243563512&4294967295,N=S+(w<<9&4294967295|w>>>23),w=R+(S^T&(N^S))+A[7]+1735328473&4294967295,R=N+(w<<14&4294967295|w>>>18),w=T+(N^S&(R^N))+A[12]+2368359562&4294967295,T=R+(w<<20&4294967295|w>>>12),w=S+(T^R^N)+A[5]+4294588738&4294967295,S=T+(w<<4&4294967295|w>>>28),w=N+(S^T^R)+A[8]+2272392833&4294967295,N=S+(w<<11&4294967295|w>>>21),w=R+(N^S^T)+A[11]+1839030562&4294967295,R=N+(w<<16&4294967295|w>>>16),w=T+(R^N^S)+A[14]+4259657740&4294967295,T=R+(w<<23&4294967295|w>>>9),w=S+(T^R^N)+A[1]+2763975236&4294967295,S=T+(w<<4&4294967295|w>>>28),w=N+(S^T^R)+A[4]+1272893353&4294967295,N=S+(w<<11&4294967295|w>>>21),w=R+(N^S^T)+A[7]+4139469664&4294967295,R=N+(w<<16&4294967295|w>>>16),w=T+(R^N^S)+A[10]+3200236656&4294967295,T=R+(w<<23&4294967295|w>>>9),w=S+(T^R^N)+A[13]+681279174&4294967295,S=T+(w<<4&4294967295|w>>>28),w=N+(S^T^R)+A[0]+3936430074&4294967295,N=S+(w<<11&4294967295|w>>>21),w=R+(N^S^T)+A[3]+3572445317&4294967295,R=N+(w<<16&4294967295|w>>>16),w=T+(R^N^S)+A[6]+76029189&4294967295,T=R+(w<<23&4294967295|w>>>9),w=S+(T^R^N)+A[9]+3654602809&4294967295,S=T+(w<<4&4294967295|w>>>28),w=N+(S^T^R)+A[12]+3873151461&4294967295,N=S+(w<<11&4294967295|w>>>21),w=R+(N^S^T)+A[15]+530742520&4294967295,R=N+(w<<16&4294967295|w>>>16),w=T+(R^N^S)+A[2]+3299628645&4294967295,T=R+(w<<23&4294967295|w>>>9),w=S+(R^(T|~N))+A[0]+4096336452&4294967295,S=T+(w<<6&4294967295|w>>>26),w=N+(T^(S|~R))+A[7]+1126891415&4294967295,N=S+(w<<10&4294967295|w>>>22),w=R+(S^(N|~T))+A[14]+2878612391&4294967295,R=N+(w<<15&4294967295|w>>>17),w=T+(N^(R|~S))+A[5]+4237533241&4294967295,T=R+(w<<21&4294967295|w>>>11),w=S+(R^(T|~N))+A[12]+1700485571&4294967295,S=T+(w<<6&4294967295|w>>>26),w=N+(T^(S|~R))+A[3]+2399980690&4294967295,N=S+(w<<10&4294967295|w>>>22),w=R+(S^(N|~T))+A[10]+4293915773&4294967295,R=N+(w<<15&4294967295|w>>>17),w=T+(N^(R|~S))+A[1]+2240044497&4294967295,T=R+(w<<21&4294967295|w>>>11),w=S+(R^(T|~N))+A[8]+1873313359&4294967295,S=T+(w<<6&4294967295|w>>>26),w=N+(T^(S|~R))+A[15]+4264355552&4294967295,N=S+(w<<10&4294967295|w>>>22),w=R+(S^(N|~T))+A[6]+2734768916&4294967295,R=N+(w<<15&4294967295|w>>>17),w=T+(N^(R|~S))+A[13]+1309151649&4294967295,T=R+(w<<21&4294967295|w>>>11),w=S+(R^(T|~N))+A[4]+4149444226&4294967295,S=T+(w<<6&4294967295|w>>>26),w=N+(T^(S|~R))+A[11]+3174756917&4294967295,N=S+(w<<10&4294967295|w>>>22),w=R+(S^(N|~T))+A[2]+718787259&4294967295,R=N+(w<<15&4294967295|w>>>17),w=T+(N^(R|~S))+A[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(R+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+R&4294967295,C.g[3]=C.g[3]+N&4294967295}s.prototype.u=function(C,S){S===void 0&&(S=C.length);for(var T=S-this.blockSize,A=this.B,R=this.h,N=0;N<S;){if(R==0)for(;N<=T;)a(this,C,N),N+=this.blockSize;if(typeof C=="string"){for(;N<S;)if(A[R++]=C.charCodeAt(N++),R==this.blockSize){a(this,A),R=0;break}}else for(;N<S;)if(A[R++]=C[N++],R==this.blockSize){a(this,A),R=0;break}}this.h=R,this.o+=S},s.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;var T=8*this.o;for(S=C.length-8;S<C.length;++S)C[S]=T&255,T/=256;for(this.u(C),C=Array(16),S=T=0;4>S;++S)for(var A=0;32>A;A+=8)C[T++]=this.g[S]>>>A&255;return C};function c(C,S){var T=m;return Object.prototype.hasOwnProperty.call(T,C)?T[C]:T[C]=S(C)}function f(C,S){this.h=S;for(var T=[],A=!0,R=C.length-1;0<=R;R--){var N=C[R]|0;A&&N==S||(T[R]=N,A=!1)}this.g=T}var m={};function g(C){return-128<=C&&128>C?c(C,function(S){return new f([S|0],0>S?-1:0)}):new f([C|0],0>C?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return P;if(0>C)return j(_(-C));for(var S=[],T=1,A=0;C>=T;A++)S[A]=C/T|0,T*=4294967296;return new f(S,0)}function I(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return j(I(C.substring(1),S));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=_(Math.pow(S,8)),A=P,R=0;R<C.length;R+=8){var N=Math.min(8,C.length-R),w=parseInt(C.substring(R,R+N),S);8>N?(N=_(Math.pow(S,N)),A=A.j(N).add(_(w))):(A=A.j(T),A=A.add(_(w)))}return A}var P=g(0),k=g(1),F=g(16777216);i=f.prototype,i.m=function(){if(H(this))return-j(this).m();for(var C=0,S=1,T=0;T<this.g.length;T++){var A=this.i(T);C+=(0<=A?A:4294967296+A)*S,S*=4294967296}return C},i.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(z(this))return"0";if(H(this))return"-"+j(this).toString(C);for(var S=_(Math.pow(C,6)),T=this,A="";;){var R=de(T,S).g;T=Q(T,R.j(S));var N=((0<T.g.length?T.g[0]:T.h)>>>0).toString(C);if(T=R,z(T))return N+A;for(;6>N.length;)N="0"+N;A=N+A}},i.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function z(C){if(C.h!=0)return!1;for(var S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function H(C){return C.h==-1}i.l=function(C){return C=Q(this,C),H(C)?-1:z(C)?0:1};function j(C){for(var S=C.g.length,T=[],A=0;A<S;A++)T[A]=~C.g[A];return new f(T,~C.h).add(k)}i.abs=function(){return H(this)?j(this):this},i.add=function(C){for(var S=Math.max(this.g.length,C.g.length),T=[],A=0,R=0;R<=S;R++){var N=A+(this.i(R)&65535)+(C.i(R)&65535),w=(N>>>16)+(this.i(R)>>>16)+(C.i(R)>>>16);A=w>>>16,N&=65535,w&=65535,T[R]=w<<16|N}return new f(T,T[T.length-1]&-2147483648?-1:0)};function Q(C,S){return C.add(j(S))}i.j=function(C){if(z(this)||z(C))return P;if(H(this))return H(C)?j(this).j(j(C)):j(j(this).j(C));if(H(C))return j(this.j(j(C)));if(0>this.l(F)&&0>C.l(F))return _(this.m()*C.m());for(var S=this.g.length+C.g.length,T=[],A=0;A<2*S;A++)T[A]=0;for(A=0;A<this.g.length;A++)for(var R=0;R<C.g.length;R++){var N=this.i(A)>>>16,w=this.i(A)&65535,pe=C.i(R)>>>16,Re=C.i(R)&65535;T[2*A+2*R]+=w*Re,J(T,2*A+2*R),T[2*A+2*R+1]+=N*Re,J(T,2*A+2*R+1),T[2*A+2*R+1]+=w*pe,J(T,2*A+2*R+1),T[2*A+2*R+2]+=N*pe,J(T,2*A+2*R+2)}for(A=0;A<S;A++)T[A]=T[2*A+1]<<16|T[2*A];for(A=S;A<2*S;A++)T[A]=0;return new f(T,0)};function J(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function te(C,S){this.g=C,this.h=S}function de(C,S){if(z(S))throw Error("division by zero");if(z(C))return new te(P,P);if(H(C))return S=de(j(C),S),new te(j(S.g),j(S.h));if(H(S))return S=de(C,j(S)),new te(j(S.g),S.h);if(30<C.g.length){if(H(C)||H(S))throw Error("slowDivide_ only works with positive integers.");for(var T=k,A=S;0>=A.l(C);)T=Ee(T),A=Ee(A);var R=B(T,1),N=B(A,1);for(A=B(A,2),T=B(T,2);!z(A);){var w=N.add(A);0>=w.l(C)&&(R=R.add(T),N=w),A=B(A,1),T=B(T,1)}return S=Q(C,R.j(S)),new te(R,S)}for(R=P;0<=C.l(S);){for(T=Math.max(1,Math.floor(C.m()/S.m())),A=Math.ceil(Math.log(T)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),N=_(T),w=N.j(S);H(w)||0<w.l(C);)T-=A,N=_(T),w=N.j(S);z(N)&&(N=k),R=R.add(N),C=Q(C,w)}return new te(R,C)}i.A=function(C){return de(this,C).h},i.and=function(C){for(var S=Math.max(this.g.length,C.g.length),T=[],A=0;A<S;A++)T[A]=this.i(A)&C.i(A);return new f(T,this.h&C.h)},i.or=function(C){for(var S=Math.max(this.g.length,C.g.length),T=[],A=0;A<S;A++)T[A]=this.i(A)|C.i(A);return new f(T,this.h|C.h)},i.xor=function(C){for(var S=Math.max(this.g.length,C.g.length),T=[],A=0;A<S;A++)T[A]=this.i(A)^C.i(A);return new f(T,this.h^C.h)};function Ee(C){for(var S=C.g.length+1,T=[],A=0;A<S;A++)T[A]=C.i(A)<<1|C.i(A-1)>>>31;return new f(T,C.h)}function B(C,S){var T=S>>5;S%=32;for(var A=C.g.length-T,R=[],N=0;N<A;N++)R[N]=0<S?C.i(N+T)>>>S|C.i(N+T+1)<<32-S:C.i(N+T);return new f(R,C.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Hm=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=I,Ai=f}).apply(typeof kp<"u"?kp:typeof self<"u"?self:typeof window<"u"?window:{});var Al=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qm,jo,Wm,Ll,oh,Km,Qm,Gm;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,y){return l==Array.prototype||l==Object.prototype||(l[d]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Al=="object"&&Al];for(var d=0;d<l.length;++d){var y=l[d];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var y=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var O=l[E];if(!(O in y))break e;y=y[O]}l=l[l.length-1],E=y[l],d=d(E),d!=E&&d!=null&&e(y,l,{configurable:!0,writable:!0,value:d})}}function c(l,d){l instanceof String&&(l+="");var y=0,E=!1,O={next:function(){if(!E&&y<l.length){var $=y++;return{value:d($,l[$]),done:!1}}return E=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}a("Array.prototype.values",function(l){return l||function(){return c(this,function(d,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function _(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function I(l,d,y){return l.call.apply(l.bind,arguments)}function P(l,d,y){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,E),l.apply(d,O)}}return function(){return l.apply(d,arguments)}}function k(l,d,y){return k=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?I:P,k.apply(null,arguments)}function F(l,d){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function z(l,d){function y(){}y.prototype=d.prototype,l.aa=d.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(E,O,$){for(var re=Array(arguments.length-2),be=2;be<arguments.length;be++)re[be-2]=arguments[be];return d.prototype[O].apply(E,re)}}function H(l){const d=l.length;if(0<d){const y=Array(d);for(let E=0;E<d;E++)y[E]=l[E];return y}return[]}function j(l,d){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(g(E)){const O=l.length||0,$=E.length||0;l.length=O+$;for(let re=0;re<$;re++)l[O+re]=E[re]}else l.push(E)}}class Q{constructor(d,y){this.i=d,this.j=y,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function J(l){return/^[\s\xa0]*$/.test(l)}function te(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function de(l){return de[" "](l),l}de[" "]=function(){};var Ee=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function B(l,d,y){for(const E in l)d.call(y,l[E],E,l)}function C(l,d){for(const y in l)d.call(void 0,l[y],y,l)}function S(l){const d={};for(const y in l)d[y]=l[y];return d}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(l,d){let y,E;for(let O=1;O<arguments.length;O++){E=arguments[O];for(y in E)l[y]=E[y];for(let $=0;$<T.length;$++)y=T[$],Object.prototype.hasOwnProperty.call(E,y)&&(l[y]=E[y])}}function R(l){var d=1;l=l.split(":");const y=[];for(;0<d&&l.length;)y.push(l.shift()),d--;return l.length&&y.push(l.join(":")),y}function N(l){m.setTimeout(()=>{throw l},0)}function w(){var l=ne;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class pe{constructor(){this.h=this.g=null}add(d,y){const E=Re.get();E.set(d,y),this.h?this.h.next=E:this.g=E,this.h=E}}var Re=new Q(()=>new Be,l=>l.reset());class Be{constructor(){this.next=this.g=this.h=null}set(d,y){this.h=d,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,ee=!1,ne=new pe,ie=()=>{const l=m.Promise.resolve(void 0);Ie=()=>{l.then(L)}};var L=()=>{for(var l;l=w();){try{l.h.call(l.g)}catch(y){N(y)}var d=Re;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}ee=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};m.addEventListener("test",y,d),m.removeEventListener("test",y,d)}catch{}return l}();function Se(l,d){if(he.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(Ee){e:{try{de(d.nodeName);var O=!0;break e}catch{}O=!1}O||(d=null)}}else y=="mouseover"?d=l.fromElement:y=="mouseout"&&(d=l.toElement);this.relatedTarget=d,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Pe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Se.aa.h.call(this)}}z(Se,he);var Pe={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),ze=0;function $e(l,d,y,E,O){this.listener=l,this.proxy=null,this.src=d,this.type=y,this.capture=!!E,this.ha=O,this.key=++ze,this.da=this.fa=!1}function yt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Kn(l){this.src=l,this.g={},this.h=0}Kn.prototype.add=function(l,d,y,E,O){var $=l.toString();l=this.g[$],l||(l=this.g[$]=[],this.h++);var re=gr(l,d,E,O);return-1<re?(d=l[re],y||(d.fa=!1)):(d=new $e(d,this.src,$,!!E,O),d.fa=y,l.push(d)),d};function Vi(l,d){var y=d.type;if(y in l.g){var E=l.g[y],O=Array.prototype.indexOf.call(E,d,void 0),$;($=0<=O)&&Array.prototype.splice.call(E,O,1),$&&(yt(d),l.g[y].length==0&&(delete l.g[y],l.h--))}}function gr(l,d,y,E){for(var O=0;O<l.length;++O){var $=l[O];if(!$.da&&$.listener==d&&$.capture==!!y&&$.ha==E)return O}return-1}var Xr="closure_lm_"+(1e6*Math.random()|0),Li={};function Hs(l,d,y,E,O){if(Array.isArray(d)){for(var $=0;$<d.length;$++)Hs(l,d[$],y,E,O);return null}return y=Ks(y),l&&l[Ue]?l.K(d,y,_(E)?!!E.capture:!!E,O):qs(l,d,y,!1,E,O)}function qs(l,d,y,E,O,$){if(!d)throw Error("Invalid event type");var re=_(O)?!!O.capture:!!O,be=Oi(l);if(be||(l[Xr]=be=new Kn(l)),y=be.add(d,y,E,re,$),y.proxy)return y;if(E=ca(),y.proxy=E,E.src=l,E.listener=y,l.addEventListener)Te||(O=re),O===void 0&&(O=!1),l.addEventListener(d.toString(),E,O);else if(l.attachEvent)l.attachEvent(Gn(d.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function ca(){function l(y){return d.call(l.src,l.listener,y)}const d=Ws;return l}function Fi(l,d,y,E,O){if(Array.isArray(d))for(var $=0;$<d.length;$++)Fi(l,d[$],y,E,O);else E=_(E)?!!E.capture:!!E,y=Ks(y),l&&l[Ue]?(l=l.i,d=String(d).toString(),d in l.g&&($=l.g[d],y=gr($,y,E,O),-1<y&&(yt($[y]),Array.prototype.splice.call($,y,1),$.length==0&&(delete l.g[d],l.h--)))):l&&(l=Oi(l))&&(d=l.g[d.toString()],l=-1,d&&(l=gr(d,y,E,O)),(y=-1<l?d[l]:null)&&Qn(y))}function Qn(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Ue])Vi(d.i,l);else{var y=l.type,E=l.proxy;d.removeEventListener?d.removeEventListener(y,E,l.capture):d.detachEvent?d.detachEvent(Gn(y),E):d.addListener&&d.removeListener&&d.removeListener(E),(y=Oi(d))?(Vi(y,l),y.h==0&&(y.src=null,d[Xr]=null)):yt(l)}}}function Gn(l){return l in Li?Li[l]:Li[l]="on"+l}function Ws(l,d){if(l.da)l=!0;else{d=new Se(d,this);var y=l.listener,E=l.ha||l.src;l.fa&&Qn(l),l=y.call(E,d)}return l}function Oi(l){return l=l[Xr],l instanceof Kn?l:null}var Mi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ks(l){return typeof l=="function"?l:(l[Mi]||(l[Mi]=function(d){return l.handleEvent(d)}),l[Mi])}function ct(){q.call(this),this.i=new Kn(this),this.M=this,this.F=null}z(ct,q),ct.prototype[Ue]=!0,ct.prototype.removeEventListener=function(l,d,y,E){Fi(this,l,d,y,E)};function ht(l,d){var y,E=l.F;if(E)for(y=[];E;E=E.F)y.push(E);if(l=l.M,E=d.type||d,typeof d=="string")d=new he(d,l);else if(d instanceof he)d.target=d.target||l;else{var O=d;d=new he(E,l),A(d,O)}if(O=!0,y)for(var $=y.length-1;0<=$;$--){var re=d.g=y[$];O=Yn(re,E,!0,d)&&O}if(re=d.g=l,O=Yn(re,E,!0,d)&&O,O=Yn(re,E,!1,d)&&O,y)for($=0;$<y.length;$++)re=d.g=y[$],O=Yn(re,E,!1,d)&&O}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var y=l.g[d],E=0;E<y.length;E++)yt(y[E]);delete l.g[d],l.h--}}this.F=null},ct.prototype.K=function(l,d,y,E){return this.i.add(String(l),d,!1,y,E)},ct.prototype.L=function(l,d,y,E){return this.i.add(String(l),d,!0,y,E)};function Yn(l,d,y,E){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var O=!0,$=0;$<d.length;++$){var re=d[$];if(re&&!re.da&&re.capture==y){var be=re.listener,ft=re.ha||re.src;re.fa&&Vi(l.i,re),O=be.call(ft,E)!==!1&&O}}return O&&!E.defaultPrevented}function Qs(l,d,y){if(typeof l=="function")y&&(l=k(l,y));else if(l&&typeof l.handleEvent=="function")l=k(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:m.setTimeout(l,d||0)}function yr(l){l.g=Qs(()=>{l.g=null,l.i&&(l.i=!1,yr(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class Jr extends q{constructor(d,y){super(),this.m=d,this.l=y,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:yr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zr(l){q.call(this),this.h=l,this.g={}}z(Zr,q);var Gs=[];function Ys(l){B(l.g,function(d,y){this.g.hasOwnProperty(y)&&Qn(d)},l),l.g={}}Zr.prototype.N=function(){Zr.aa.N.call(this),Ys(this)},Zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xs=m.JSON.stringify,Js=m.JSON.parse,Zs=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function ei(){}ei.prototype.h=null;function Ui(l){return l.h||(l.h=l.i())}function zi(){}var sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kn(){he.call(this,"d")}z(kn,he);function Bi(){he.call(this,"c")}z(Bi,he);var Dn={},eo=null;function ti(){return eo=eo||new ct}Dn.La="serverreachability";function to(l){he.call(this,Dn.La,l)}z(to,he);function Xn(l){const d=ti();ht(d,new to(d))}Dn.STAT_EVENT="statevent";function no(l,d){he.call(this,Dn.STAT_EVENT,l),this.stat=d}z(no,he);function nt(l){const d=ti();ht(d,new no(d,l))}Dn.Ma="timingevent";function bi(l,d){he.call(this,Dn.Ma,l),this.size=d}z(bi,he);function mn(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},d)}function ni(){this.g=!0}ni.prototype.xa=function(){this.g=!1};function ri(l,d,y,E,O,$){l.info(function(){if(l.g)if($)for(var re="",be=$.split("&"),ft=0;ft<be.length;ft++){var ke=be[ft].split("=");if(1<ke.length){var vt=ke[0];ke=ke[1];var at=vt.split("_");re=2<=at.length&&at[1]=="type"?re+(vt+"="+ke+"&"):re+(vt+"=redacted&")}}else re=null;else re=$;return"XMLHTTP REQ ("+E+") [attempt "+O+"]: "+d+`
`+y+`
`+re})}function ji(l,d,y,E,O,$,re){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+O+"]: "+d+`
`+y+`
`+$+" "+re})}function gn(l,d,y,E){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+lu(l,y)+(E?" "+E:"")})}function ro(l,d){l.info(function(){return"TIMEOUT: "+d})}ni.prototype.info=function(){};function lu(l,d){if(!l.g)return d;if(!d)return null;try{var y=JSON.parse(d);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var E=y[l];if(!(2>E.length)){var O=E[1];if(Array.isArray(O)&&!(1>O.length)){var $=O[0];if($!="noop"&&$!="stop"&&$!="close")for(var re=1;re<O.length;re++)O[re]=""}}}}return Xs(y)}catch{return d}}var $i={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ha={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yn;function ii(){}z(ii,ei),ii.prototype.g=function(){return new XMLHttpRequest},ii.prototype.i=function(){return{}},yn=new ii;function vn(l,d,y,E){this.j=l,this.i=d,this.l=y,this.R=E||1,this.U=new Zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fa}function fa(){this.i=null,this.g="",this.h=!1}var io={},Hi={};function qi(l,d,y){l.L=1,l.v=Tr(Jt(d)),l.m=y,l.P=!0,so(l,null)}function so(l,d){l.F=Date.now(),He(l),l.A=Jt(l.v);var y=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),Ir(y.i,"t",E),l.C=0,y=l.j.J,l.h=new fa,l.g=ka(l.j,y?d:null,!l.m),0<l.O&&(l.M=new Jr(k(l.Y,l,l.g),l.O)),d=l.U,y=l.g,E=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(Gs[0]=O.toString()),O=Gs);for(var $=0;$<O.length;$++){var re=Hs(y,O[$],E||d.handleEvent,!1,d.h||d);if(!re)break;d.g[re.key]=re}d=l.H?S(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Xn(),ri(l.i,l.u,l.A,l.l,l.R,l.m)}vn.prototype.ca=function(l){l=l.target;const d=this.M;d&&jt(l)==3?d.j():this.Y(l)},vn.prototype.Y=function(l){try{if(l==this.g)e:{const at=jt(this.g);var d=this.g.Ba();const ln=this.g.Z();if(!(3>at)&&(at!=3||this.g&&(this.h.h||this.g.oa()||ho(this.g)))){this.J||at!=4||d==7||(d==8||0>=ln?Xn(3):Xn(2)),si(this);var y=this.g.Z();this.X=y;t:if(da(this)){var E=ho(this.g);l="";var O=E.length,$=jt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),vr(this);var re="";break t}this.h.i=new m.TextDecoder}for(d=0;d<O;d++)this.h.h=!0,l+=this.h.i.decode(E[d],{stream:!($&&d==O-1)});E.length=0,this.h.g+=l,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=y==200,ji(this.i,this.u,this.A,this.l,this.R,at,y),this.o){if(this.T&&!this.K){t:{if(this.g){var be,ft=this.g;if((be=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(be)){var ke=be;break t}}ke=null}if(y=ke)gn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,oo(this,y);else{this.o=!1,this.s=3,nt(12),on(this),vr(this);break e}}if(this.P){y=!0;let en;for(;!this.J&&this.C<re.length;)if(en=uu(this,re),en==Hi){at==4&&(this.s=4,nt(14),y=!1),gn(this.i,this.l,null,"[Incomplete Response]");break}else if(en==io){this.s=4,nt(15),gn(this.i,this.l,re,"[Invalid Chunk]"),y=!1;break}else gn(this.i,this.l,en,null),oo(this,en);if(da(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),at!=4||re.length!=0||this.h.h||(this.s=1,nt(16),y=!1),this.o=this.o&&y,!y)gn(this.i,this.l,re,"[Invalid Chunked Response]"),on(this),vr(this);else if(0<re.length&&!this.W){this.W=!0;var vt=this.j;vt.g==this&&vt.ba&&!vt.M&&(vt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),po(vt),vt.M=!0,nt(11))}}else gn(this.i,this.l,re,null),oo(this,re);at==4&&on(this),this.o&&!this.J&&(at==4?ns(this.j,this):(this.o=!1,He(this)))}else Xi(this.g),y==400&&0<re.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),on(this),vr(this)}}}catch{}finally{}};function da(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function uu(l,d){var y=l.C,E=d.indexOf(`
`,y);return E==-1?Hi:(y=Number(d.substring(y,E)),isNaN(y)?io:(E+=1,E+y>d.length?Hi:(d=d.slice(E,E+y),l.C=E+y,d)))}vn.prototype.cancel=function(){this.J=!0,on(this)};function He(l){l.S=Date.now()+l.I,pa(l,l.I)}function pa(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=mn(k(l.ba,l),d)}function si(l){l.B&&(m.clearTimeout(l.B),l.B=null)}vn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(ro(this.i,this.A),this.L!=2&&(Xn(),nt(17)),on(this),this.s=2,vr(this)):pa(this,this.S-l)};function vr(l){l.j.G==0||l.J||ns(l.j,l)}function on(l){si(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,Ys(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function oo(l,d){try{var y=l.j;if(y.G!=0&&(y.g==l||Ot(y.h,l))){if(!l.K&&Ot(y.h,l)&&y.G==3){try{var E=y.Da.g.parse(d)}catch{E=null}if(Array.isArray(E)&&E.length==3){var O=E;if(O[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)ts(y),Sn(y);else break e;es(y),nt(18)}}else y.za=O[1],0<y.za-y.T&&37500>O[2]&&y.F&&y.v==0&&!y.C&&(y.C=mn(k(y.Za,y),6e3));if(1>=ga(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else nr(y,11)}else if((l.K||y.g==l)&&ts(y),!J(d))for(O=y.Da.g.parse(d),d=0;d<O.length;d++){let ke=O[d];if(y.T=ke[0],ke=ke[1],y.G==2)if(ke[0]=="c"){y.K=ke[1],y.ia=ke[2];const vt=ke[3];vt!=null&&(y.la=vt,y.j.info("VER="+y.la));const at=ke[4];at!=null&&(y.Aa=at,y.j.info("SVER="+y.Aa));const ln=ke[5];ln!=null&&typeof ln=="number"&&0<ln&&(E=1.5*ln,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const en=l.g;if(en){const fi=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fi){var $=E.h;$.g||fi.indexOf("spdy")==-1&&fi.indexOf("quic")==-1&&fi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ao($,$.h),$.h=null))}if(E.D){const is=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;is&&(E.ya=is,je(E.I,E.D,is))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var re=l;if(E.qa=Pa(E,E.J?E.ia:null,E.W),re.K){ya(E.h,re);var be=re,ft=E.L;ft&&(be.I=ft),be.B&&(si(be),He(be)),E.g=re}else hi(E);0<y.i.length&&Fn(y)}else ke[0]!="stop"&&ke[0]!="close"||nr(y,7);else y.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?nr(y,7):It(y):ke[0]!="noop"&&y.l&&y.l.ta(ke),y.v=0)}}Xn(4)}catch{}}var ma=class{constructor(l,d){this.g=l,this.map=d}};function oi(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ga(l){return l.h?1:l.g?l.g.size:0}function Ot(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function ao(l,d){l.g?l.g.add(d):l.h=d}function ya(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}oi.prototype.cancel=function(){if(this.i=va(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function va(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const y of l.g.values())d=d.concat(y.D);return d}return H(l.i)}function Wi(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var d=[],y=l.length,E=0;E<y;E++)d.push(l[E]);return d}d=[],y=0;for(E in l)d[y++]=l[E];return d}function Ki(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var d=[];l=l.length;for(var y=0;y<l;y++)d.push(y);return d}d=[],y=0;for(const E in l)d[y++]=E;return d}}}function _r(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var y=Ki(l),E=Wi(l),O=E.length,$=0;$<O;$++)d.call(void 0,E[$],y&&y[$],l)}var ai=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cu(l,d){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var E=l[y].indexOf("="),O=null;if(0<=E){var $=l[y].substring(0,E);O=l[y].substring(E+1)}else $=l[y];d($,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Jn(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Jn){this.h=l.h,li(this,l.j),this.o=l.o,this.g=l.g,Er(this,l.s),this.l=l.l;var d=l.i,y=new Nn;y.i=d.i,d.g&&(y.g=new Map(d.g),y.h=d.h),wr(this,y),this.m=l.m}else l&&(d=String(l).match(ai))?(this.h=!1,li(this,d[1]||"",!0),this.o=xe(d[2]||""),this.g=xe(d[3]||"",!0),Er(this,d[4]),this.l=xe(d[5]||"",!0),wr(this,d[6]||"",!0),this.m=xe(d[7]||"")):(this.h=!1,this.i=new Nn(null,this.h))}Jn.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Sr(d,Qi,!0),":");var y=this.g;return(y||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Sr(d,Qi,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Sr(y,y.charAt(0)=="/"?wa:Ea,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Sr(y,lo)),l.join("")};function Jt(l){return new Jn(l)}function li(l,d,y){l.j=y?xe(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Er(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function wr(l,d,y){d instanceof Nn?(l.i=d,Vn(l.i,l.h)):(y||(d=Sr(d,Ta)),l.i=new Nn(d,l.h))}function je(l,d,y){l.i.set(d,y)}function Tr(l){return je(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function xe(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Sr(l,d,y){return typeof l=="string"?(l=encodeURI(l).replace(d,_a),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function _a(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Qi=/[#\/\?@]/g,Ea=/[#\?:]/g,wa=/[#\?]/g,Ta=/[#\?@]/g,lo=/#/g;function Nn(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function St(l){l.g||(l.g=new Map,l.h=0,l.i&&cu(l.i,function(d,y){l.add(decodeURIComponent(d.replace(/\+/g," ")),y)}))}i=Nn.prototype,i.add=function(l,d){St(this),this.i=null,l=an(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(d),this.h+=1,this};function _n(l,d){St(l),d=an(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function En(l,d){return St(l),d=an(l,d),l.g.has(d)}i.forEach=function(l,d){St(this),this.g.forEach(function(y,E){y.forEach(function(O){l.call(d,O,E,this)},this)},this)},i.na=function(){St(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),y=[];for(let E=0;E<d.length;E++){const O=l[E];for(let $=0;$<O.length;$++)y.push(d[E])}return y},i.V=function(l){St(this);let d=[];if(typeof l=="string")En(this,l)&&(d=d.concat(this.g.get(an(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)d=d.concat(l[y])}return d},i.set=function(l,d){return St(this),this.i=null,l=an(this,l),En(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Ir(l,d,y){_n(l,d),0<y.length&&(l.i=null,l.g.set(an(l,d),H(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var y=0;y<d.length;y++){var E=d[y];const $=encodeURIComponent(String(E)),re=this.V(E);for(E=0;E<re.length;E++){var O=$;re[E]!==""&&(O+="="+encodeURIComponent(String(re[E]))),l.push(O)}}return this.i=l.join("&")};function an(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function Vn(l,d){d&&!l.j&&(St(l),l.i=null,l.g.forEach(function(y,E){var O=E.toLowerCase();E!=O&&(_n(this,E),Ir(this,O,y))},l)),l.j=d}function hu(l,d){const y=new ni;if(m.Image){const E=new Image;E.onload=F(bt,y,"TestLoadImage: loaded",!0,d,E),E.onerror=F(bt,y,"TestLoadImage: error",!1,d,E),E.onabort=F(bt,y,"TestLoadImage: abort",!1,d,E),E.ontimeout=F(bt,y,"TestLoadImage: timeout",!1,d,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else d(!1)}function Sa(l,d){const y=new ni,E=new AbortController,O=setTimeout(()=>{E.abort(),bt(y,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:E.signal}).then($=>{clearTimeout(O),$.ok?bt(y,"TestPingServer: ok",!0,d):bt(y,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(O),bt(y,"TestPingServer: error",!1,d)})}function bt(l,d,y,E,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),E(y)}catch{}}function fu(){this.g=new Zs}function Ia(l,d,y){const E=y||"";try{_r(l,function(O,$){let re=O;_(O)&&(re=Xs(O)),d.push(E+$+"="+encodeURIComponent(re))})}catch(O){throw d.push(E+"type="+encodeURIComponent("_badmap")),O}}function Zn(l){this.l=l.Ub||null,this.j=l.eb||!1}z(Zn,ei),Zn.prototype.g=function(){return new ui(this.l,this.j)},Zn.prototype.i=function(l){return function(){return l}}({});function ui(l,d){ct.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(ui,ct),i=ui.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,Tn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||m).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Tn(this)),this.g&&(this.readyState=3,Tn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ca(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ca(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?wn(this):Tn(this),this.readyState==3&&Ca(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,wn(this))},i.Qa=function(l){this.g&&(this.response=l,wn(this))},i.ga=function(){this.g&&wn(this)};function wn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Tn(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var y=d.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=d.next();return l.join(`\r
`)};function Tn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function er(l){let d="";return B(l,function(y,E){d+=E,d+=":",d+=y,d+=`\r
`}),d}function Cr(l,d,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=er(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):je(l,d,y))}function Qe(l){ct.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(Qe,ct);var du=/^https?$/i,uo=["POST","PUT"];i=Qe.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yn.g(),this.v=this.o?Ui(this.o):Ui(yn),this.g.onreadystatechange=k(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch($){ci(this,$);return}if(l=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var O in E)y.set(O,E[O]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const $ of E.keys())y.set($,E.get($));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find($=>$.toLowerCase()=="content-type"),O=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(uo,d,void 0))||E||O||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,re]of y)this.g.setRequestHeader($,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yi(this),this.u=!0,this.g.send(l),this.u=!1}catch($){ci(this,$)}};function ci(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Gi(l),Zt(l)}function Gi(l){l.A||(l.A=!0,ht(l,"complete"),ht(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ht(this,"complete"),ht(this,"abort"),Zt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),Qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?co(this):this.bb())},i.bb=function(){co(this)};function co(l){if(l.h&&typeof f<"u"&&(!l.v[1]||jt(l)!=4||l.Z()!=2)){if(l.u&&jt(l)==4)Qs(l.Ea,0,l);else if(ht(l,"readystatechange"),jt(l)==4){l.h=!1;try{const re=l.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var y;if(!(y=d)){var E;if(E=re===0){var O=String(l.D).match(ai)[1]||null;!O&&m.self&&m.self.location&&(O=m.self.location.protocol.slice(0,-1)),E=!du.test(O?O.toLowerCase():"")}y=E}if(y)ht(l,"complete"),ht(l,"success");else{l.m=6;try{var $=2<jt(l)?l.g.statusText:""}catch{$=""}l.l=$+" ["+l.Z()+"]",Gi(l)}}finally{Zt(l)}}}}function Zt(l,d){if(l.g){Yi(l);const y=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||ht(l,"ready");try{y.onreadystatechange=E}catch{}}}function Yi(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function jt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<jt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),Js(d)}};function ho(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(l){const d={};l=(l.g&&2<=jt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(J(l[E]))continue;var y=R(l[E]);const O=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const $=d[O]||[];d[O]=$,$.push(y)}C(d,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ln(l,d,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||d}function fo(l){this.Aa=0,this.i=[],this.j=new ni,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ln("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ln("baseRetryDelayMs",5e3,l),this.cb=Ln("retryDelaySeedMs",1e4,l),this.Wa=Ln("forwardChannelMaxRetries",2,l),this.wa=Ln("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new oi(l&&l.concurrentRequestLimit),this.Da=new fu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=fo.prototype,i.la=8,i.G=1,i.connect=function(l,d,y,E){nt(0),this.W=l,this.H=d||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=Pa(this,null,this.W),Fn(this)};function It(l){if(Ji(l),l.G==3){var d=l.U++,y=Jt(l.I);if(je(y,"SID",l.K),je(y,"RID",d),je(y,"TYPE","terminate"),tr(l,y),d=new vn(l,l.j,d),d.L=2,d.v=Tr(Jt(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(d.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=d.v,y=!0),y||(d.g=ka(d.j,null),d.g.ea(d.v)),d.F=Date.now(),He(d)}xa(l)}function Sn(l){l.g&&(po(l),l.g.cancel(),l.g=null)}function Ji(l){Sn(l),l.u&&(m.clearTimeout(l.u),l.u=null),ts(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function Fn(l){if(!Xt(l.h)&&!l.s){l.s=!0;var d=l.Ga;Ie||ie(),ee||(Ie(),ee=!0),ne.add(d,l),l.B=0}}function pu(l,d){return ga(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=mn(k(l.Ga,l,d),Aa(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new vn(this,this.j,l);let $=this.o;if(this.S&&($?($=S($),A($,this.S)):$=this.S),this.m!==null||this.O||(O.H=$,$=null),this.P)e:{for(var d=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(d+=E,4096<d){d=y;break e}if(d===4096||y===this.i.length-1){d=y+1;break e}}d=1e3}else d=1e3;d=Rr(this,O,d),y=Jt(this.I),je(y,"RID",l),je(y,"CVER",22),this.D&&je(y,"X-HTTP-Session-Id",this.D),tr(this,y),$&&(this.O?d="headers="+encodeURIComponent(String(er($)))+"&"+d:this.m&&Cr(y,this.m,$)),ao(this.h,O),this.Ua&&je(y,"TYPE","init"),this.P?(je(y,"$req",d),je(y,"SID","null"),O.T=!0,qi(O,y,null)):qi(O,y,d),this.G=2}}else this.G==3&&(l?Zi(this,l):this.i.length==0||Xt(this.h)||Zi(this))};function Zi(l,d){var y;d?y=d.l:y=l.U++;const E=Jt(l.I);je(E,"SID",l.K),je(E,"RID",y),je(E,"AID",l.T),tr(l,E),l.m&&l.o&&Cr(E,l.m,l.o),y=new vn(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Rr(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),ao(l.h,y),qi(y,E,d)}function tr(l,d){l.H&&B(l.H,function(y,E){je(d,E,y)}),l.l&&_r({},function(y,E){je(d,E,y)})}function Rr(l,d,y){y=Math.min(l.i.length,y);var E=l.l?k(l.l.Na,l.l,l):null;e:{var O=l.i;let $=-1;for(;;){const re=["count="+y];$==-1?0<y?($=O[0].g,re.push("ofs="+$)):$=0:re.push("ofs="+$);let be=!0;for(let ft=0;ft<y;ft++){let ke=O[ft].g;const vt=O[ft].map;if(ke-=$,0>ke)$=Math.max(0,O[ft].g-100),be=!1;else try{Ia(vt,re,"req"+ke+"_")}catch{E&&E(vt)}}if(be){E=re.join("&");break e}}}return l=l.i.splice(0,y),d.D=l,E}function hi(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;Ie||ie(),ee||(Ie(),ee=!0),ne.add(d,l),l.v=0}}function es(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=mn(k(l.Fa,l),Aa(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Ra(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=mn(k(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Sn(this),Ra(this))};function po(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Ra(l){l.g=new vn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Jt(l.qa);je(d,"RID","rpc"),je(d,"SID",l.K),je(d,"AID",l.T),je(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&je(d,"TO",l.ja),je(d,"TYPE","xmlhttp"),tr(l,d),l.m&&l.o&&Cr(d,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=Tr(Jt(d)),y.m=null,y.P=!0,so(y,l)}i.Za=function(){this.C!=null&&(this.C=null,Sn(this),es(this),nt(19))};function ts(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function ns(l,d){var y=null;if(l.g==d){ts(l),po(l),l.g=null;var E=2}else if(Ot(l.h,d))y=d.D,ya(l.h,d),E=1;else return;if(l.G!=0){if(d.o)if(E==1){y=d.m?d.m.length:0,d=Date.now()-d.F;var O=l.B;E=ti(),ht(E,new bi(E,y)),Fn(l)}else hi(l);else if(O=d.s,O==3||O==0&&0<d.X||!(E==1&&pu(l,d)||E==2&&es(l)))switch(y&&0<y.length&&(d=l.h,d.i=d.i.concat(y)),O){case 1:nr(l,5);break;case 4:nr(l,10);break;case 3:nr(l,6);break;default:nr(l,2)}}}function Aa(l,d){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*d}function nr(l,d){if(l.j.info("Error code "+d),d==2){var y=k(l.fb,l),E=l.Xa;const O=!E;E=new Jn(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||li(E,"https"),Tr(E),O?hu(E.toString(),y):Sa(E.toString(),y)}else nt(2);l.G=0,l.l&&l.l.sa(d),xa(l),Ji(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function xa(l){if(l.G=0,l.ka=[],l.l){const d=va(l.h);(d.length!=0||l.i.length!=0)&&(j(l.ka,d),j(l.ka,l.i),l.h.i.length=0,H(l.i),l.i.length=0),l.l.ra()}}function Pa(l,d,y){var E=y instanceof Jn?Jt(y):new Jn(y);if(E.g!="")d&&(E.g=d+"."+E.g),Er(E,E.s);else{var O=m.location;E=O.protocol,d=d?d+"."+O.hostname:O.hostname,O=+O.port;var $=new Jn(null);E&&li($,E),d&&($.g=d),O&&Er($,O),y&&($.l=y),E=$}return y=l.D,d=l.ya,y&&d&&je(E,y,d),je(E,"VER",l.la),tr(l,E),E}function ka(l,d,y){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Qe(new Zn({eb:y})):new Qe(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function mo(){}i=mo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function rs(){}rs.prototype.g=function(l,d){return new Mt(l,d)};function Mt(l,d){ct.call(this),this.g=new fo(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!J(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!J(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new On(this)}z(Mt,ct),Mt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mt.prototype.close=function(){It(this.g)},Mt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=Xs(l),l=y);d.i.push(new ma(d.Ya++,l)),d.G==3&&Fn(d)},Mt.prototype.N=function(){this.g.l=null,delete this.j,It(this.g),delete this.g,Mt.aa.N.call(this)};function Da(l){kn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const y in d){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}z(Da,kn);function Na(){Bi.call(this),this.status=1}z(Na,Bi);function On(l){this.g=l}z(On,mo),On.prototype.ua=function(){ht(this.g,"a")},On.prototype.ta=function(l){ht(this.g,new Da(l))},On.prototype.sa=function(l){ht(this.g,new Na)},On.prototype.ra=function(){ht(this.g,"b")},rs.prototype.createWebChannel=rs.prototype.g,Mt.prototype.send=Mt.prototype.o,Mt.prototype.open=Mt.prototype.m,Mt.prototype.close=Mt.prototype.close,Gm=function(){return new rs},Qm=function(){return ti()},Km=Dn,oh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$i.NO_ERROR=0,$i.TIMEOUT=8,$i.HTTP_ERROR=6,Ll=$i,ha.COMPLETE="complete",Wm=ha,zi.EventType=sn,sn.OPEN="a",sn.CLOSE="b",sn.ERROR="c",sn.MESSAGE="d",ct.prototype.listen=ct.prototype.K,jo=zi,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,qm=Qe}).apply(typeof Al<"u"?Al:typeof self<"u"?self:typeof window<"u"?window:{});const Dp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bs="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new Um("@firebase/firestore");function Cs(){return ki.logLevel}function ae(i,...e){if(ki.logLevel<=Ne.DEBUG){const n=e.map(Dh);ki.debug(`Firestore (${bs}): ${i}`,...n)}}function pr(i,...e){if(ki.logLevel<=Ne.ERROR){const n=e.map(Dh);ki.error(`Firestore (${bs}): ${i}`,...n)}}function Ns(i,...e){if(ki.logLevel<=Ne.WARN){const n=e.map(Dh);ki.warn(`Firestore (${bs}): ${i}`,...n)}}function Dh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(i="Unexpected state"){const e=`FIRESTORE (${bs}) INTERNAL ASSERTION FAILED: `+i;throw pr(e),new Error(e)}function Ze(i,e){i||Ce()}function Le(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Bs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class l1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class u1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class c1{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ze(this.o===void 0);let s=this.i;const a=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new xi,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const g=c;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},m=g=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new xi)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ze(typeof s.accessToken=="string"),new Ym(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new Lt(e)}}class h1{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class f1{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new h1(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class d1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p1{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ze(this.o===void 0);const s=c=>{c.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,ae("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ze(typeof n.token=="string"),this.R=n.token,new d1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=m1(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%e.length))}return s}}function Ve(i,e){return i<e?-1:i>e?1:0}function Vs(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Yt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Yt(0,0))}static max(){return new we(new Yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ce(),s===void 0?s=e.length-n:s>e.length-n&&Ce(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Jo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jo?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=e.get(a),f=n.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class tt extends Jo{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const g1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends Jo{construct(e,n,s){return new Bt(e,n,s)}static isValidIdentifier(e){return g1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Bt(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new ye(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ye(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,a+=2}else m==="`"?(f=!f,a++):m!=="."||f?(s+=m,a++):(c(),a++)}if(c(),f)throw new ye(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(tt.fromString(e))}static fromName(e){return new ve(tt.fromString(e).popFirst(5))}static empty(){return new ve(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new tt(e.slice()))}}function y1(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=we.fromTimestamp(s===1e9?new Yt(n+1,0):new Yt(n,s));return new Wr(a,ve.empty(),e)}function v1(i){return new Wr(i.readTime,i.key,-1)}class Wr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Wr(we.min(),ve.empty(),-1)}static max(){return new Wr(we.max(),ve.empty(),-1)}}function _1(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(i.documentKey,e.documentKey),n!==0?n:Ve(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(i){if(i.code!==se.FAILED_PRECONDITION||i.message!==E1)throw i;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,s)=>{n(e)})}static reject(e){return new K((n,s)=>{s(e)})}static waitFor(e){return new K((n,s)=>{let a=0,c=0,f=!1;e.forEach(m=>{++a,m.next(()=>{++c,f&&c===a&&n()},g=>s(g))}),f=!0,c===a&&n()})}static or(e){let n=K.resolve(!1);for(const s of e)n=n.next(a=>a?K.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new K((s,a)=>{const c=e.length,f=new Array(c);let m=0;for(let g=0;g<c;g++){const _=g;n(e[_]).next(I=>{f[_]=I,++m,m===c&&s(f)},I=>a(I))}})}static doWhile(e,n){return new K((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function T1(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function js(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Jl.oe=-1;function Zl(i){return i==null}function ah(i){return i===0&&1/i==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Np(e)),e=I1(i.get(n),e);return Np(e)}function I1(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case"":n+="";break;default:n+=c}}return n}function Np(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function oa(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function C1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xl(this.root,e,this.comparator,!1)}getReverseIterator(){return new xl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xl(this.root,e,this.comparator,!0)}}class xl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??At.RED,this.left=a??At.EMPTY,this.right=c??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new At(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return At.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,n,s,a,c){return this}insert(e,n,s){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Lp(this.data.getIterator())}getIteratorFrom(e){return new Lp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gt(this.comparator);return n.data=e,n}}class Lp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new br([])}unionWith(e){let n=new gt(Bt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vs(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Jm("Invalid base64 string: "+c):c}}(e);return new xt(n)}static fromUint8Array(e){const n=function(a){let c="";for(let f=0;f<a.length;++f)c+=String.fromCharCode(a[f]);return c}(e);return new xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const R1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(i){if(Ze(!!i),typeof i=="string"){let e=0;const n=R1.exec(i);if(Ze(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:st(i.seconds),nanos:st(i.nanos)}}function st(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Qr(i){return typeof i=="string"?xt.fromBase64String(i):xt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function eu(i){const e=i.mapValue.fields.__previous_value__;return Nh(e)?eu(e):e}function Zo(i){const e=Kr(i.mapValue.fields.__local_write_time__.timestampValue);return new Yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,n,s,a,c,f,m,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=_}}class ea{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ea("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ea&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Nh(i)?4:P1(i)?9007199254740991:x1(i)?10:11:Ce()}function Hn(i,e){if(i===e)return!0;const n=Gr(i);if(n!==Gr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Zo(i).isEqual(Zo(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const f=Kr(a.timestampValue),m=Kr(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return Qr(a.bytesValue).isEqual(Qr(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return st(a.geoPointValue.latitude)===st(c.geoPointValue.latitude)&&st(a.geoPointValue.longitude)===st(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return st(a.integerValue)===st(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const f=st(a.doubleValue),m=st(c.doubleValue);return f===m?ah(f)===ah(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return Vs(i.arrayValue.values||[],e.arrayValue.values||[],Hn);case 10:case 11:return function(a,c){const f=a.mapValue.fields||{},m=c.mapValue.fields||{};if(Vp(f)!==Vp(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Hn(f[g],m[g])))return!1;return!0}(i,e);default:return Ce()}}function ta(i,e){return(i.values||[]).find(n=>Hn(n,e))!==void 0}function Ls(i,e){if(i===e)return 0;const n=Gr(i),s=Gr(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return function(c,f){const m=st(c.integerValue||c.doubleValue),g=st(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return Fp(i.timestampValue,e.timestampValue);case 4:return Fp(Zo(i),Zo(e));case 5:return Ve(i.stringValue,e.stringValue);case 6:return function(c,f){const m=Qr(c),g=Qr(f);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),g=f.split("/");for(let _=0;_<m.length&&_<g.length;_++){const I=Ve(m[_],g[_]);if(I!==0)return I}return Ve(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const m=Ve(st(c.latitude),st(f.latitude));return m!==0?m:Ve(st(c.longitude),st(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Op(i.arrayValue,e.arrayValue);case 10:return function(c,f){var m,g,_,I;const P=c.fields||{},k=f.fields||{},F=(m=P.value)===null||m===void 0?void 0:m.arrayValue,z=(g=k.value)===null||g===void 0?void 0:g.arrayValue,H=Ve(((_=F==null?void 0:F.values)===null||_===void 0?void 0:_.length)||0,((I=z==null?void 0:z.values)===null||I===void 0?void 0:I.length)||0);return H!==0?H:Op(F,z)}(i.mapValue,e.mapValue);case 11:return function(c,f){if(c===Pl.mapValue&&f===Pl.mapValue)return 0;if(c===Pl.mapValue)return 1;if(f===Pl.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),_=f.fields||{},I=Object.keys(_);g.sort(),I.sort();for(let P=0;P<g.length&&P<I.length;++P){const k=Ve(g[P],I[P]);if(k!==0)return k;const F=Ls(m[g[P]],_[I[P]]);if(F!==0)return F}return Ve(g.length,I.length)}(i.mapValue,e.mapValue);default:throw Ce()}}function Fp(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const n=Kr(i),s=Kr(e),a=Ve(n.seconds,s.seconds);return a!==0?a:Ve(n.nanos,s.nanos)}function Op(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=Ls(n[a],s[a]);if(c)return c}return Ve(n.length,s.length)}function Fs(i){return lh(i)}function lh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Kr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Qr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ve.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=lh(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const f of s)c?c=!1:a+=",",a+=`${f}:${lh(n.fields[f])}`;return a+"}"}(i.mapValue):Ce()}function Fl(i){switch(Gr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=eu(i);return e?16+Fl(e):16;case 5:return 2*i.stringValue.length;case 6:return Qr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+Fl(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return oa(s.fields,(c,f)=>{a+=c.length+Fl(f)}),a}(i.mapValue);default:throw Ce()}}function uh(i){return!!i&&"integerValue"in i}function Vh(i){return!!i&&"arrayValue"in i}function Mp(i){return!!i&&"nullValue"in i}function Up(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function qc(i){return!!i&&"mapValue"in i}function x1(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function qo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return oa(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=qo(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qo(i.arrayValue.values[n]);return e}return Object.assign({},i)}function P1(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!qc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qo(n)}setAll(e){let n=Bt.emptyPath(),s={},a=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,a),s={},a=[],n=m.popLast()}f?s[m.lastSegment()]=qo(f):a.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());qc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];qc(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){oa(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new bn(qo(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,s,a,c,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Ft(e,0,we.min(),we.min(),we.min(),bn.empty(),0)}static newFoundDocument(e,n,s,a){return new Ft(e,1,n,we.min(),s,a,0)}static newNoDocument(e,n){return new Ft(e,2,n,we.min(),we.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,we.min(),we.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.position=e,this.inclusive=n}}function zp(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],f=i.position[a];if(c.field.isKeyField()?s=ve.comparator(ve.fromName(f.referenceValue),n.key):s=Ls(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Bp(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Hn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n="asc"){this.field=e,this.dir=n}}function k1(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{}class mt extends Zm{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new N1(e,n,s):n==="array-contains"?new F1(e,s):n==="in"?new O1(e,s):n==="not-in"?new M1(e,s):n==="array-contains-any"?new U1(e,s):new mt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new V1(e,s):new L1(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ls(n,this.value)):n!==null&&Gr(this.value)===Gr(n)&&this.matchesComparison(Ls(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qn extends Zm{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new qn(e,n)}matches(e){return eg(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function eg(i){return i.op==="and"}function tg(i){return D1(i)&&eg(i)}function D1(i){for(const e of i.filters)if(e instanceof qn)return!1;return!0}function ch(i){if(i instanceof mt)return i.field.canonicalString()+i.op.toString()+Fs(i.value);if(tg(i))return i.filters.map(e=>ch(e)).join(",");{const e=i.filters.map(n=>ch(n)).join(",");return`${i.op}(${e})`}}function ng(i,e){return i instanceof mt?function(s,a){return a instanceof mt&&s.op===a.op&&s.field.isEqual(a.field)&&Hn(s.value,a.value)}(i,e):i instanceof qn?function(s,a){return a instanceof qn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,f,m)=>c&&ng(f,a.filters[m]),!0):!1}(i,e):void Ce()}function rg(i){return i instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${Fs(n.value)}`}(i):i instanceof qn?function(n){return n.op.toString()+" {"+n.getFilters().map(rg).join(" ,")+"}"}(i):"Filter"}class N1 extends mt{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class V1 extends mt{constructor(e,n){super(e,"in",n),this.keys=ig("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class L1 extends mt{constructor(e,n){super(e,"not-in",n),this.keys=ig("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ig(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ve.fromName(s.referenceValue))}class F1 extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vh(n)&&ta(n.arrayValue,this.value)}}class O1 extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ta(this.value.arrayValue,n)}}class M1 extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ta(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ta(this.value.arrayValue,n)}}class U1 extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ta(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,n=null,s=[],a=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=m,this.ue=null}}function bp(i,e=null,n=[],s=[],a=null,c=null,f=null){return new z1(i,e,n,s,a,c,f)}function Lh(i){const e=Le(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>ch(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Zl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Fs(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Fs(s)).join(",")),e.ue=n}return e.ue}function Fh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!k1(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!ng(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Bp(i.startAt,e.startAt)&&Bp(i.endAt,e.endAt)}function hh(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n=null,s=[],a=[],c=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function B1(i,e,n,s,a,c,f,m){return new tu(i,e,n,s,a,c,f,m)}function Oh(i){return new tu(i)}function jp(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function b1(i){return i.collectionGroup!==null}function Wo(i){const e=Le(i);if(e.ce===null){e.ce=[];const n=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new gt(Bt.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.ce.push(new $l(c,s))}),n.has(Bt.keyField().canonicalString())||e.ce.push(new $l(Bt.keyField(),s))}return e.ce}function jn(i){const e=Le(i);return e.le||(e.le=j1(e,Wo(i))),e.le}function j1(i,e){if(i.limitType==="F")return bp(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new $l(a.field,c)});const n=i.endAt?new jl(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new jl(i.startAt.position,i.startAt.inclusive):null;return bp(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function fh(i,e,n){return new tu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function nu(i,e){return Fh(jn(i),jn(e))&&i.limitType===e.limitType}function sg(i){return`${Lh(jn(i))}|lt:${i.limitType}`}function Rs(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>rg(a)).join(", ")}]`),Zl(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>Fs(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>Fs(a)).join(",")),`Target(${s})`}(jn(i))}; limitType=${i.limitType})`}function ru(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ve.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of Wo(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(f,m,g){const _=zp(f,m,g);return f.inclusive?_<=0:_<0}(s.startAt,Wo(s),a)||s.endAt&&!function(f,m,g){const _=zp(f,m,g);return f.inclusive?_>=0:_>0}(s.endAt,Wo(s),a))}(i,e)}function $1(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function og(i){return(e,n)=>{let s=!1;for(const a of Wo(i)){const c=H1(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function H1(i,e,n){const s=i.field.isKeyField()?ve.comparator(e.key,n.key):function(c,f,m){const g=f.data.field(c),_=m.data.field(c);return g!==null&&_!==null?Ls(g,_):Ce()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){oa(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return C1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=new ot(ve.comparator);function Yr(){return q1}const ag=new ot(ve.comparator);function $o(...i){let e=ag;for(const n of i)e=e.insert(n.key,n);return e}function W1(i){let e=ag;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ri(){return Ko()}function lg(){return Ko()}function Ko(){return new Ni(i=>i.toString(),(i,e)=>i.isEqual(e))}const K1=new gt(ve.comparator);function Oe(...i){let e=K1;for(const n of i)e=e.add(n);return e}const Q1=new gt(Ve);function G1(){return Q1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ah(e)?"-0":e}}function X1(i){return{integerValue:""+i}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(){this._=void 0}}function J1(i,e,n){return i instanceof dh?function(a,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&Nh(c)&&(c=eu(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}}(n,e):i instanceof Hl?ug(i,e):i instanceof ql?cg(i,e):function(a,c){const f=eE(a,c),m=$p(f)+$p(a.Pe);return uh(f)&&uh(a.Pe)?X1(m):Y1(a.serializer,m)}(i,e)}function Z1(i,e,n){return i instanceof Hl?ug(i,e):i instanceof ql?cg(i,e):n}function eE(i,e){return i instanceof ph?function(s){return uh(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class dh extends iu{}class Hl extends iu{constructor(e){super(),this.elements=e}}function ug(i,e){const n=hg(e);for(const s of i.elements)n.some(a=>Hn(a,s))||n.push(s);return{arrayValue:{values:n}}}class ql extends iu{constructor(e){super(),this.elements=e}}function cg(i,e){let n=hg(e);for(const s of i.elements)n=n.filter(a=>!Hn(a,s));return{arrayValue:{values:n}}}class ph extends iu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function $p(i){return st(i.integerValue||i.doubleValue)}function hg(i){return Vh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function tE(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof Hl&&a instanceof Hl||s instanceof ql&&a instanceof ql?Vs(s.elements,a.elements,Hn):s instanceof ph&&a instanceof ph?Hn(s.Pe,a.Pe):s instanceof dh&&a instanceof dh}(i.transform,e.transform)}class Pi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pi}static exists(e){return new Pi(void 0,e)}static updateTime(e){return new Pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ol(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Mh{}function fg(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new rE(i.key,Pi.none()):new Uh(i.key,i.data,Pi.none());{const n=i.data,s=bn.empty();let a=new gt(Bt.comparator);for(let c of e.fields)if(!a.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),a=a.add(c)}return new su(i.key,s,new br(a.toArray()),Pi.none())}}function nE(i,e,n){i instanceof Uh?function(a,c,f){const m=a.value.clone(),g=qp(a.fieldTransforms,c,f.transformResults);m.setAll(g),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof su?function(a,c,f){if(!Ol(a.precondition,c))return void c.convertToUnknownDocument(f.version);const m=qp(a.fieldTransforms,c,f.transformResults),g=c.data;g.setAll(dg(a)),g.setAll(m),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(i,e,n):function(a,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Qo(i,e,n,s){return i instanceof Uh?function(c,f,m,g){if(!Ol(c.precondition,f))return m;const _=c.value.clone(),I=Wp(c.fieldTransforms,g,f);return _.setAll(I),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(i,e,n,s):i instanceof su?function(c,f,m,g){if(!Ol(c.precondition,f))return m;const _=Wp(c.fieldTransforms,g,f),I=f.data;return I.setAll(dg(c)),I.setAll(_),f.convertToFoundDocument(f.version,I).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(P=>P.field))}(i,e,n,s):function(c,f,m){return Ol(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function Hp(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Vs(s,a,(c,f)=>tE(c,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Uh extends Mh{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class su extends Mh{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function dg(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function qp(i,e,n){const s=new Map;Ze(i.length===n.length);for(let a=0;a<n.length;a++){const c=i[a],f=c.transform,m=e.data.field(c.field);s.set(c.field,Z1(f,m,n[a]))}return s}function Wp(i,e,n){const s=new Map;for(const a of i){const c=a.transform,f=n.data.field(a.field);s.set(a.field,J1(c,f,e))}return s}class rE extends Mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&nE(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Qo(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Qo(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=lg();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(a.key)?null:m;const g=fg(f,m);g!==null&&s.set(a.key,g),f.isValidDocument()||f.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&Vs(this.mutations,e.mutations,(n,s)=>Hp(n,s))&&Vs(this.baseMutations,e.baseMutations,(n,s)=>Hp(n,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,De;function pg(i){if(i===void 0)return pr("GRPC error has no .code"),se.UNKNOWN;switch(i){case ut.OK:return se.OK;case ut.CANCELLED:return se.CANCELLED;case ut.UNKNOWN:return se.UNKNOWN;case ut.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case ut.INTERNAL:return se.INTERNAL;case ut.UNAVAILABLE:return se.UNAVAILABLE;case ut.UNAUTHENTICATED:return se.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case ut.NOT_FOUND:return se.NOT_FOUND;case ut.ALREADY_EXISTS:return se.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return se.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case ut.ABORTED:return se.ABORTED;case ut.OUT_OF_RANGE:return se.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return se.UNIMPLEMENTED;case ut.DATA_LOSS:return se.DATA_LOSS;default:return Ce()}}(De=ut||(ut={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=new Ai([4294967295,4294967295],0);function Kp(i){const e=aE().encode(i),n=new Hm;return n.update(e),new Uint8Array(n.digest())}function Qp(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ai([n,s],0),new Ai([a,c],0)]}class zh{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ho(`Invalid padding: ${n}`);if(s<0)throw new Ho(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ho(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ho(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Ai.fromNumber(this.Te)}Ee(e,n,s){let a=e.add(n.multiply(Ai.fromNumber(s)));return a.compare(lE)===1&&(a=new Ai([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Kp(e),[s,a]=Qp(n);for(let c=0;c<this.hashCount;c++){const f=this.Ee(s,a,c);if(!this.de(f))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new zh(c,a,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Te===0)return;const n=Kp(e),[s,a]=Qp(n);for(let c=0;c<this.hashCount;c++){const f=this.Ee(s,a,c);this.Ae(f)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ho extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,aa.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ou(we.min(),a,new ot(Ve),Yr(),Oe())}}class aa{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new aa(s,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class mg{constructor(e,n){this.targetId=e,this.me=n}}class gg{constructor(e,n,s=xt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Gp{constructor(){this.fe=0,this.ge=Yp(),this.pe=xt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Oe(),n=Oe(),s=Oe();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ce()}}),new aa(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=Yp()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class uE{constructor(e){this.Le=e,this.Be=new Map,this.ke=Yr(),this.qe=kl(),this.Qe=kl(),this.Ke=new ot(Ve)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:Ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((s,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const c=a.target;if(hh(c))if(s===0){const f=new ve(c.path);this.We(n,f,Ft.newNoDocument(f,we.min()))}else Ze(s===1);else{const f=this.Ze(n);if(f!==s){const m=this.Xe(e),g=m?this.et(m,e,f):1;if(g!==0){this.He(n);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,_)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let f,m;try{f=Qr(s).toUint8Array()}catch(g){if(g instanceof Jm)return Ns("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new zh(f,a,c)}catch(g){return Ns(g instanceof Ho?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Te===0?null:m}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const f=this.Le.nt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.We(n,c,null),a++)}),a}it(e){const n=new Map;this.Be.forEach((c,f)=>{const m=this.Ye(f);if(m){if(c.current&&hh(m.target)){const g=new ve(m.target.path);this.st(g).has(f)||this.ot(f,g)||this.We(f,g,Ft.newNoDocument(g,e))}c.be&&(n.set(f,c.ve()),c.Ce())}});let s=Oe();this.Qe.forEach((c,f)=>{let m=!0;f.forEachWhile(g=>{const _=this.Ye(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.ke.forEach((c,f)=>f.setReadTime(e));const a=new ou(e,n,this.Ke,this.ke,s);return this.ke=Yr(),this.qe=kl(),this.Qe=kl(),this.Ke=new ot(Ve),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new Gp,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new gt(Ve),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new gt(Ve),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Gp),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function kl(){return new ot(ve.comparator)}function Yp(){return new ot(ve.comparator)}const cE={asc:"ASCENDING",desc:"DESCENDING"},hE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fE={and:"AND",or:"OR"};class dE{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mh(i,e){return i.useProto3Json||Zl(e)?e:{value:e}}function pE(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mE(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function ks(i){return Ze(!!i),we.fromTimestamp(function(n){const s=Kr(n);return new Yt(s.seconds,s.nanos)}(i))}function gE(i,e){return gh(i,e).canonicalString()}function gh(i,e){const n=function(a){return new tt(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function yg(i){const e=tt.fromString(i);return Ze(Tg(e)),e}function Wc(i,e){const n=yg(e);if(n.get(1)!==i.databaseId.projectId)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ve(_g(n))}function vg(i,e){return gE(i.databaseId,e)}function yE(i){const e=yg(i);return e.length===4?tt.emptyPath():_g(e)}function Xp(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function _g(i){return Ze(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function vE(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(_,I){return _.useProto3Json?(Ze(I===void 0||typeof I=="string"),xt.fromBase64String(I||"")):(Ze(I===void 0||I instanceof Buffer||I instanceof Uint8Array),xt.fromUint8Array(I||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(_){const I=_.code===void 0?se.UNKNOWN:pg(_.code);return new ye(I,_.message||"")}(f);n=new gg(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Wc(i,s.document.name),c=ks(s.document.updateTime),f=s.document.createTime?ks(s.document.createTime):we.min(),m=new bn({mapValue:{fields:s.document.fields}}),g=Ft.newFoundDocument(a,c,f,m),_=s.targetIds||[],I=s.removedTargetIds||[];n=new Ml(_,I,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Wc(i,s.document),c=s.readTime?ks(s.readTime):we.min(),f=Ft.newNoDocument(a,c),m=s.removedTargetIds||[];n=new Ml([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Wc(i,s.document),c=s.removedTargetIds||[];n=new Ml([],c,a,null)}else{if(!("filter"in e))return Ce();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,f=new oE(a,c),m=s.targetId;n=new mg(m,f)}}return n}function _E(i,e){return{documents:[vg(i,e.path)]}}function EE(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=vg(i,a);const c=function(_){if(_.length!==0)return wg(qn.create(_,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(_){if(_.length!==0)return _.map(I=>function(k){return{field:As(k.field),direction:SE(k.dir)}}(I))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=mh(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ct:n,parent:a}}function wE(i){let e=yE(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ze(s===1);const I=n.from[0];I.allDescendants?a=I.collectionId:e=e.child(I.collectionId)}let c=[];n.where&&(c=function(P){const k=Eg(P);return k instanceof qn&&tg(k)?k.getFilters():[k]}(n.where));let f=[];n.orderBy&&(f=function(P){return P.map(k=>function(z){return new $l(xs(z.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction))}(k))}(n.orderBy));let m=null;n.limit&&(m=function(P){let k;return k=typeof P=="object"?P.value:P,Zl(k)?null:k}(n.limit));let g=null;n.startAt&&(g=function(P){const k=!!P.before,F=P.values||[];return new jl(F,k)}(n.startAt));let _=null;return n.endAt&&(_=function(P){const k=!P.before,F=P.values||[];return new jl(F,k)}(n.endAt)),B1(e,a,f,c,m,"F",g,_)}function TE(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Eg(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=xs(n.unaryFilter.field);return mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=xs(n.unaryFilter.field);return mt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=xs(n.unaryFilter.field);return mt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=xs(n.unaryFilter.field);return mt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(i):i.fieldFilter!==void 0?function(n){return mt.create(xs(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return qn.create(n.compositeFilter.filters.map(s=>Eg(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ce()}}(n.compositeFilter.op))}(i):Ce()}function SE(i){return cE[i]}function IE(i){return hE[i]}function CE(i){return fE[i]}function As(i){return{fieldPath:i.canonicalString()}}function xs(i){return Bt.fromServerFormat(i.fieldPath)}function wg(i){return i instanceof mt?function(n){if(n.op==="=="){if(Up(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NAN"}};if(Mp(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Up(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NOT_NAN"}};if(Mp(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:As(n.field),op:IE(n.op),value:n.value}}}(i):i instanceof qn?function(n){const s=n.getFilters().map(a=>wg(a));return s.length===1?s[0]:{compositeFilter:{op:CE(n.op),filters:s}}}(i):Ce()}function Tg(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n,s,a,c=we.min(),f=we.min(),m=xt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e){this.ht=e}}function AE(i){const e=wE({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?fh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(){this.ln=new PE}addToCollectionParentIndex(e,n){return this.ln.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(Wr.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(Wr.min())}updateCollectionGroup(e,n,s){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class PE{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new gt(tt.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new gt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Gt{static withCacheSize(e){return new Gt(e,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gt.DEFAULT_COLLECTION_PERCENTILE=10,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gt.DEFAULT=new Gt(41943040,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gt.DISABLED=new Gt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Os(0)}static Qn(){return new Os(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp([i,e],[n,s]){const a=Ve(i,n);return a===0?Ve(e,s):a}class kE{constructor(e){this.Gn=e,this.buffer=new gt(Zp),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Zp(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DE{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ae("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){js(n)?ae("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Xl(n)}await this.Yn(3e5)})}}class NE{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return K.resolve(Jl.oe);const s=new kE(n);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Jp)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jp):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,c,f,m,g,_;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(P=>(P>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${P}`),a=this.params.maximumSequenceNumbersToCollect):a=P,f=Date.now(),this.nthSequenceNumber(e,a))).next(P=>(s=P,m=Date.now(),this.removeTargets(e,s,n))).next(P=>(c=P,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(P=>(_=Date.now(),Cs()<=Ne.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-I}ms
	Determined least recently used ${a} in `+(m-f)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${P} documents in `+(_-g)+`ms
Total Duration: ${_-I}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:P})))}}function VE(i,e){return new NE(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(){this.changes=new Ni(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?K.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&Qo(s.mutation,a,br.empty(),Yt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Oe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Oe()){const a=Ri();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let f=$o();return c.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Ri();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Oe()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,a){let c=Yr();const f=Ko(),m=function(){return Ko()}();return n.forEach((g,_)=>{const I=s.get(_.key);a.has(_.key)&&(I===void 0||I.mutation instanceof su)?c=c.insert(_.key,_):I!==void 0?(f.set(_.key,I.mutation.getFieldMask()),Qo(I.mutation,_,I.mutation.getFieldMask(),Yt.now())):f.set(_.key,br.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((_,I)=>f.set(_,I)),n.forEach((_,I)=>{var P;return m.set(_,new FE(I,(P=f.get(_))!==null&&P!==void 0?P:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Ko();let a=new ot((f,m)=>f-m),c=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(g=>{const _=n.get(g);if(_===null)return;let I=s.get(g)||br.empty();I=m.applyToLocalView(_,I),s.set(g,I);const P=(a.get(m.batchId)||Oe()).add(g);a=a.insert(m.batchId,P)})}).next(()=>{const f=[],m=a.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),_=g.key,I=g.value,P=lg();I.forEach(k=>{if(!c.has(k)){const F=fg(n.get(k),s.get(k));F!==null&&P.set(k,F),c=c.add(k)}}),f.push(this.documentOverlayCache.saveOverlays(e,_,P))}return K.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(f){return ve.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):b1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):K.resolve(Ri());let m=-1,g=c;return f.next(_=>K.forEach(_,(I,P)=>(m<P.largestBatchId&&(m=P.largestBatchId),c.get(I)?K.resolve():this.remoteDocumentCache.getEntry(e,I).next(k=>{g=g.insert(I,k)}))).next(()=>this.populateOverlays(e,_,c)).next(()=>this.computeViews(e,g,_,Oe())).next(I=>({batchId:m,changes:W1(I)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(s=>{let a=$o();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let f=$o();return this.indexManager.getCollectionParents(e,c).next(m=>K.forEach(m,g=>{const _=function(P,k){return new tu(k,null,P.explicitOrderBy.slice(),P.filters.slice(),P.limit,P.limitType,P.startAt,P.endAt)}(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,s,a).next(I=>{I.forEach((P,k)=>{f=f.insert(P,k)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(f=>{c.forEach((g,_)=>{const I=_.getKey();f.get(I)===null&&(f=f.insert(I,Ft.newInvalidDocument(I)))});let m=$o();return f.forEach((g,_)=>{const I=c.get(g);I!==void 0&&Qo(I.mutation,_,br.empty(),Yt.now()),ru(n,_)&&(m=m.insert(g,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return K.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:ks(a.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:AE(a.bundledQuery),readTime:ks(a.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(){this.overlays=new ot(ve.comparator),this.Er=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ri();return K.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.Tt(e,n,c)}),K.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Er.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Er.delete(s)),K.resolve()}getOverlaysForCollection(e,n,s){const a=Ri(),c=n.length+1,f=new ve(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,_=g.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>s&&a.set(g.getKey(),g)}return K.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new ot((_,I)=>_-I);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let I=c.get(_.largestBatchId);I===null&&(I=Ri(),c=c.insert(_.largestBatchId,I)),I.set(_.getKey(),_)}}const m=Ri(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,I)=>m.set(_,I)),!(m.size()>=a)););return K.resolve(m)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const f=this.Er.get(a.largestBatchId).delete(s.key);this.Er.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new sE(n,s));let c=this.Er.get(n);c===void 0&&(c=Oe(),this.Er.set(n,c)),this.Er.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this.dr=new gt(Tt.Ar),this.Rr=new gt(Tt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const s=new Tt(e,n);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new Tt(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new ve(new tt([])),s=new Tt(n,e),a=new Tt(n,e+1),c=[];return this.Rr.forEachInRange([s,a],f=>{this.gr(f),c.push(f.key)}),c}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new ve(new tt([])),s=new Tt(n,e),a=new Tt(n,e+1);let c=Oe();return this.Rr.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new Tt(e,0),s=this.dr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Tt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return ve.comparator(e.key,n.key)||Ve(e.br,n.br)}static Vr(e,n){return Ve(e.br,n.br)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new gt(Tt.Ar)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new iE(c,n,s,a);this.mutationQueue.push(f);for(const m of a)this.vr=this.vr.add(new Tt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return K.resolve(f)}lookupMutationBatch(e,n){return K.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),c=a<0?0:a;return K.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Tt(n,0),a=new Tt(n,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([s,a],f=>{const m=this.Cr(f.br);c.push(m)}),K.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new gt(Ve);return n.forEach(a=>{const c=new Tt(a,0),f=new Tt(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,f],m=>{s=s.add(m.br)})}),K.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;ve.isDocumentKey(c)||(c=c.child(""));const f=new Tt(new ve(c),0);let m=new gt(Ve);return this.vr.forEachWhile(g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===a&&(m=m.add(g.br)),!0)},f),K.resolve(this.Mr(m))}Mr(e){const n=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Ze(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return K.forEach(n.mutations,a=>{const c=new Tt(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,n){const s=new Tt(n,0),a=this.vr.firstAfterOrEqual(s);return K.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e){this.Nr=e,this.docs=function(){return new ot(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,f=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return K.resolve(s?s.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let s=Yr();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Ft.newInvalidDocument(a))}),K.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=Yr();const f=n.path,m=new ve(f.child("")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:_,value:{document:I}}=g.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||_1(v1(I),s)<=0||(a.has(I.key)||ru(n,I))&&(c=c.insert(I.key,I.mutableCopy()))}return K.resolve(c)}getAllFromCollectionGroup(e,n,s,a){Ce()}Lr(e,n){return K.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new jE(this)}getSize(e){return K.resolve(this.size)}}class jE extends LE{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),K.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e){this.persistence=e,this.Br=new Ni(n=>Lh(n),Fh),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.kr=0,this.qr=new Bh,this.targetCount=0,this.Qr=Os.qn()}forEachTarget(e,n){return this.Br.forEach((s,a)=>n(a)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),K.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Os(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.Un(n),K.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.Br.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Br.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),K.waitFor(c).next(()=>a)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const s=this.Br.get(n)||null;return K.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),K.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),K.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return K.resolve(s)}containsKey(e,n){return K.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Jl(0),this.Ur=!1,this.Ur=!0,this.Wr=new zE,this.referenceDelegate=e(this),this.Gr=new $E(this),this.indexManager=new xE,this.remoteDocumentCache=function(a){return new bE(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new RE(n),this.jr=new ME(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new BE(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){ae("MemoryPersistence","Starting transaction:",e);const a=new HE(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(c=>this.referenceDelegate.Jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Yr(e,n){return K.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class HE extends w1{constructor(e){super(),this.currentSequenceNumber=e}}class bh{constructor(e){this.persistence=e,this.Zr=new Bh,this.Xr=null}static ei(e){return new bh(e)}get ti(){if(this.Xr)return this.Xr;throw Ce()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),K.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),K.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.ti.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ti,s=>{const a=ve.fromPath(s);return this.ni(e,a).next(c=>{c||n.removeEntry(a,we.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return K.or([()=>K.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Wl{constructor(e,n){this.persistence=e,this.ri=new Ni(s=>S1(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=VE(this,n)}static ei(e,n){return new Wl(e,n)}Hr(){}Jr(e){return K.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return K.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(c=>c?K.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Lr(e,f=>this.ir(e,f,n).next(m=>{m||(s++,c.removeEntry(f,we.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),K.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),K.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Fl(e.data.value)),n}ir(e,n,s){return K.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return K.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=Oe(),a=Oe();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new jh(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return qv()?8:T1($v())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.Xi(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.es(e,n,a,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new qE;return this.ts(e,n,f).next(m=>{if(c.result=m,this.Hi)return this.ns(e,n,f,m.size)})}).next(()=>c.result)}ns(e,n,s,a){return s.documentReadCount<this.Ji?(Cs()<=Ne.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Rs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),K.resolve()):(Cs()<=Ne.DEBUG&&ae("QueryEngine","Query:",Rs(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(Cs()<=Ne.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Rs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jn(n))):K.resolve())}Xi(e,n){if(jp(n))return K.resolve(null);let s=jn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=fh(n,null,"F"),s=jn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=Oe(...c);return this.Zi.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const _=this.rs(n,m);return this.ss(n,_,f,g.readTime)?this.Xi(e,fh(n,null,"F")):this.os(e,_,n,g)}))})))}es(e,n,s,a){return jp(n)||a.isEqual(we.min())?K.resolve(null):this.Zi.getDocuments(e,s).next(c=>{const f=this.rs(n,c);return this.ss(n,f,s,a)?K.resolve(null):(Cs()<=Ne.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Rs(n)),this.os(e,f,n,y1(a,-1)).next(m=>m))})}rs(e,n){let s=new gt(og(e));return n.forEach((a,c)=>{ru(e,c)&&(s=s.add(c))}),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ts(e,n,s){return Cs()<=Ne.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Rs(n)),this.Zi.getDocumentsMatchingQuery(e,n,Wr.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new ot(Ve),this.cs=new Ni(c=>Lh(c),Fh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OE(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function QE(i,e,n,s){return new KE(i,e,n,s)}async function Ig(i,e){const n=Le(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],m=[];let g=Oe();for(const _ of a){f.push(_.batchId);for(const I of _.mutations)g=g.add(I.key)}for(const _ of c){m.push(_.batchId);for(const I of _.mutations)g=g.add(I.key)}return n.localDocuments.getDocuments(s,g).next(_=>({Ts:_,removedBatchIds:f,addedBatchIds:m}))})})}function Cg(i){const e=Le(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function GE(i,e){const n=Le(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const m=[];e.targetChanges.forEach((I,P)=>{const k=a.get(P);if(!k)return;m.push(n.Gr.removeMatchingKeys(c,I.removedDocuments,P).next(()=>n.Gr.addMatchingKeys(c,I.addedDocuments,P)));let F=k.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(P)!==null?F=F.withResumeToken(xt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):I.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(I.resumeToken,s)),a=a.insert(P,F),function(H,j,Q){return H.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(k,F,I)&&m.push(n.Gr.updateTargetData(c,F))});let g=Yr(),_=Oe();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,I))}),m.push(YE(c,f,e.documentUpdates).next(I=>{g=I.Is,_=I.Es})),!s.isEqual(we.min())){const I=n.Gr.getLastRemoteSnapshotVersion(c).next(P=>n.Gr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(I)}return K.waitFor(m).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,g,_)).next(()=>g)}).then(c=>(n.us=a,c))}function YE(i,e,n){let s=Oe(),a=Oe();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let f=Yr();return n.forEach((m,g)=>{const _=c.get(m);g.isFoundDocument()!==_.isFoundDocument()&&(a=a.add(m)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):ae("LocalStore","Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",g.version)}),{Is:f,Es:a}})}function XE(i,e){const n=Le(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Gr.getTargetData(s,e).next(c=>c?(a=c,K.resolve(a)):n.Gr.allocateTargetId(s).next(f=>(a=new jr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function yh(i,e,n){const s=Le(i),a=s.us.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a))}catch(f){if(!js(f))throw f;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function em(i,e,n){const s=Le(i);let a=we.min(),c=Oe();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,_,I){const P=Le(g),k=P.cs.get(I);return k!==void 0?K.resolve(P.us.get(k)):P.Gr.getTargetData(_,I)}(s,f,jn(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(f,m.targetId).next(g=>{c=g})}).next(()=>s._s.getDocumentsMatchingQuery(f,e,n?a:we.min(),n?c:Oe())).next(m=>(JE(s,$1(e),m),{documents:m,ds:c})))}function JE(i,e,n){let s=i.ls.get(e)||we.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.ls.set(e,s)}class tm{constructor(){this.activeTargetIds=G1()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZE{constructor(){this._o=new tm,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new tm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dl=null;function Kc(){return Dl===null?Dl=function(){return 268435456+Math.round(2147483648*Math.random())}():Dl++,"0x"+Dl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vt="WebChannelConnection";class rw extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}Oo(n,s,a,c,f){const m=Kc(),g=this.No(n,s.toUriEncodedString());ae("RestConnection",`Sending RPC '${n}' ${m}:`,g,a);const _={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(_,c,f),this.Bo(n,g,_,a).then(I=>(ae("RestConnection",`Received RPC '${n}' ${m}: `,I),I),I=>{throw Ns("RestConnection",`RPC '${n}' ${m} failed with error: `,I,"url: ",g,"request:",a),I})}ko(n,s,a,c,f,m){return this.Oo(n,s,a,c,f)}Lo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,f)=>n[f]=c),a&&a.headers.forEach((c,f)=>n[f]=c)}No(n,s){const a=tw[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,s,a){const c=Kc();return new Promise((f,m)=>{const g=new qm;g.setWithCredentials(!0),g.listenOnce(Wm.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Ll.NO_ERROR:const I=g.getResponseJson();ae(Vt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(I)),f(I);break;case Ll.TIMEOUT:ae(Vt,`RPC '${e}' ${c} timed out`),m(new ye(se.DEADLINE_EXCEEDED,"Request time out"));break;case Ll.HTTP_ERROR:const P=g.getStatus();if(ae(Vt,`RPC '${e}' ${c} failed with status:`,P,"response text:",g.getResponseText()),P>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const F=k==null?void 0:k.error;if(F&&F.status&&F.message){const z=function(j){const Q=j.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(Q)>=0?Q:se.UNKNOWN}(F.status);m(new ye(z,F.message))}else m(new ye(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ye(se.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{ae(Vt,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(a);ae(Vt,`RPC '${e}' ${c} sending request:`,a),g.send(n,"POST",_,s,15)})}qo(e,n,s){const a=Kc(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Gm(),m=Qm(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Lo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const I=c.join("");ae(Vt,`Creating RPC '${e}' stream ${a}: ${I}`,g);const P=f.createWebChannel(I,g);let k=!1,F=!1;const z=new nw({Eo:j=>{F?ae(Vt,`Not sending because RPC '${e}' stream ${a} is closed:`,j):(k||(ae(Vt,`Opening RPC '${e}' stream ${a} transport.`),P.open(),k=!0),ae(Vt,`RPC '${e}' stream ${a} sending:`,j),P.send(j))},Ao:()=>P.close()}),H=(j,Q,J)=>{j.listen(Q,te=>{try{J(te)}catch(de){setTimeout(()=>{throw de},0)}})};return H(P,jo.EventType.OPEN,()=>{F||(ae(Vt,`RPC '${e}' stream ${a} transport opened.`),z.So())}),H(P,jo.EventType.CLOSE,()=>{F||(F=!0,ae(Vt,`RPC '${e}' stream ${a} transport closed`),z.Do())}),H(P,jo.EventType.ERROR,j=>{F||(F=!0,Ns(Vt,`RPC '${e}' stream ${a} transport errored:`,j),z.Do(new ye(se.UNAVAILABLE,"The operation could not be completed")))}),H(P,jo.EventType.MESSAGE,j=>{var Q;if(!F){const J=j.data[0];Ze(!!J);const te=J,de=(te==null?void 0:te.error)||((Q=te[0])===null||Q===void 0?void 0:Q.error);if(de){ae(Vt,`RPC '${e}' stream ${a} received error:`,de);const Ee=de.status;let B=function(T){const A=ut[T];if(A!==void 0)return pg(A)}(Ee),C=de.message;B===void 0&&(B=se.INTERNAL,C="Unknown error status: "+Ee+" with message "+de.message),F=!0,z.Do(new ye(B,C)),P.close()}else ae(Vt,`RPC '${e}' stream ${a} received:`,J),z.vo(J)}}),H(m,Km.STAT_EVENT,j=>{j.stat===oh.PROXY?ae(Vt,`RPC '${e}' stream ${a} detected buffering proxy`):j.stat===oh.NOPROXY&&ae(Vt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{z.bo()},0),z}}function Qc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(i){return new dE(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n,s=1e3,a=1.5,c=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&ae("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,n,s,a,c,f,m,g){this.li=e,this.Yo=s,this.Zo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Ag(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===n&&this.I_(s,a)},s=>{e(()=>{const a=new ye(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(a)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.E_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sw extends iw{constructor(e,n,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=vE(this.serializer,e),s=function(c){if(!("targetChange"in c))return we.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?ks(f.readTime):we.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=Xp(this.serializer),n.addTarget=function(c,f){let m;const g=f.target;if(m=hh(g)?{documents:_E(c,g)}:{query:EE(c,g).ct},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=mE(c,f.resumeToken);const _=mh(c,f.expectedCount);_!==null&&(m.expectedCount=_)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=pE(c,f.snapshotVersion.toTimestamp());const _=mh(c,f.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const s=TE(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=Xp(this.serializer),n.removeTarget=e,this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Oo(e,gh(n,s),a,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ye(se.UNKNOWN,c.toString())})}ko(e,n,s,a,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.ko(e,gh(n,s),a,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ye(se.UNKNOWN,f.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class aw{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(pr(n),this.C_=!1):ae("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(f=>{s.enqueueAndForget(async()=>{ua(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(g){const _=Le(g);_.k_.add(4),await la(_),_.K_.set("Unknown"),_.k_.delete(4),await au(_)}(this))})}),this.K_=new aw(s,a)}}async function au(i){if(ua(i))for(const e of i.q_)await e(!0)}async function la(i){for(const e of i.q_)await e(!1)}function xg(i,e){const n=Le(i);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),Wh(n)?qh(n):$s(n).s_()&&Hh(n,e))}function $h(i,e){const n=Le(i),s=$s(n);n.B_.delete(e),s.s_()&&Pg(n,e),n.B_.size===0&&(s.s_()?s.a_():ua(n)&&n.K_.set("Unknown"))}function Hh(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$s(i).V_(e)}function Pg(i,e){i.U_.xe(e),$s(i).m_(e)}function qh(i){i.U_=new uE({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.B_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),$s(i).start(),i.K_.F_()}function Wh(i){return ua(i)&&!$s(i).i_()&&i.B_.size>0}function ua(i){return Le(i).k_.size===0}function kg(i){i.U_=void 0}async function uw(i){i.K_.set("Online")}async function cw(i){i.B_.forEach((e,n)=>{Hh(i,e)})}async function hw(i,e){kg(i),Wh(i)?(i.K_.O_(e),qh(i)):i.K_.set("Unknown")}async function fw(i,e,n){if(i.K_.set("Online"),e instanceof gg&&e.state===2&&e.cause)try{await async function(a,c){const f=c.cause;for(const m of c.targetIds)a.B_.has(m)&&(await a.remoteSyncer.rejectListen(m,f),a.B_.delete(m),a.U_.removeTarget(m))}(i,e)}catch(s){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await rm(i,s)}else if(e instanceof Ml?i.U_.$e(e):e instanceof mg?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(we.min()))try{const s=await Cg(i.localStore);n.compareTo(s)>=0&&await function(c,f){const m=c.U_.it(f);return m.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const I=c.B_.get(_);I&&c.B_.set(_,I.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,_)=>{const I=c.B_.get(g);if(!I)return;c.B_.set(g,I.withResumeToken(xt.EMPTY_BYTE_STRING,I.snapshotVersion)),Pg(c,g);const P=new jr(I.target,g,_,I.sequenceNumber);Hh(c,P)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ae("RemoteStore","Failed to raise snapshot:",s),await rm(i,s)}}async function rm(i,e,n){if(!js(e))throw e;i.k_.add(1),await la(i),i.K_.set("Offline"),n||(n=()=>Cg(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await au(i)})}async function im(i,e){const n=Le(i);n.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const s=ua(n);n.k_.add(3),await la(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await au(n)}async function dw(i,e){const n=Le(i);e?(n.k_.delete(2),await au(n)):e||(n.k_.add(2),await la(n),n.K_.set("Unknown"))}function $s(i){return i.W_||(i.W_=function(n,s,a){const c=Le(n);return c.b_(),new sw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:uw.bind(null,i),mo:cw.bind(null,i),po:hw.bind(null,i),R_:fw.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),Wh(i)?qh(i):i.K_.set("Unknown")):(await i.W_.stop(),kg(i))})),i.W_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const f=Date.now()+s,m=new Kh(e,n,f,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dg(i,e){if(pr("AsyncQueue",`${e}: ${i}`),js(i))return new ye(se.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{static emptySet(e){return new Ds(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=$o(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ds)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ds;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(){this.z_=new ot(ve.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Ce():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ms{constructor(e,n,s,a,c,f,m,g,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,a,c){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Ms(e,n,Ds.emptySet(n),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class mw{constructor(){this.queries=om(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=Le(n),c=a.queries;a.queries=om(),c.forEach((f,m)=>{for(const g of m.J_)g.onError(s)})})(this,new ye(se.ABORTED,"Firestore shutting down"))}}function om(){return new Ni(i=>sg(i),nu)}async function gw(i,e){const n=Le(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.Y_()&&e.Z_()&&(s=2):(c=new pw,s=e.Z_()?0:1);try{switch(s){case 0:c.H_=await n.onListen(a,!0);break;case 1:c.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(f){const m=Dg(f,`Initialization of query '${Rs(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.J_.push(e),e.ea(n.onlineState),c.H_&&e.ta(c.H_)&&Qh(n)}async function yw(i,e){const n=Le(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const f=c.J_.indexOf(e);f>=0&&(c.J_.splice(f,1),c.J_.length===0?a=e.Z_()?0:1:!c.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function vw(i,e){const n=Le(i);let s=!1;for(const a of e){const c=a.query,f=n.queries.get(c);if(f){for(const m of f.J_)m.ta(a)&&(s=!0);f.H_=a}}s&&Qh(n)}function _w(i,e,n){const s=Le(i),a=s.queries.get(e);if(a)for(const c of a.J_)c.onError(n);s.queries.delete(e)}function Qh(i){i.X_.forEach(e=>{e.next()})}var vh,am;(am=vh||(vh={})).na="default",am.Cache="cache";class Ew{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Ms(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Ms.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==vh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e){this.key=e}}class Vg{constructor(e){this.key=e}}class ww{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Oe(),this.mutatedKeys=Oe(),this.Va=og(e),this.ma=new Ds(this.Va)}get fa(){return this.da}ga(e,n){const s=n?n.pa:new sm,a=n?n.ma:this.ma;let c=n?n.mutatedKeys:this.mutatedKeys,f=a,m=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,_=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((I,P)=>{const k=a.get(I),F=ru(this.query,P)?P:null,z=!!k&&this.mutatedKeys.has(k.key),H=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let j=!1;k&&F?k.data.isEqual(F.data)?z!==H&&(s.track({type:3,doc:F}),j=!0):this.ya(k,F)||(s.track({type:2,doc:F}),j=!0,(g&&this.Va(F,g)>0||_&&this.Va(F,_)<0)&&(m=!0)):!k&&F?(s.track({type:0,doc:F}),j=!0):k&&!F&&(s.track({type:1,doc:k}),j=!0,(g||_)&&(m=!0)),j&&(F?(f=f.add(F),c=H?c.add(I):c.delete(I)):(f=f.delete(I),c=c.delete(I)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const I=this.query.limitType==="F"?f.last():f.first();f=f.delete(I.key),c=c.delete(I.key),s.track({type:1,doc:I})}return{ma:f,pa:s,ss:m,mutatedKeys:c}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const f=e.pa.j_();f.sort((I,P)=>function(F,z){const H=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return H(F)-H(z)}(I.type,P.type)||this.Va(I.doc,P.doc)),this.wa(s),a=a!=null&&a;const m=n&&!a?this.Sa():[],g=this.Ra.size===0&&this.current&&!a?1:0,_=g!==this.Aa;return this.Aa=g,f.length!==0||_?{snapshot:new Ms(this.query,e.ma,c,f,e.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new sm,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Oe(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new Vg(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new Ng(s))}),n}va(e){this.da=e.ds,this.Ra=Oe();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Ms.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class Tw{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Sw{constructor(e){this.key=e,this.Fa=!1}}class Iw{constructor(e,n,s,a,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Ma={},this.xa=new Ni(m=>sg(m),nu),this.Oa=new Map,this.Na=new Set,this.La=new ot(ve.comparator),this.Ba=new Map,this.ka=new Bh,this.qa={},this.Qa=new Map,this.Ka=Os.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Cw(i,e,n=!0){const s=Ug(i);let a;const c=s.xa.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Ca()):a=await Lg(s,e,n,!0),a}async function Rw(i,e){const n=Ug(i);await Lg(n,e,!0,!1)}async function Lg(i,e,n,s){const a=await XE(i.localStore,jn(e)),c=a.targetId,f=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await Aw(i,e,c,f==="current",a.resumeToken)),i.isPrimaryClient&&n&&xg(i.remoteStore,a),m}async function Aw(i,e,n,s,a){i.Ua=(P,k,F)=>async function(H,j,Q,J){let te=j.view.ga(Q);te.ss&&(te=await em(H.localStore,j.query,!1).then(({documents:C})=>j.view.ga(C,te)));const de=J&&J.targetChanges.get(j.targetId),Ee=J&&J.targetMismatches.get(j.targetId)!=null,B=j.view.applyChanges(te,H.isPrimaryClient,de,Ee);return um(H,j.targetId,B.ba),B.snapshot}(i,P,k,F);const c=await em(i.localStore,e,!0),f=new ww(e,c.ds),m=f.ga(c.documents),g=aa.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),_=f.applyChanges(m,i.isPrimaryClient,g);um(i,n,_.ba);const I=new Tw(e,n,f);return i.xa.set(e,I),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),_.snapshot}async function xw(i,e,n){const s=Le(i),a=s.xa.get(e),c=s.Oa.get(a.targetId);if(c.length>1)return s.Oa.set(a.targetId,c.filter(f=>!nu(f,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await yh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&$h(s.remoteStore,a.targetId),_h(s,a.targetId)}).catch(Xl)):(_h(s,a.targetId),await yh(s.localStore,a.targetId,!0))}async function Pw(i,e){const n=Le(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),$h(n.remoteStore,s.targetId))}async function Fg(i,e){const n=Le(i);try{const s=await GE(n.localStore,e);e.targetChanges.forEach((a,c)=>{const f=n.Ba.get(c);f&&(Ze(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.Fa=!0:a.modifiedDocuments.size>0?Ze(f.Fa):a.removedDocuments.size>0&&(Ze(f.Fa),f.Fa=!1))}),await Mg(n,s,e)}catch(s){await Xl(s)}}function lm(i,e,n){const s=Le(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach((c,f)=>{const m=f.view.ea(e);m.snapshot&&a.push(m.snapshot)}),function(f,m){const g=Le(f);g.onlineState=m;let _=!1;g.queries.forEach((I,P)=>{for(const k of P.J_)k.ea(m)&&(_=!0)}),_&&Qh(g)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function kw(i,e,n){const s=Le(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Ba.get(e),c=a&&a.key;if(c){let f=new ot(ve.comparator);f=f.insert(c,Ft.newNoDocument(c,we.min()));const m=Oe().add(c),g=new ou(we.min(),new Map,new ot(Ve),f,m);await Fg(s,g),s.La=s.La.remove(c),s.Ba.delete(e),Gh(s)}else await yh(s.localStore,e,!1).then(()=>_h(s,e,n)).catch(Xl)}function _h(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||Og(i,s)})}function Og(i,e){i.Na.delete(e.path.canonicalString());const n=i.La.get(e);n!==null&&($h(i.remoteStore,n),i.La=i.La.remove(e),i.Ba.delete(n),Gh(i))}function um(i,e,n){for(const s of n)s instanceof Ng?(i.ka.addReference(s.key,e),Dw(i,s)):s instanceof Vg?(ae("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||Og(i,s.key)):Ce()}function Dw(i,e){const n=e.key,s=n.path.canonicalString();i.La.get(n)||i.Na.has(s)||(ae("SyncEngine","New document in limbo: "+n),i.Na.add(s),Gh(i))}function Gh(i){for(;i.Na.size>0&&i.La.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new ve(tt.fromString(e)),s=i.Ka.next();i.Ba.set(s,new Sw(n)),i.La=i.La.insert(n,s),xg(i.remoteStore,new jr(jn(Oh(n.path)),s,"TargetPurposeLimboResolution",Jl.oe))}}async function Mg(i,e,n){const s=Le(i),a=[],c=[],f=[];s.xa.isEmpty()||(s.xa.forEach((m,g)=>{f.push(s.Ua(g,e,n).then(_=>{var I;if((_||n)&&s.isPrimaryClient){const P=_?!_.fromCache:(I=n==null?void 0:n.targetChanges.get(g.targetId))===null||I===void 0?void 0:I.current;s.sharedClientState.updateQueryState(g.targetId,P?"current":"not-current")}if(_){a.push(_);const P=jh.zi(g.targetId,_);c.push(P)}}))}),await Promise.all(f),s.Ma.R_(a),await async function(g,_){const I=Le(g);try{await I.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>K.forEach(_,k=>K.forEach(k.Wi,F=>I.persistence.referenceDelegate.addReference(P,k.targetId,F)).next(()=>K.forEach(k.Gi,F=>I.persistence.referenceDelegate.removeReference(P,k.targetId,F)))))}catch(P){if(!js(P))throw P;ae("LocalStore","Failed to update sequence numbers: "+P)}for(const P of _){const k=P.targetId;if(!P.fromCache){const F=I.us.get(k),z=F.snapshotVersion,H=F.withLastLimboFreeSnapshotVersion(z);I.us=I.us.insert(k,H)}}}(s.localStore,c))}async function Nw(i,e){const n=Le(i);if(!n.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const s=await Ig(n.localStore,e);n.currentUser=e,function(c,f){c.Qa.forEach(m=>{m.forEach(g=>{g.reject(new ye(se.CANCELLED,f))})}),c.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Mg(n,s.Ts)}}function Vw(i,e){const n=Le(i),s=n.Ba.get(e);if(s&&s.Fa)return Oe().add(s.key);{let a=Oe();const c=n.Oa.get(e);if(!c)return a;for(const f of c){const m=n.xa.get(f);a=a.unionWith(m.view.fa)}return a}}function Ug(i){const e=Le(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kw.bind(null,e),e.Ma.R_=vw.bind(null,e.eventManager),e.Ma.Wa=_w.bind(null,e.eventManager),e}class Kl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rg(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return QE(this.persistence,new WE,e.initialUser,this.serializer)}ja(e){return new Sg(bh.ei,this.serializer)}za(e){return new ZE}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kl.provider={build:()=>new Kl};class Lw extends Kl{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Ze(this.persistence.referenceDelegate instanceof Wl);const s=this.persistence.referenceDelegate.garbageCollector;return new DE(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Gt.withCacheSize(this.cacheSizeBytes):Gt.DEFAULT;return new Sg(s=>Wl.ei(s,n),this.serializer)}}class Eh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>lm(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Nw.bind(null,this.syncEngine),await dw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mw}()}createDatastore(e){const n=Rg(e.databaseInfo.databaseId),s=function(c){return new rw(c)}(e.databaseInfo);return function(c,f,m,g){return new ow(c,f,m,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,f,m){return new lw(s,a,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>lm(this.syncEngine,n,0),function(){return nm.p()?new nm:new ew}())}createSyncEngine(e,n){return function(a,c,f,m,g,_,I){const P=new Iw(a,c,f,m,g,_);return I&&(P.$a=!0),P}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=Le(a);ae("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await la(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Eh.provider={build:()=>new Eh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Lt.UNAUTHENTICATED,this.clientId=Xm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{ae("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ae("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Dg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Gc(i,e){i.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Ig(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function cm(i,e){i.asyncQueue.verifyOperationInProgress();const n=await Mw(i);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>im(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>im(e.remoteStore,a)),i._onlineComponents=e}async function Mw(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await Gc(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Ns("Error using user provided cache. Falling back to memory cache: "+n),await Gc(i,new Kl)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await Gc(i,new Lw(void 0));return i._offlineComponents}async function Uw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await cm(i,i._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await cm(i,new Eh))),i._onlineComponents}async function zw(i){const e=await Uw(i),n=e.eventManager;return n.onListen=Cw.bind(null,e.syncEngine),n.onUnlisten=xw.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Rw.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Pw.bind(null,e.syncEngine),n}function Bw(i,e,n={}){const s=new xi;return i.asyncQueue.enqueueAndForget(async()=>function(c,f,m,g,_){const I=new Fw({next:k=>{I.eu(),f.enqueueAndForget(()=>yw(c,P));const F=k.docs.has(m);!F&&k.fromCache?_.reject(new ye(se.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&k.fromCache&&g&&g.source==="server"?_.reject(new ye(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(k)},error:k=>_.reject(k)}),P=new Ew(Oh(m.path),I,{includeMetadataChanges:!0,ua:!0});return gw(c,P)}(await zw(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(i,e,n){if(!n)throw new ye(se.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function jw(i,e,n,s){if(e===!0&&s===!0)throw new ye(se.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function fm(i){if(!ve.isDocumentKey(i))throw new ye(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function $w(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ce()}function wh(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ye(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$w(i);throw new ye(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ye(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zg((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yh{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dm(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new l1;switch(s.type){case"firstParty":return new f1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=hm.get(n);s&&(ae("ComponentProvider","Removing Datastore"),hm.delete(n),s.terminate())}(this),Promise.resolve()}}function Hw(i,e,n,s={}){var a;const c=(i=wh(i,Yh))._getSettings(),f=`${e}:${n}`;if(c.host!=="firestore.googleapis.com"&&c.host!==f&&Ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),s.mockUserToken){let m,g;if(typeof s.mockUserToken=="string")m=s.mockUserToken,g=Lt.MOCK_USER;else{m=jv(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new ye(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Lt(_)}i._authCredentials=new u1(new Ym(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Xh(this.firestore,e,this._query)}}class fr{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fr(this.firestore,e,this._key)}}class na extends Xh{constructor(e,n,s){super(e,n,Oh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fr(this.firestore,null,new ve(e))}withConverter(e){return new na(this.firestore,e,this._path)}}function qw(i,e,...n){if(i=Xv(i),arguments.length===1&&(e=Xm.newId()),bw("doc","path",e),i instanceof Yh){const s=tt.fromString(e,...n);return fm(s),new fr(i,null,new ve(s))}{if(!(i instanceof fr||i instanceof na))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return fm(s),new fr(i.firestore,i instanceof na?i.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Ag(this,"async_queue_retry"),this.fu=()=>{const s=Qc();s&&ae("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=Qc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=Qc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new xi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!js(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw pr("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=Kh.createAndSchedule(this,e,n,s,c=>this.Su(c));return this.du.push(a),a}pu(){this.Au&&Ce()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class Bg extends Yh{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new pm,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pm(e),this._firestoreClient=void 0,await e}}}function Ww(i,e){const n=typeof i=="object"?i:J_(),s=typeof i=="string"?i:"(default)",a=Q_(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=Bv("firestore");c&&Hw(a,...c)}return a}function Kw(i){if(i._terminated)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Qw(i),i._firestoreClient}function Qw(i){var e,n,s;const a=i._freezeSettings(),c=function(m,g,_,I){return new A1(m,g,_,I.host,I.ssl,I.experimentalForceLongPolling,I.experimentalAutoDetectLongPolling,zg(I.experimentalLongPollingOptions),I.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new Ow(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ql(xt.fromBase64String(e))}catch(n){throw new ye(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ql(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}const Xw=new RegExp("[~\\*/\\[\\]]");function Jw(i,e,n){if(e.search(Xw)>=0)throw mm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i);try{return new bg(...e.split("."))._internalPath}catch{throw mm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i)}}function mm(i,e,n,s,a){let c=`Function ${e}() called with invalid data`;c+=". ";let f="";return new ye(se.INVALID_ARGUMENT,c+i+f)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new fr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Zw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($g("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Zw extends jg{data(){return super.data()}}function $g(i,e){return typeof e=="string"?Jw(i,e):e instanceof bg?e._internalPath:e._delegate._internalPath}class eT{convertValue(e,n="none"){switch(Gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return oa(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(f=>st(f.doubleValue));return new Yw(c)}convertGeoPoint(e){return new Gw(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=eu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Zo(e));default:return null}}convertTimestamp(e){const n=Kr(e);return new Yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Ze(Tg(s));const a=new ea(s.get(1),s.get(3)),c=new ve(s.popFirst(5));return a.isEqual(n)||pr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hg extends jg{constructor(e,n,s,a,c,f){super(e,n,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field($g("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class nT extends Hg{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(i){i=wh(i,fr);const e=wh(i.firestore,Bg);return Bw(Kw(e),i._key).then(n=>sT(e,i,n))}class iT extends eT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ql(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fr(this.firestore,null,n)}}function sT(i,e,n){const s=n.docs.get(e._key),a=new iT(i);return new Hg(i,a,e._key,s,new tT(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){bs=a})(X_),bl(new Yo("firestore",(s,{instanceIdentifier:a,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new Bg(new c1(s.getProvider("auth-internal")),new p1(s.getProvider("app-check-internal")),function(_,I){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ye(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ea(_.options.projectId,I)}(f,a),f);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Ps(Dp,"4.7.5",e),Ps(Dp,"4.7.5","esm2017")})();var Yc={exports:{}};const oT={},aT=Object.freeze(Object.defineProperty({__proto__:null,default:oT},Symbol.toStringTag,{value:"Module"})),gm=Qy(aT);/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.11.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2024
 * @license MIT
 */var ym;function lT(){return ym||(ym=1,function(i){(function(){var e="input is invalid type",n=typeof window=="object",s=n?window:{};s.JS_SHA256_NO_WINDOW&&(n=!1);var a=!n&&typeof self=="object",c=!s.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;c?s=Ky:a&&(s=self);var f=!s.JS_SHA256_NO_COMMON_JS&&!0&&i.exports,m=!s.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",g="0123456789abcdef".split(""),_=[-2147483648,8388608,32768,128],I=[24,16,8,0],P=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],k=["hex","array","digest","arrayBuffer"],F=[];(s.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(B){return Object.prototype.toString.call(B)==="[object Array]"}),m&&(s.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(B){return typeof B=="object"&&B.buffer&&B.buffer.constructor===ArrayBuffer});var z=function(B,C){return function(S){return new te(C,!0).update(S)[B]()}},H=function(B){var C=z("hex",B);c&&(C=j(C,B)),C.create=function(){return new te(B)},C.update=function(A){return C.create().update(A)};for(var S=0;S<k.length;++S){var T=k[S];C[T]=z(T,B)}return C},j=function(B,C){var S=gm,T=gm.Buffer,A=C?"sha224":"sha256",R;T.from&&!s.JS_SHA256_NO_BUFFER_FROM?R=T.from:R=function(w){return new T(w)};var N=function(w){if(typeof w=="string")return S.createHash(A).update(w,"utf8").digest("hex");if(w==null)throw new Error(e);return w.constructor===ArrayBuffer&&(w=new Uint8Array(w)),Array.isArray(w)||ArrayBuffer.isView(w)||w.constructor===T?S.createHash(A).update(R(w)).digest("hex"):B(w)};return N},Q=function(B,C){return function(S,T){return new de(S,C,!0).update(T)[B]()}},J=function(B){var C=Q("hex",B);C.create=function(A){return new de(A,B)},C.update=function(A,R){return C.create(A).update(R)};for(var S=0;S<k.length;++S){var T=k[S];C[T]=Q(T,B)}return C};function te(B,C){C?(F[0]=F[16]=F[1]=F[2]=F[3]=F[4]=F[5]=F[6]=F[7]=F[8]=F[9]=F[10]=F[11]=F[12]=F[13]=F[14]=F[15]=0,this.blocks=F):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=B}te.prototype.update=function(B){if(!this.finalized){var C,S=typeof B;if(S!=="string"){if(S==="object"){if(B===null)throw new Error(e);if(m&&B.constructor===ArrayBuffer)B=new Uint8Array(B);else if(!Array.isArray(B)&&(!m||!ArrayBuffer.isView(B)))throw new Error(e)}else throw new Error(e);C=!0}for(var T,A=0,R,N=B.length,w=this.blocks;A<N;){if(this.hashed&&(this.hashed=!1,w[0]=this.block,this.block=w[16]=w[1]=w[2]=w[3]=w[4]=w[5]=w[6]=w[7]=w[8]=w[9]=w[10]=w[11]=w[12]=w[13]=w[14]=w[15]=0),C)for(R=this.start;A<N&&R<64;++A)w[R>>>2]|=B[A]<<I[R++&3];else for(R=this.start;A<N&&R<64;++A)T=B.charCodeAt(A),T<128?w[R>>>2]|=T<<I[R++&3]:T<2048?(w[R>>>2]|=(192|T>>>6)<<I[R++&3],w[R>>>2]|=(128|T&63)<<I[R++&3]):T<55296||T>=57344?(w[R>>>2]|=(224|T>>>12)<<I[R++&3],w[R>>>2]|=(128|T>>>6&63)<<I[R++&3],w[R>>>2]|=(128|T&63)<<I[R++&3]):(T=65536+((T&1023)<<10|B.charCodeAt(++A)&1023),w[R>>>2]|=(240|T>>>18)<<I[R++&3],w[R>>>2]|=(128|T>>>12&63)<<I[R++&3],w[R>>>2]|=(128|T>>>6&63)<<I[R++&3],w[R>>>2]|=(128|T&63)<<I[R++&3]);this.lastByteIndex=R,this.bytes+=R-this.start,R>=64?(this.block=w[16],this.start=R-64,this.hash(),this.hashed=!0):this.start=R}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},te.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var B=this.blocks,C=this.lastByteIndex;B[16]=this.block,B[C>>>2]|=_[C&3],this.block=B[16],C>=56&&(this.hashed||this.hash(),B[0]=this.block,B[16]=B[1]=B[2]=B[3]=B[4]=B[5]=B[6]=B[7]=B[8]=B[9]=B[10]=B[11]=B[12]=B[13]=B[14]=B[15]=0),B[14]=this.hBytes<<3|this.bytes>>>29,B[15]=this.bytes<<3,this.hash()}},te.prototype.hash=function(){var B=this.h0,C=this.h1,S=this.h2,T=this.h3,A=this.h4,R=this.h5,N=this.h6,w=this.h7,pe=this.blocks,Re,Be,Ie,ee,ne,ie,L,q,he,Te,Se;for(Re=16;Re<64;++Re)ne=pe[Re-15],Be=(ne>>>7|ne<<25)^(ne>>>18|ne<<14)^ne>>>3,ne=pe[Re-2],Ie=(ne>>>17|ne<<15)^(ne>>>19|ne<<13)^ne>>>10,pe[Re]=pe[Re-16]+Be+pe[Re-7]+Ie<<0;for(Se=C&S,Re=0;Re<64;Re+=4)this.first?(this.is224?(q=300032,ne=pe[0]-1413257819,w=ne-150054599<<0,T=ne+24177077<<0):(q=704751109,ne=pe[0]-210244248,w=ne-1521486534<<0,T=ne+143694565<<0),this.first=!1):(Be=(B>>>2|B<<30)^(B>>>13|B<<19)^(B>>>22|B<<10),Ie=(A>>>6|A<<26)^(A>>>11|A<<21)^(A>>>25|A<<7),q=B&C,ee=q^B&S^Se,L=A&R^~A&N,ne=w+Ie+L+P[Re]+pe[Re],ie=Be+ee,w=T+ne<<0,T=ne+ie<<0),Be=(T>>>2|T<<30)^(T>>>13|T<<19)^(T>>>22|T<<10),Ie=(w>>>6|w<<26)^(w>>>11|w<<21)^(w>>>25|w<<7),he=T&B,ee=he^T&C^q,L=w&A^~w&R,ne=N+Ie+L+P[Re+1]+pe[Re+1],ie=Be+ee,N=S+ne<<0,S=ne+ie<<0,Be=(S>>>2|S<<30)^(S>>>13|S<<19)^(S>>>22|S<<10),Ie=(N>>>6|N<<26)^(N>>>11|N<<21)^(N>>>25|N<<7),Te=S&T,ee=Te^S&B^he,L=N&w^~N&A,ne=R+Ie+L+P[Re+2]+pe[Re+2],ie=Be+ee,R=C+ne<<0,C=ne+ie<<0,Be=(C>>>2|C<<30)^(C>>>13|C<<19)^(C>>>22|C<<10),Ie=(R>>>6|R<<26)^(R>>>11|R<<21)^(R>>>25|R<<7),Se=C&S,ee=Se^C&T^Te,L=R&N^~R&w,ne=A+Ie+L+P[Re+3]+pe[Re+3],ie=Be+ee,A=B+ne<<0,B=ne+ie<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+B<<0,this.h1=this.h1+C<<0,this.h2=this.h2+S<<0,this.h3=this.h3+T<<0,this.h4=this.h4+A<<0,this.h5=this.h5+R<<0,this.h6=this.h6+N<<0,this.h7=this.h7+w<<0},te.prototype.hex=function(){this.finalize();var B=this.h0,C=this.h1,S=this.h2,T=this.h3,A=this.h4,R=this.h5,N=this.h6,w=this.h7,pe=g[B>>>28&15]+g[B>>>24&15]+g[B>>>20&15]+g[B>>>16&15]+g[B>>>12&15]+g[B>>>8&15]+g[B>>>4&15]+g[B&15]+g[C>>>28&15]+g[C>>>24&15]+g[C>>>20&15]+g[C>>>16&15]+g[C>>>12&15]+g[C>>>8&15]+g[C>>>4&15]+g[C&15]+g[S>>>28&15]+g[S>>>24&15]+g[S>>>20&15]+g[S>>>16&15]+g[S>>>12&15]+g[S>>>8&15]+g[S>>>4&15]+g[S&15]+g[T>>>28&15]+g[T>>>24&15]+g[T>>>20&15]+g[T>>>16&15]+g[T>>>12&15]+g[T>>>8&15]+g[T>>>4&15]+g[T&15]+g[A>>>28&15]+g[A>>>24&15]+g[A>>>20&15]+g[A>>>16&15]+g[A>>>12&15]+g[A>>>8&15]+g[A>>>4&15]+g[A&15]+g[R>>>28&15]+g[R>>>24&15]+g[R>>>20&15]+g[R>>>16&15]+g[R>>>12&15]+g[R>>>8&15]+g[R>>>4&15]+g[R&15]+g[N>>>28&15]+g[N>>>24&15]+g[N>>>20&15]+g[N>>>16&15]+g[N>>>12&15]+g[N>>>8&15]+g[N>>>4&15]+g[N&15];return this.is224||(pe+=g[w>>>28&15]+g[w>>>24&15]+g[w>>>20&15]+g[w>>>16&15]+g[w>>>12&15]+g[w>>>8&15]+g[w>>>4&15]+g[w&15]),pe},te.prototype.toString=te.prototype.hex,te.prototype.digest=function(){this.finalize();var B=this.h0,C=this.h1,S=this.h2,T=this.h3,A=this.h4,R=this.h5,N=this.h6,w=this.h7,pe=[B>>>24&255,B>>>16&255,B>>>8&255,B&255,C>>>24&255,C>>>16&255,C>>>8&255,C&255,S>>>24&255,S>>>16&255,S>>>8&255,S&255,T>>>24&255,T>>>16&255,T>>>8&255,T&255,A>>>24&255,A>>>16&255,A>>>8&255,A&255,R>>>24&255,R>>>16&255,R>>>8&255,R&255,N>>>24&255,N>>>16&255,N>>>8&255,N&255];return this.is224||pe.push(w>>>24&255,w>>>16&255,w>>>8&255,w&255),pe},te.prototype.array=te.prototype.digest,te.prototype.arrayBuffer=function(){this.finalize();var B=new ArrayBuffer(this.is224?28:32),C=new DataView(B);return C.setUint32(0,this.h0),C.setUint32(4,this.h1),C.setUint32(8,this.h2),C.setUint32(12,this.h3),C.setUint32(16,this.h4),C.setUint32(20,this.h5),C.setUint32(24,this.h6),this.is224||C.setUint32(28,this.h7),B};function de(B,C,S){var T,A=typeof B;if(A==="string"){var R=[],N=B.length,w=0,pe;for(T=0;T<N;++T)pe=B.charCodeAt(T),pe<128?R[w++]=pe:pe<2048?(R[w++]=192|pe>>>6,R[w++]=128|pe&63):pe<55296||pe>=57344?(R[w++]=224|pe>>>12,R[w++]=128|pe>>>6&63,R[w++]=128|pe&63):(pe=65536+((pe&1023)<<10|B.charCodeAt(++T)&1023),R[w++]=240|pe>>>18,R[w++]=128|pe>>>12&63,R[w++]=128|pe>>>6&63,R[w++]=128|pe&63);B=R}else if(A==="object"){if(B===null)throw new Error(e);if(m&&B.constructor===ArrayBuffer)B=new Uint8Array(B);else if(!Array.isArray(B)&&(!m||!ArrayBuffer.isView(B)))throw new Error(e)}else throw new Error(e);B.length>64&&(B=new te(C,!0).update(B).array());var Re=[],Be=[];for(T=0;T<64;++T){var Ie=B[T]||0;Re[T]=92^Ie,Be[T]=54^Ie}te.call(this,C,S),this.update(Be),this.oKeyPad=Re,this.inner=!0,this.sharedMemory=S}de.prototype=new te,de.prototype.finalize=function(){if(te.prototype.finalize.call(this),this.inner){this.inner=!1;var B=this.array();te.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(B),te.prototype.finalize.call(this)}};var Ee=H();Ee.sha256=Ee,Ee.sha224=H(!0),Ee.sha256.hmac=J(),Ee.sha224.hmac=J(!0),f?i.exports=Ee:(s.sha256=Ee.sha256,s.sha224=Ee.sha224)})()}(Yc)),Yc.exports}var uT=lT(),cT="firebase",hT="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ps(cT,hT,"app");const fT={apiKey:"AIzaSyAdhprs141GzMI-ZbeX7V_5GR_JZSvocvw",authDomain:"monitoringperalatanlistrik.firebaseapp.com",databaseURL:"https://monitoringperalatanlistrik-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"monitoringperalatanlistrik",storageBucket:"monitoringperalatanlistrik.firebasestorage.app",messagingSenderId:"656687196989",appId:"1:656687196989:web:f29e3d8729a748cb687354",measurementId:"G-TEVXT6Y02N"},dT=bm(fT),pT=Ww(dT);function mT(){const[i,e]=W.useState({id:0,username:"",password:"",fullname:"",picture:""}),[n,s]=W.useState(""),[a,c]=W.useState(!0),[f,m]=W.useState(!1),g=Ih(),_=P=>{const k=P.target.name,F=P.target.value;e(z=>({...z,[k]:F}))},I=async()=>{const P=i.username,k=uT.sha256(i.password),F=qw(pT,"users",P),z=(await rT(F)).data();z==null?s("User is not exist"):z.username!=P?s("Username is not valid"):z.password!=k?s("Password is not match"):P==z.username&&k==z.password?(g("/dashboard"),s("")):s("Username or password is not valid")};return W.useEffect(()=>{const P=i.username==""||i.password=="";c(P)},[i,f]),it.jsxs("div",{className:"login-page",children:[it.jsx("img",{src:xv,className:"absolute w-[100vw] h-[100vh]  object-cover lg:-left-[15%]",alt:""}),it.jsxs("div",{className:"login-form shadow-3xl border-gray-400 border-[1px] text-left w-[22rem] lg:w-96",children:[it.jsxs("div",{className:"flex items-start flex-col gap-4 ",children:[it.jsx("h1",{className:"font-bold text-[2rem]",children:"Sign In"}),it.jsx("p",{className:"text-[1rem]",children:"Masuk untuk akses dashboard monitoring"})]}),it.jsx("input",{name:"username",type:"text",placeholder:"Username",className:"w-full border-black border-[1.5px] rounded-xl h-[3.75rem] p-2 focus:border-blue-500",onChange:_}),it.jsxs("div",{className:"flex flex-row w-full items-center",children:[it.jsx("input",{name:"password",type:f?"text":"password",placeholder:"Password",className:"w-full border-black border-[1.5px] rounded-xl h-[3.75rem] p-2 focus:border-blue-500",onChange:_}),it.jsx("img",{src:f?Pv:kv,className:"absolute flex w-[30px] h-[30px] right-10",onClick:()=>m(!f)})]}),n!=""&&it.jsx("p",{className:"text-red-500 font-bold self-center",children:n}),it.jsx("button",{className:"bg-button-blue text-white w-40 h-12 rounded-xl self-center font-bold text-[1.25rem] disabled:bg-gray-500",disabled:a,onClick:I,children:"Sign In"})]})]})}function gT(){return it.jsx(yv,{children:it.jsxs(K0,{children:[it.jsx(Jc,{path:"/tools-monitoring-web/",element:it.jsx(mT,{})}),it.jsx(Jc,{path:"/dashboard",element:it.jsx(Av,{})})]})})}r0.createRoot(document.getElementById("root")).render(it.jsx(W.StrictMode,{children:it.jsx(gT,{})}));
